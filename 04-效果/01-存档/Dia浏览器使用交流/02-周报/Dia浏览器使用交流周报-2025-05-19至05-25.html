<html lang="zh-CN" style=""><head>
    <style id="__________cytoscape_stylesheet">.__________cytoscape_container { position: relative; }</style><meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dia浏览器使用交流群周报 - 2025年5月19日至5月25日</title>
    <link rel="stylesheet" href="https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/tailwindcss/2.2.19/tailwind.min.css">
    <link rel="stylesheet" href="https://lf6-cdn-tos.bytecdntp.com/cdn/expire-100-M/font-awesome/6.0.0/css/all.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&amp;display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js" xintegrity="sha512-BNaRQnYJYiPSqHHDb58B0yaPfCu+Wgds8Gp/gU33kqBtgNS4tSPHuGibyoVBL5rLesXWW/sGuLhYFChxgYnz2Q==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js"></script>
    <style>
        :root {
            /* 极简主义风格配色 (from report) */
            --bg-primary: #f5f4ee; /* 略暖的米白色 */
            --bg-secondary: #faf9f6; /* 更浅的卡片背景色 */
            --bg-tertiary: #f1f3f5; /* 第三背景色，用于标签等 */
            --text-primary: #212529; /* 主要文字颜色 */
            --text-secondary: #495057; /* 次要文字颜色 */
            --accent-primary: #ff8906; /* 主要强调色 - 橙色 */
            --accent-secondary: #f76707; /* 次要强调色 - 深橙色 */
            --accent-tertiary: #e8590c; /* 第三强调色 - 焦橙色 */
            --accent-blue: #339af0;     /* 特定元素的蓝色强调 */
            --accent-purple: #7048e8; /* 词云的紫色强调 */
            --accent-cyan: #22b8cf;     /* 词云的青色强调 */
            --highlight-keyword-bg: #ffe8cc; /* 关键词高亮背景 */
            --highlight-name-color: #7048e8; /* 人名高亮颜色 */
            --card-padding: 24px; /* 卡片内边距 */
            --grid-gap: 16px; /* 网格间距 */
            --card-radius: 12px; /* 卡片圆角 */
            --card-shadow: 0 4px 6px rgba(0, 0, 0, 0.05); /* 卡片阴影 */
            --font-family: 'Inter', 'SF Pro Display', 'Segoe UI', sans-serif; /* 定义字体变量 */
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: var(--font-family); /* 使用字体变量 */
            background-color: var(--bg-primary);
            color: var(--text-primary);
            line-height: 1.6;
            font-size: 16px;
            width: 100%;
            max-width: 1000px; /* 内容最大宽度 */
            margin: 0 auto; /* 内容居中 */
            padding: 20px; /* 内容周围内边距 */
        }
        body.modal-active {
            overflow: hidden; /* Prevent body scroll when modal is open */
        }

        h1, h2, h3, h4 {
            font-weight: 600;
            letter-spacing: 0.5px;
        }

        h1 {
            font-size: 2.5rem; /* 主卡片大标题 */
            margin-bottom: 0.5rem;
            color: var(--accent-primary);
        }

        h2 { /* H2通用样式, 也用于主题卡片 */
            font-size: 1.75rem; /* 版块标题 */
            margin-bottom: 1rem;
            color: var(--accent-primary); /* 区块和主题卡片标题颜色 */
        }
        h2 i { margin-right: 8px; } /* Icon spacing for H2 */

        h3 { /* 用于子标题或特定元素，如统计卡片 */
            font-size: 1.25rem; /* 子版块标题 */
            margin-bottom: 0.75rem;
            color: var(--accent-blue); /* 子标题使用蓝色以形成对比 */
        }

        .grid-container {
            display: grid;
            grid-template-columns: repeat(12, 1fr); /* 12列网格系统 */
            grid-auto-rows: minmax(100px, auto); /* 行高根据内容自动调整, 至少100px */
            gap: var(--grid-gap);
            margin-top: 20px;
            grid-template-areas: /* 更新的网格区域 */
                "main      main      main      main      main      main      main      main      main      main      main      main"
                "topics    topics    topics    topics    topics    topics    topics    topics    topics    topics    topics    topics"
                "mindmap   mindmap   mindmap   mindmap   mindmap   mindmap   mindmap   mindmap   mindmap   mindmap   mindmap   mindmap"
                "stats     stats     stats     stats     wordcloud wordcloud wordcloud wordcloud quote     quote     quote     quote"
                "tools     tools     tools     tools     tools     tools     links     links     links     links     links     links"
                "solutions solutions solutions solutions solutions solutions trends    trends    trends    trends    trends    trends";
        }

        .card {
            background-color: var(--bg-secondary);
            border-radius: var(--card-radius);
            padding: var(--card-padding);
            box-shadow: var(--card-shadow);
            position: relative; /* 用于图标定位和伪元素 */
            overflow: hidden; /* 确保伪元素不超出卡片圆角 */
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            display: flex; /* 为卡片内flex布局添加 */
            flex-direction: column; /* 垂直堆叠项目 */
        }

        .card:hover {
            transform: translateY(-5px); /* 鼠标悬停时轻微上浮效果 */
            box-shadow: 0 8px 15px rgba(0, 0, 0, 0.1); /* 鼠标悬停时增强阴影 */
        }

        /* 卡片顶部强调边框 */
        .card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 3px;
            background: var(--accent-primary);
        }

        /* 卡片右下角装饰性图标 */
        .card-icon {
            position: absolute;
            bottom: var(--card-padding);
            right: var(--card-padding);
            font-size: 4rem;
            opacity: 0.07;
            color: var(--accent-primary);
            z-index: 0; /* Ensure it's behind content if necessary */
        }

        /* 网格区域分配 */
        .main-card { grid-area: main; }
        .topic-cards-wrapper {
            grid-area: topics;
            display: grid;
            grid-template-columns: repeat(12, 1fr);
            gap: var(--grid-gap);
        }
        .mindmap-card-container { grid-area: mindmap; } /* Container for the mindmap card */
        .quote-card { grid-area: quote; }
        .links-card { grid-area: links; }
        .stats-card { grid-area: stats; }
        .wordcloud-card { grid-area: wordcloud; }
        .tools-card { grid-area: tools; }
        .solutions-card { grid-area: solutions; }
        .trends-card { grid-area: trends; }


        .topic-card {
            grid-column: span 6; /* 默认占据6列 */
            min-height: 250px;
        }
        .topic-card > .topic-card-content-wrapper {
            flex-grow: 1; 
            padding-bottom: 1rem; 
        }
        .topic-cards-wrapper > .topic-card:nth-last-child(1):nth-child(odd) {
            grid-column: span 12;
        }

        .main-card h1 { text-align: center; }
        .main-card .date { text-align: center; }
        .date { font-size: 1.1rem; color: var(--text-secondary); margin-bottom: 1rem; }
        .meta-info { display: flex; flex-wrap: wrap; gap: 10px; margin-bottom: 1rem; justify-content: center; align-items: center; }
        .meta-info span { background-color: var(--bg-tertiary); padding: 5px 10px; border-radius: 20px; font-size: 0.9rem; color: var(--accent-blue); display: inline-flex; align-items: center; }
        .meta-info span i { margin-right: 5px; }
        .summary { margin-top: 1rem; line-height: 1.7; text-align: left; }
        .topic-category { display: inline-block; background-color: var(--accent-tertiary); color: var(--bg-primary); padding: 3px 8px; border-radius: 4px; font-size: 0.8rem; margin-bottom: 0.5rem; }
        .topic-keywords { display: flex; flex-wrap: wrap; gap: 8px; margin-top: 0.75rem; margin-bottom: 0.75rem; }
        .keyword { background-color: var(--bg-tertiary); color: var(--accent-primary); padding: 3px 8px; border-radius: 4px; font-size: 0.8rem; }
        .highlight-keyword { background-color: var(--highlight-keyword-bg); padding: 1px 2px; border-radius: 2px; font-weight: 500; display: inline; line-height: 1.2; box-decoration-break: clone; -webkit-box-decoration-break: clone; }
        .highlight-name { color: var(--highlight-name-color); font-weight: 500; }
        .topic-mentions { font-size: 0.9rem; color: var(--text-secondary); }
        .quote { position: relative; padding-left: 20px; margin: 10px 0; font-style: italic; color: var(--text-secondary); }
        .quote::before { content: '"'; position: absolute; left: 0; top: 0; font-size: 1.5rem; color: var(--accent-tertiary); }
        .quote-author { text-align: right; font-size: 0.9rem; color: var(--accent-tertiary); margin-top: 5px; }
        .link-item, .tool-item, .solution-item, .trend-item { display: flex; align-items: flex-start; margin-bottom: 10px; padding: 8px; border-radius: 6px; background-color: var(--bg-tertiary); transition: background-color 0.2s ease; text-decoration: none; }
        .link-item:hover, .tool-item:hover, .solution-item:hover, .trend-item:hover { background-color: rgba(51, 154, 240, 0.1); }
        .link-item a { text-decoration: none; color: inherit; display: flex; align-items: center; width: 100%; }
        .link-item a:hover .link-title { text-decoration: underline; color: var(--accent-blue); }
        .item-icon { margin-right: 10px; color: var(--accent-blue); margin-top: 3px; width: 20px; text-align: center;}
        .link-title, .item-content { flex-grow: 1; color: var(--text-primary); }
        .link-title.is-link { color: var(--accent-blue); }
        .link-title.is-link:hover { text-decoration: underline; }
        .solution-item strong, .tool-item strong { color: var(--accent-secondary); display: block; margin-bottom: 4px; }
        .solution-item ul { list-style-type: disc; padding-left: 20px; margin-top: 5px;}

        .user-stats-table { width: 100%; border-collapse: collapse; margin-top: 0.5rem; }
        .user-stats-table th { text-align: center; padding: 0.75rem 0.5rem; border-bottom: 2px solid var(--accent-primary); color: var(--text-primary); font-weight: 600; font-size: 0.9rem; }
        .user-stats-table td { padding: 0.75rem 0.5rem; border-bottom: 1px solid var(--bg-tertiary); color: var(--text-secondary); font-size: 0.85rem; vertical-align: top; text-align: left; }
        .user-stats-table .user-name-col { width: 25%; font-weight: 500; word-break: break-all; }
        .user-stats-table .message-count-col { text-align: center; width: 20%; white-space: nowrap; }
        .user-stats-table .contribution-col { width: 55%; word-break: break-all; }
        .user-stats-table tr:last-child td { border-bottom: none; }
        .wordcloud { display: flex; flex-wrap: wrap; justify-content: center; gap: 10px; padding: 20px 0; }
        .wordcloud-item { padding: 5px 10px; border-radius: 4px; font-weight: 500; transition: transform 0.2s ease; }
        .wordcloud-item:hover { transform: scale(1.1); }
        .size-1 { font-size: 0.9rem; color: var(--text-secondary); }
        .size-2 { font-size: 1.1rem; color: var(--accent-cyan); }
        .size-3 { font-size: 1.3rem; color: var(--accent-blue); }
        .size-4 { font-size: 1.5rem; color: var(--accent-purple); }
        .size-5 { font-size: 1.8rem; color: var(--accent-tertiary); }
        .action-buttons-container { text-align: center; margin: 20px 0; padding-bottom: 20px; }
        .action-button { background-color: var(--accent-primary); color: white; border: none; padding: 10px 20px; border-radius: var(--card-radius); font-size: 1rem; font-weight: 500; cursor: pointer; transition: background-color 0.3s ease, transform 0.2s ease; margin: 5px 10px; box-shadow: var(--card-shadow); display: inline-flex; align-items: center; justify-content: center; }
        .action-button:hover { background-color: var(--accent-secondary); transform: translateY(-2px); }
        .action-button i, .action-button .fas { margin-right: 8px; }
        .footer { margin-top: 30px; text-align: center; color: var(--text-secondary); font-size: 0.9rem; }
        #report-content-wrapper .footer { margin-top: 30px; padding-bottom: 20px; }

        /* Mermaid Diagram Specific Styles */
        .mindmap-card { /* This class is applied to the card holding the mindmap */
            min-height: 400px; /* Adjust as needed */
        }
        .mindmap-card h2 i { margin-right: 8px; }
        .mindmap-controls { display: flex; gap: 10px; margin-bottom: 15px; align-items: center; flex-wrap: wrap; }
        .mindmap-controls button { background-color: var(--accent-blue); color: white; border: none; padding: 8px 12px; border-radius: var(--card-radius); font-size: 0.9rem; cursor: pointer; transition: background-color 0.2s ease; font-weight: 500; display: inline-flex; align-items: center; justify-content: center; }
        .mindmap-controls button:hover { background-color: #228be6; /* Darker blue for hover */ }
        .mindmap-controls button i { margin-right: 5px; }
        .mindmap-controls .fullscreen-toggle-btn { margin-left: auto; }
        .mermaid-container { flex-grow: 1; display: flex; justify-content: center; align-items: center; overflow: auto; background-color: #fff; border-radius: 8px; padding: 10px; border: 1px solid var(--bg-tertiary); min-height: 300px; cursor: grab; }
        .mermaid-container.dragging { cursor: grabbing; }
        .mermaid-container:empty::before { content: "在此处生成或粘贴Mermaid导图代码。"; color: var(--text-secondary); font-style: italic; text-align: center; padding: 20px; }
        .mermaid-container svg { max-width: none; height: auto; display: block; transition: transform 0.2s ease-out; }

        /* Feedback messages for Mermaid */
        #mermaid-main-feedback-message, #mermaid-modal-feedback-message { text-align: center; margin-top: 15px; padding: 8px; border-radius: 4px; font-weight: 500; font-size: 0.9rem; display: none; }
        #mermaid-main-feedback-message.success, #mermaid-modal-feedback-message.success { color: #155724; background-color: #d4edda; border: 1px solid #c3e6cb; display: block; }
        #mermaid-main-feedback-message.error, #mermaid-modal-feedback-message.error { color: #721c24; background-color: #f8d7da; border: 1px solid #f5c6cb; display: block; }
        #mermaid-main-feedback-message.info, #mermaid-modal-feedback-message.info { color: #0c5460; background-color: #d1ecf1; border: 1px solid #bee5eb; display: block; }
        
        /* Report's own feedback message styling */
        #feedback-message { text-align: center; margin-top: 10px; font-weight: 500; }
        #feedback-message.success { color: green; }
        #feedback-message.error { color: red; }

        /* Fullscreen Modal Styles for Mermaid */
        .modal-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0, 0, 0, 0.75); display: none; justify-content: center; align-items: center; z-index: 1000; padding: 20px; }
        .modal-overlay.active { display: flex; }
        .modal-content { /* This class is also used by the Mermaid modal's inner card */
            width: 95%; height: 90%; max-width: 1200px; 
        }
        .modal-close-btn { position: absolute; top: 15px; right: 20px; background: none; border: none; font-size: 2.2rem; color: var(--text-secondary); cursor: pointer; line-height: 1; padding: 5px; z-index: 1010; }
        .modal-close-btn:hover { color: var(--text-primary); }
        #modalMermaidContainer { flex-grow: 1; min-height: 0; /* Ensure it uses space within modal-content */ }
        #modalMermaidContainer:empty::before { content: "导图内容将在此显示。"; color: var(--text-secondary); font-style: italic; text-align: center; padding: 20px; display: flex; justify-content: center; align-items: center; height: 100%; }

        @keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
        .card { animation: fadeIn 0.5s ease forwards; }
        .main-card { animation-delay: 0.1s; }
        .topic-cards-wrapper .topic-card { animation-delay: calc(0.2s + var(--animation-order) * 0.05s); } /* Staggered animation for topic cards */
        .mindmap-card-container .card { animation-delay: 0.6s; }
        .stats-card { animation-delay: 0.65s; }
        .wordcloud-card { animation-delay: 0.7s; }
        .quote-card { animation-delay: 0.75s; }
        .tools-card { animation-delay: 0.8s; }
        .links-card { animation-delay: 0.85s; }
        .solutions-card { animation-delay: 0.9s; }
        .trends-card { animation-delay: 0.95s; }
        #report-content-wrapper .footer { animation: fadeIn 0.5s ease forwards; animation-delay: 1.0s; }
        .action-buttons-container { animation: fadeIn 0.5s ease forwards; animation-delay: 1.1s; }


        @media (max-width: 992px) { /* Adjusted breakpoint for better card distribution */
             .grid-container {
                grid-template-areas:
                  "main      main      main      main      main      main      main      main      main      main      main      main"
                  "topics    topics    topics    topics    topics    topics    topics    topics    topics    topics    topics    topics"
                  "mindmap   mindmap   mindmap   mindmap   mindmap   mindmap   mindmap   mindmap   mindmap   mindmap   mindmap   mindmap"
                  "stats     stats     stats     stats     stats     stats     wordcloud wordcloud wordcloud wordcloud wordcloud wordcloud" /* Stats and Wordcloud share a row */
                  "quote     quote     quote     quote     quote     quote     links     links     links     links     links     links"       /* Quote and Links share a row */
                  "tools     tools     tools     tools     tools     tools     solutions solutions solutions solutions solutions solutions" /* Tools and Solutions share a row */
                  "trends    trends    trends    trends    trends    trends    trends    trends    trends    trends    trends    trends";
            }
            .stats-card, .wordcloud-card, .quote-card, .links-card, .tools-card, .solutions-card {
                grid-column: span 6; /* Each takes half width on this row */
            }
            .trends-card {
                grid-column: span 12; /* Trends takes full width */
            }
        }

        @media (max-width: 768px) {
            body { padding: 10px; font-size: 14px; }
            h1 { font-size: 1.8rem; }
            h2 { font-size: 1.4rem; }
            h3 { font-size: 1.1rem; }
            .grid-container {
                grid-template-columns: 1fr;
                grid-template-areas:
                    "main"
                    "topics"
                    "mindmap"
                    "stats"      /* Each card gets its own row on smaller screens */
                    "wordcloud"
                    "quote"
                    "links"
                    "tools"
                    "solutions"
                    "trends";
            }
            .stats-card, .wordcloud-card, .quote-card, .links-card, .tools-card, .solutions-card, .trends-card {
                grid-column: 1 / -1; /* Full width */
            }
            .topic-cards-wrapper { grid-template-columns: 1fr; }
            .topic-card { grid-column: 1 / -1; min-height: auto; }
            .topic-card > .topic-card-content-wrapper { padding-bottom: 1rem; }
            .topic-mentions { position: static; margin-top: 10px; margin-bottom: 10px; text-align: left; }
            .card-icon { font-size: 2.5rem; opacity:0.05; }
            .mindmap-card .card-icon { bottom: 15px; right: 15px; }

            .user-stats-table th, .user-stats-table td { padding: 0.5rem 0.25rem; font-size: 0.8rem; }
            .user-stats-table td { text-align: left; }
            .user-stats-table .message-count-col { text-align: center; }
            .action-button { padding: 8px 15px; font-size: 0.9rem; }
            .action-buttons-container { display: flex; flex-wrap: wrap; justify-content: center; gap: 10px; }
            .action-buttons-container .action-button { width: calc(50% - 10px); min-width: 180px; margin: 5px 0; }
            
            /* Mermaid specific responsive */
            .mindmap-card .card { padding: 15px; }
            .mindmap-controls button { font-size: 0.8rem; padding: 6px 10px; }
            .modal-content { width: 100%; height: 95%; }
            .modal-close-btn { font-size: 1.8rem; top:10px; right:10px;}
        }
        @media (max-width: 480px) {
            .action-buttons-container .action-button { width: 80%; }
            .user-stats-table { display: block; overflow-x: auto; }
            .user-stats-table th, .user-stats-table td { white-space: normal; }
            .user-stats-table thead, .user-stats-table tbody, .user-stats-table tr { display: block; }
            .user-stats-table tr { border-bottom: 1px solid var(--bg-tertiary); }
            .user-stats-table th { display: none; }
            .user-stats-table td { display: block; text-align: left; border-bottom: none; padding-left: 0.5rem; }
            .user-stats-table td.message-count-col { text-align: left; }
            .user-stats-table td::before { content: attr(data-label); font-weight: bold; display: inline-block; width: 100px; margin-right: 10px; color: var(--text-primary); text-align: left; }
            .user-stats-table tr:last-child { border-bottom: none; }
        }
    </style>
</head>
<body style="">
    <div id="report-content-wrapper">
        <div class="grid-container">
            <div class="card main-card">
                <h1>Dia浏览器使用交流群周报</h1>
                <div class="date">2025年5月19日 - 2025年5月25日</div>
                <div class="meta-info">
                    <span><i class="fas fa-users"></i> 群名称: Dia浏览器使用交流</span>
                    <span><i class="fas fa-comment"></i> 消息总数: 约280条</span>
                    <span><i class="fas fa-user-friends"></i> 活跃用户: 35人</span>
                    <span><i class="fas fa-fire"></i> 核心话题: 8个</span>
                    <span><i class="fas fa-tools"></i> 技术资源: 15个链接/工具</span>
                    <span><i class="fas fa-gift"></i> 邀请码分享: 6个</span>
                </div>
                <p class="summary">本周群内讨论热烈，围绕Dia浏览器新功能、Claude 4等AI工具的实际应用、行业动态及技术问题展开了广泛深入的交流与分享，共同探索AI技术的前沿与实践。</p>
                <i class="fas fa-bullhorn card-icon"></i>
            </div>

            <div class="topic-cards-wrapper">
                <div class="card topic-card" style="--animation-order: 1;">
                    <div class="topic-card-content-wrapper"> 
                        <h2><i class="fas fa-newspaper"></i> 群聊日报生成工具优化</h2>
                        <div class="topic-category">工具与流程</div>
                        <p>本周群内围绕<span class="highlight-keyword">群聊日报生成工具</span>展开了深入讨论。朱行政分享了基于V5提示词的方案，使用Chatlog、IDE及Claude模型生成结构化日报，包含活跃成员统计、精华话题、金句汇总等，并实现一键截图。工作流程：Chatlog抓数据→IDE生成网页→Youware部署→截图分享。未来计划扩展至周报/月报、个人总结等。</p>
                        <div class="topic-keywords">
                            <span class="keyword">日报生成</span>
                            <span class="keyword">Chatlog</span>
                            <span class="keyword">Claude</span>
                            <span class="keyword">工作流程</span>
                        </div>
                    </div>
                    <i class="fas fa-cogs card-icon"></i> 
                </div>
                <div class="card topic-card" style="--animation-order: 2;">
                    <div class="topic-card-content-wrapper"> 
                        <h2><i class="fas fa-search-dollar"></i> 腾讯AI浏览器对比分析</h2>
                        <div class="topic-category">行业分析</div>
                        <p>腾讯AI浏览器的发布引发热议。群友将其与Dia对比，认为其界面与夸克相似，功能与豆包电脑版重叠较多。讨论提及AI浏览器市场竞争激烈，微软、Google已深度集成AI，安卓原生通用AI支持也指日可待。建议避免在通用赛道过度投入，并关注国产手机系统集成AI的趋势。</p>
                        <div class="topic-keywords">
                            <span class="keyword">腾讯AI浏览器</span>
                            <span class="keyword">竞品分析</span>
                            <span class="keyword">市场竞争</span>
                            <span class="keyword">Dia浏览器</span>
                        </div>
                    </div>
                    <i class="fas fa-chart-pie card-icon"></i> 
                </div>
                <div class="card topic-card" style="--animation-order: 3;">
                    <div class="topic-card-content-wrapper"> 
                        <h2><i class="fas fa-lightbulb"></i> Dia浏览器应用案例</h2>
                        <div class="topic-category">应用案例</div>
                        <p>群内分享多个Dia浏览器应用场景。十一展示了用Dia分析微博热搜、挖掘写作话题；风物长宜放眼量分享用Dia分析抖音账号，AI助规划涨粉；Gary展示Dia实现prompt叠加。群友普遍认可Dia的多tab互动和Chat功能，形成“在Dia，养成Chat乐趣”的习惯。</p>
                        <div class="topic-keywords">
                            <span class="keyword">Dia应用</span>
                            <span class="keyword">微博热搜</span>
                            <span class="keyword">抖音分析</span>
                            <span class="keyword">Prompt工程</span>
                        </div>
                    </div>
                    <i class="fas fa-star card-icon"></i> 
                </div>
                <div class="card topic-card" style="--animation-order: 4;">
                    <div class="topic-card-content-wrapper"> 
                        <h2><i class="fas fa-brain"></i> Claude 4发布与影响</h2>
                        <div class="topic-category">技术趋势</div>
                        <p>Claude 4的发布成讨论重点。其三大能力提升：情境智能、长时间执行、真正协作。展示了自主学习和知识积累能力。Cursor、Raycast等应用已支持。群友用Claude 4生成不同风格日报，展现其创意能力。同时讨论了Claude账号被封问题及固定IP策略。</p>
                        <div class="topic-keywords">
                            <span class="keyword">Claude 4</span>
                            <span class="keyword">AI能力</span>
                            <span class="keyword">生态影响</span>
                            <span class="keyword">账号安全</span>
                        </div>
                    </div>
                    <i class="fas fa-robot card-icon"></i> 
                </div>
                <div class="card topic-card" style="--animation-order: 5;">
                    <div class="topic-card-content-wrapper"> 
                        <h2><i class="fas fa-graduation-cap"></i> 教育邮箱获取与管理</h2>
                        <div class="topic-category">资源与技巧</div>
                        <p>讨论了教育邮箱获取方式。溪石询问Dia教育邮箱申请，金回复申请后即可用，并分享非教育edu后缀邮箱经验。je询问获取方式，Spencer.Law建议咸鱼购买。强调了教育邮箱在AI服务中的优势及账号安全，建议使用固定、纯净IP防封。</p>
                        <div class="topic-keywords">
                            <span class="keyword">教育邮箱</span>
                            <span class="keyword">账号申请</span>
                            <span class="keyword">AI服务优惠</span>
                            <span class="keyword">IP策略</span>
                        </div>
                    </div>
                    <i class="fas fa-id-card card-icon"></i> 
                </div>
                <div class="card topic-card" style="--animation-order: 6;">
                    <div class="topic-card-content-wrapper"> 
                        <h2><i class="fas fa-tools"></i> Chatlog工具问题探讨</h2>
                        <div class="topic-category">工具支持</div>
                        <p>出现关于Chatlog工具使用的技术讨论。🍊分享了遇到的技术问题截图。讨论涉及数据抓取准确性、时间筛选、群聊识别等细节。群友分享经验和解决方案，为工具优化提供了用户反馈，有助提升日报生成质量。</p>
                        <div class="topic-keywords">
                            <span class="keyword">Chatlog</span>
                            <span class="keyword">技术问题</span>
                            <span class="keyword">数据抓取</span>
                            <span class="keyword">用户反馈</span>
                        </div>
                    </div>
                    <i class="fas fa-bug card-icon"></i> 
                </div>
                <div class="card topic-card" style="--animation-order: 7;">
                    <div class="topic-card-content-wrapper"> 
                        <h2><i class="fas fa-podcast"></i> AI播客Listenhub体验</h2>
                        <div class="topic-category">产品体验</div>
                        <p>向阳乔木分享橘子的AI播客产品Listenhub邀请码，引发积极参与。M.随后补充邀请码。群友对AI播客产品兴趣浓厚，讨论其功能与场景。提及豆包语音播客模型可能带来的冲击，以及AI播客市场竞争和大厂影响。分享了其他产品邀请码。</p>
                        <div class="topic-keywords">
                            <span class="keyword">Listenhub</span>
                            <span class="keyword">AI播客</span>
                            <span class="keyword">邀请码</span>
                            <span class="keyword">市场竞争</span>
                        </div>
                    </div>
                    <i class="fas fa-headphones-alt card-icon"></i> 
                </div>
                <div class="card topic-card" style="--animation-order: 8;">
                    <div class="topic-card-content-wrapper"> 
                        <h2><i class="fas fa-search"></i> Dia浏览器功能与技巧</h2>
                        <div class="topic-category">产品功能</div>
                        <p>深入探索Dia浏览器功能与技巧。向阳乔木分享Dia系统提示词飞书文档。讨论system prompt作用与设置，优化AI对话效果。Gary分享Dia更新邮件。讨论Dia的Windows版本发布时间。老虎询问Mac数据迁移方法，建议用Time Machine。</p>
                        <div class="topic-keywords">
                            <span class="keyword">Dia功能</span>
                            <span class="keyword">System Prompt</span>
                            <span class="keyword">使用技巧</span>
                            <span class="keyword">数据迁移</span>
                        </div>
                    </div>
                    <i class="fas fa-compass card-icon"></i> 
                </div>
            </div>
            
            <div class="mindmap-card-container card"> <div class="mindmap-card"> 
                    <h2><i class="fas fa-sitemap"></i> 核心概念关系图</h2>
                    <div class="mindmap-controls">
                        <button id="zoomInBtn"><i class="fas fa-search-plus"></i> 放大</button>
                        <button id="zoomOutBtn"><i class="fas fa-search-minus"></i> 缩小</button>
                        <button id="downloadDiagramBtn"><i class="fas fa-download"></i> 下载导图</button>
                        <button id="fullscreenOpenBtn" class="fullscreen-toggle-btn"><i class="fas fa-expand"></i> 全屏</button> 
                    </div>
                    <div class="mermaid-container" id="mainMermaidContainer"><svg aria-roledescription="mindmap" role="graphics-document document" viewBox="0 0 729.031494140625 379.6305847167969" style="max-width: 729.031px; transform: scale(1); transform-origin: center center;" xmlns="http://www.w3.org/2000/svg" width="100%" id="initialMainDiagramSvg"><style>#initialMainDiagramSvg{font-family:"Inter",sans-serif;font-size:16px;fill:#333;}#initialMainDiagramSvg .error-icon{fill:hsl(220.5882352941, 100%, 98.3333333333%);}#initialMainDiagramSvg .error-text{fill:rgb(8.5000000002, 5.7500000001, 0);stroke:rgb(8.5000000002, 5.7500000001, 0);}#initialMainDiagramSvg .edge-thickness-normal{stroke-width:2px;}#initialMainDiagramSvg .edge-thickness-thick{stroke-width:3.5px;}#initialMainDiagramSvg .edge-pattern-solid{stroke-dasharray:0;}#initialMainDiagramSvg .edge-pattern-dashed{stroke-dasharray:3;}#initialMainDiagramSvg .edge-pattern-dotted{stroke-dasharray:2;}#initialMainDiagramSvg .marker{fill:#0b0b0b;stroke:#0b0b0b;}#initialMainDiagramSvg .marker.cross{stroke:#0b0b0b;}#initialMainDiagramSvg svg{font-family:"Inter",sans-serif;font-size:16px;}#initialMainDiagramSvg .edge{stroke-width:3;}#initialMainDiagramSvg .section--1 rect,#initialMainDiagramSvg .section--1 path,#initialMainDiagramSvg .section--1 circle,#initialMainDiagramSvg .section--1 polygon,#initialMainDiagramSvg .section--1 path{fill:hsl(40.5882352941, 100%, 68.3333333333%);}#initialMainDiagramSvg .section--1 text{fill:#333;}#initialMainDiagramSvg .node-icon--1{font-size:40px;color:#333;}#initialMainDiagramSvg .section-edge--1{stroke:hsl(40.5882352941, 100%, 68.3333333333%);}#initialMainDiagramSvg .edge-depth--1{stroke-width:17;}#initialMainDiagramSvg .section--1 line{stroke:rgb(0, 52.2500000001, 161.5000000002);stroke-width:3;}#initialMainDiagramSvg .disabled,#initialMainDiagramSvg .disabled circle,#initialMainDiagramSvg .disabled text{fill:lightgray;}#initialMainDiagramSvg .disabled text{fill:#efefef;}#initialMainDiagramSvg .section-0 rect,#initialMainDiagramSvg .section-0 path,#initialMainDiagramSvg .section-0 circle,#initialMainDiagramSvg .section-0 polygon,#initialMainDiagramSvg .section-0 path{fill:hsl(-79.4117647059, 100%, 68.3333333333%);}#initialMainDiagramSvg .section-0 text{fill:#333;}#initialMainDiagramSvg .node-icon-0{font-size:40px;color:#333;}#initialMainDiagramSvg .section-edge-0{stroke:hsl(-79.4117647059, 100%, 68.3333333333%);}#initialMainDiagramSvg .edge-depth-0{stroke-width:14;}#initialMainDiagramSvg .section-0 line{stroke:rgb(52.2500000001, 161.5000000002, 0);stroke-width:3;}#initialMainDiagramSvg .disabled,#initialMainDiagramSvg .disabled circle,#initialMainDiagramSvg .disabled text{fill:lightgray;}#initialMainDiagramSvg .disabled text{fill:#efefef;}#initialMainDiagramSvg .section-1 rect,#initialMainDiagramSvg .section-1 path,#initialMainDiagramSvg .section-1 circle,#initialMainDiagramSvg .section-1 polygon,#initialMainDiagramSvg .section-1 path{fill:hsl(220.5882352941, 100%, 73.3333333333%);}#initialMainDiagramSvg .section-1 text{fill:#333;}#initialMainDiagramSvg .node-icon-1{font-size:40px;color:#333;}#initialMainDiagramSvg .section-edge-1{stroke:hsl(220.5882352941, 100%, 73.3333333333%);}#initialMainDiagramSvg .edge-depth-1{stroke-width:11;}#initialMainDiagramSvg .section-1 line{stroke:rgb(136.0000000002, 92.0000000001, 0);stroke-width:3;}#initialMainDiagramSvg .disabled,#initialMainDiagramSvg .disabled circle,#initialMainDiagramSvg .disabled text{fill:lightgray;}#initialMainDiagramSvg .disabled text{fill:#efefef;}#initialMainDiagramSvg .section-2 rect,#initialMainDiagramSvg .section-2 path,#initialMainDiagramSvg .section-2 circle,#initialMainDiagramSvg .section-2 polygon,#initialMainDiagramSvg .section-2 path{fill:hsl(70.5882352941, 100%, 68.3333333333%);}#initialMainDiagramSvg .section-2 text{fill:#333;}#initialMainDiagramSvg .node-icon-2{font-size:40px;color:#333;}#initialMainDiagramSvg .section-edge-2{stroke:hsl(70.5882352941, 100%, 68.3333333333%);}#initialMainDiagramSvg .edge-depth-2{stroke-width:8;}#initialMainDiagramSvg .section-2 line{stroke:rgb(28.5, 0, 161.5000000002);stroke-width:3;}#initialMainDiagramSvg .disabled,#initialMainDiagramSvg .disabled circle,#initialMainDiagramSvg .disabled text{fill:lightgray;}#initialMainDiagramSvg .disabled text{fill:#efefef;}#initialMainDiagramSvg .section-3 rect,#initialMainDiagramSvg .section-3 path,#initialMainDiagramSvg .section-3 circle,#initialMainDiagramSvg .section-3 polygon,#initialMainDiagramSvg .section-3 path{fill:hsl(100.5882352941, 100%, 68.3333333333%);}#initialMainDiagramSvg .section-3 text{fill:#333;}#initialMainDiagramSvg .node-icon-3{font-size:40px;color:#333;}#initialMainDiagramSvg .section-edge-3{stroke:hsl(100.5882352941, 100%, 68.3333333333%);}#initialMainDiagramSvg .edge-depth-3{stroke-width:5;}#initialMainDiagramSvg .section-3 line{stroke:rgb(109.2500000001, 0, 161.5000000002);stroke-width:3;}#initialMainDiagramSvg .disabled,#initialMainDiagramSvg .disabled circle,#initialMainDiagramSvg .disabled text{fill:lightgray;}#initialMainDiagramSvg .disabled text{fill:#efefef;}#initialMainDiagramSvg .section-4 rect,#initialMainDiagramSvg .section-4 path,#initialMainDiagramSvg .section-4 circle,#initialMainDiagramSvg .section-4 polygon,#initialMainDiagramSvg .section-4 path{fill:hsl(130.5882352941, 100%, 68.3333333333%);}#initialMainDiagramSvg .section-4 text{fill:#333;}#initialMainDiagramSvg .node-icon-4{font-size:40px;color:#333;}#initialMainDiagramSvg .section-edge-4{stroke:hsl(130.5882352941, 100%, 68.3333333333%);}#initialMainDiagramSvg .edge-depth-4{stroke-width:2;}#initialMainDiagramSvg .section-4 line{stroke:rgb(161.5000000002, 0, 133.0000000002);stroke-width:3;}#initialMainDiagramSvg .disabled,#initialMainDiagramSvg .disabled circle,#initialMainDiagramSvg .disabled text{fill:lightgray;}#initialMainDiagramSvg .disabled text{fill:#efefef;}#initialMainDiagramSvg .section-5 rect,#initialMainDiagramSvg .section-5 path,#initialMainDiagramSvg .section-5 circle,#initialMainDiagramSvg .section-5 polygon,#initialMainDiagramSvg .section-5 path{fill:hsl(160.5882352941, 100%, 68.3333333333%);}#initialMainDiagramSvg .section-5 text{fill:#333;}#initialMainDiagramSvg .node-icon-5{font-size:40px;color:#333;}#initialMainDiagramSvg .section-edge-5{stroke:hsl(160.5882352941, 100%, 68.3333333333%);}#initialMainDiagramSvg .edge-depth-5{stroke-width:-1;}#initialMainDiagramSvg .section-5 line{stroke:rgb(161.5000000002, 0, 52.2500000001);stroke-width:3;}#initialMainDiagramSvg .disabled,#initialMainDiagramSvg .disabled circle,#initialMainDiagramSvg .disabled text{fill:lightgray;}#initialMainDiagramSvg .disabled text{fill:#efefef;}#initialMainDiagramSvg .section-6 rect,#initialMainDiagramSvg .section-6 path,#initialMainDiagramSvg .section-6 circle,#initialMainDiagramSvg .section-6 polygon,#initialMainDiagramSvg .section-6 path{fill:hsl(190.5882352941, 100%, 68.3333333333%);}#initialMainDiagramSvg .section-6 text{fill:#333;}#initialMainDiagramSvg .node-icon-6{font-size:40px;color:#333;}#initialMainDiagramSvg .section-edge-6{stroke:hsl(190.5882352941, 100%, 68.3333333333%);}#initialMainDiagramSvg .edge-depth-6{stroke-width:-4;}#initialMainDiagramSvg .section-6 line{stroke:rgb(161.5000000002, 28.5, 0);stroke-width:3;}#initialMainDiagramSvg .disabled,#initialMainDiagramSvg .disabled circle,#initialMainDiagramSvg .disabled text{fill:lightgray;}#initialMainDiagramSvg .disabled text{fill:#efefef;}#initialMainDiagramSvg .section-7 rect,#initialMainDiagramSvg .section-7 path,#initialMainDiagramSvg .section-7 circle,#initialMainDiagramSvg .section-7 polygon,#initialMainDiagramSvg .section-7 path{fill:hsl(250.5882352941, 100%, 75%);}#initialMainDiagramSvg .section-7 text{fill:#333;}#initialMainDiagramSvg .node-icon-7{font-size:40px;color:#333;}#initialMainDiagramSvg .section-edge-7{stroke:hsl(250.5882352941, 100%, 75%);}#initialMainDiagramSvg .edge-depth-7{stroke-width:-7;}#initialMainDiagramSvg .section-7 line{stroke:rgb(105, 127.5, 0);stroke-width:3;}#initialMainDiagramSvg .disabled,#initialMainDiagramSvg .disabled circle,#initialMainDiagramSvg .disabled text{fill:lightgray;}#initialMainDiagramSvg .disabled text{fill:#efefef;}#initialMainDiagramSvg .section-8 rect,#initialMainDiagramSvg .section-8 path,#initialMainDiagramSvg .section-8 circle,#initialMainDiagramSvg .section-8 polygon,#initialMainDiagramSvg .section-8 path{fill:hsl(310.5882352941, 100%, 68.3333333333%);}#initialMainDiagramSvg .section-8 text{fill:#333;}#initialMainDiagramSvg .node-icon-8{font-size:40px;color:#333;}#initialMainDiagramSvg .section-edge-8{stroke:hsl(310.5882352941, 100%, 68.3333333333%);}#initialMainDiagramSvg .edge-depth-8{stroke-width:-10;}#initialMainDiagramSvg .section-8 line{stroke:rgb(0, 161.5000000002, 28.5);stroke-width:3;}#initialMainDiagramSvg .disabled,#initialMainDiagramSvg .disabled circle,#initialMainDiagramSvg .disabled text{fill:lightgray;}#initialMainDiagramSvg .disabled text{fill:#efefef;}#initialMainDiagramSvg .section-9 rect,#initialMainDiagramSvg .section-9 path,#initialMainDiagramSvg .section-9 circle,#initialMainDiagramSvg .section-9 polygon,#initialMainDiagramSvg .section-9 path{fill:hsl(340.5882352941, 100%, 68.3333333333%);}#initialMainDiagramSvg .section-9 text{fill:#333;}#initialMainDiagramSvg .node-icon-9{font-size:40px;color:#333;}#initialMainDiagramSvg .section-edge-9{stroke:hsl(340.5882352941, 100%, 68.3333333333%);}#initialMainDiagramSvg .edge-depth-9{stroke-width:-13;}#initialMainDiagramSvg .section-9 line{stroke:rgb(0, 161.5000000002, 109.2500000001);stroke-width:3;}#initialMainDiagramSvg .disabled,#initialMainDiagramSvg .disabled circle,#initialMainDiagramSvg .disabled text{fill:lightgray;}#initialMainDiagramSvg .disabled text{fill:#efefef;}#initialMainDiagramSvg .section-10 rect,#initialMainDiagramSvg .section-10 path,#initialMainDiagramSvg .section-10 circle,#initialMainDiagramSvg .section-10 polygon,#initialMainDiagramSvg .section-10 path{fill:hsl(10.5882352941, 100%, 68.3333333333%);}#initialMainDiagramSvg .section-10 text{fill:#333;}#initialMainDiagramSvg .node-icon-10{font-size:40px;color:#333;}#initialMainDiagramSvg .section-edge-10{stroke:hsl(10.5882352941, 100%, 68.3333333333%);}#initialMainDiagramSvg .edge-depth-10{stroke-width:-16;}#initialMainDiagramSvg .section-10 line{stroke:rgb(0, 133.0000000002, 161.5000000002);stroke-width:3;}#initialMainDiagramSvg .disabled,#initialMainDiagramSvg .disabled circle,#initialMainDiagramSvg .disabled text{fill:lightgray;}#initialMainDiagramSvg .disabled text{fill:#efefef;}#initialMainDiagramSvg .section-root rect,#initialMainDiagramSvg .section-root path,#initialMainDiagramSvg .section-root circle,#initialMainDiagramSvg .section-root polygon{fill:hsl(40.5882352941, 100%, 68.3333333333%);}#initialMainDiagramSvg .section-root text{fill:#333;}#initialMainDiagramSvg .icon-container{height:100%;display:flex;justify-content:center;align-items:center;}#initialMainDiagramSvg .edge{fill:none;}#initialMainDiagramSvg .mindmap-node-label{dy:1em;alignment-baseline:middle;text-anchor:middle;dominant-baseline:middle;text-align:center;}#initialMainDiagramSvg :root{--mermaid-font-family:"Inter",sans-serif;}</style><g></g><g class="mindmap-edges"><path class="edge section-edge-0 edge-depth-0" d="M 381.1391006054513,194.8178364192334 L 463.5499893668133,224.29810689376242 L545.9608781281753,253.77837736829142"></path><path class="edge section-edge-1 edge-depth-0" d="M 366.5642150998124,204.75873211531362 L 364.8222734897887,262.6230544057852 L363.080331879765,320.4873766962568"></path><path class="edge section-edge-2 edge-depth-0" d="M 352.0156288072586,189.80785216559093 L 240.10934704281414,190.12363677422263 L128.20306527836965,190.4394213828544"></path><path class="edge section-edge-3 edge-depth-0" d="M 382.0145105664815,189.5873265393705 L 492.53135749628575,188.27430999110985 L603.04820442609,186.96129344284918"></path><path class="edge section-edge-4 edge-depth-0" d="M 380.7099878580747,183.64483037928767 L 444.7873389857209,155.00558236260022 L508.8646901133671,126.36633434591279"></path><path class="edge section-edge-5 edge-depth-0" d="M 353.10594285305007,184.15105213510532 L 276.2119530214023,153.11361367786307 L199.3179631897545,122.07617522062083"></path><path class="edge section-edge-6 edge-depth-0" d="M 353.06898124655766,195.28754277338743 L 277.3554390184239,225.26559770224907 L201.64189679029016,255.2436526311107"></path><path class="edge section-edge-7 edge-depth-0" d="M 365.80519363628,174.81443770869268 L 361.1213668742125,116.95776216690254 L356.43754011214503,59.1010866251124"></path></g><g class="mindmap-nodes"><g transform="translate(307.8124440856283, 168.11552433380507)" class="mindmap-node section--1 section-root"><g transform="translate(59.203125, 21.65)"><circle r="59.203125" class="node-bkg node-circle" id="node-0"></circle></g><g transform="translate(59.203125, 7.5)" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" dy="1em"><g><rect class="background"></rect><text y="-10.1"><tspan dy="1.1em" y="-0.1em" x="0" class="text-outer-tspan"><tspan font-weight="normal" class="text-inner-tspan" font-style="normal">Dia周报核心</tspan></tspan></text></g></g></g><g transform="translate(450.0844096479983, 229.68068945371974)" class="mindmap-node section-0"><g><rect width="220" ry="30" rx="30" height="58.3" class="node-bkg node-rounded-rect" id="node-1"></rect></g><g transform="translate(110, 15)" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" dy="1em"><g><rect class="background"></rect><text y="-10.1"><tspan dy="1.1em" y="-0.1em" x="0" class="text-outer-tspan"><tspan font-weight="normal" class="text-inner-tspan" font-style="normal">群聊日报生成工具优化</tspan></tspan></text></g></g></g><g transform="translate(268.9610091439491, 306.33058447776534)" class="mindmap-node section-1"><g><rect width="187.3359375" ry="30" rx="30" height="58.3" class="node-bkg node-rounded-rect" id="node-2"></rect></g><g transform="translate(93.66796875, 15)" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" dy="1em"><g><rect class="background"></rect><text y="-10.1"><tspan dy="1.1em" y="-0.1em" x="0" class="text-outer-tspan"><tspan font-weight="normal" class="text-inner-tspan" font-style="normal">腾讯AI浏览器对比</tspan></tspan></text></g></g></g><g transform="translate(15, 161.33174921464024)" class="mindmap-node section-2"><g><rect width="196.40625" ry="30" rx="30" height="58.3" class="node-bkg node-rounded-rect" id="node-3"></rect></g><g transform="translate(98.203125, 15)" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" dy="1em"><g><rect class="background"></rect><text y="-10.1"><tspan dy="1.1em" y="-0.1em" x="0" class="text-outer-tspan"><tspan font-weight="normal" class="text-inner-tspan" font-style="normal">Dia浏览器应用案例</tspan></tspan></text></g></g></g><g transform="translate(522.0627709069432, 157.6330956484146)" class="mindmap-node section-3"><g><rect width="191.96875" ry="30" rx="30" height="58.3" class="node-bkg node-rounded-rect" id="node-4"></rect></g><g transform="translate(95.984375, 15)" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" dy="1em"><g><rect class="background"></rect><text y="-10.1"><tspan dy="1.1em" y="-0.1em" x="0" class="text-outer-tspan"><tspan font-weight="normal" class="text-inner-tspan" font-style="normal">Claude</tspan><tspan font-weight="normal" class="text-inner-tspan" font-style="normal"> 4发布影响</tspan></tspan></text></g></g></g><g transform="translate(444.55910888581354, 91.09564039139536)" class="mindmap-node section-4"><g><rect width="156" ry="30" rx="30" height="58.3" class="node-bkg node-rounded-rect" id="node-5"></rect></g><g transform="translate(78, 15)" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" dy="1em"><g><rect class="background"></rect><text y="-10.1"><tspan dy="1.1em" y="-0.1em" x="0" class="text-outer-tspan"><tspan font-weight="normal" class="text-inner-tspan" font-style="normal">教育邮箱获取</tspan></tspan></text></g></g></g><g transform="translate(94.08411820717629, 87.31170302192106)" class="mindmap-node section-5"><g><rect width="182.6484375" ry="30" rx="30" height="58.3" class="node-bkg node-rounded-rect" id="node-6"></rect></g><g transform="translate(91.32421875, 15)" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" dy="1em"><g><rect class="background"></rect><text y="-10.1"><tspan dy="1.1em" y="-0.1em" x="0" class="text-outer-tspan"><tspan font-weight="normal" class="text-inner-tspan" font-style="normal">Chatlog工具问题</tspan></tspan></text></g></g></g><g transform="translate(97.05468395121954, 231.61567107069308)" class="mindmap-node section-6"><g><rect width="181.28125" ry="30" rx="30" height="58.3" class="node-bkg node-rounded-rect" id="node-7"></rect></g><g transform="translate(90.640625, 15)" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" dy="1em"><g><rect class="background"></rect><text y="-10.1"><tspan dy="1.1em" y="-0.1em" x="0" class="text-outer-tspan"><tspan font-weight="normal" class="text-inner-tspan" font-style="normal">AI播客Listenhub</tspan></tspan></text></g></g></g><g transform="translate(257.0240396627968, 15)" class="mindmap-node section-7"><g><rect width="196.40625" ry="30" rx="30" height="58.3" class="node-bkg node-rounded-rect" id="node-8"></rect></g><g transform="translate(98.203125, 15)" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" dy="1em"><g><rect class="background"></rect><text y="-10.1"><tspan dy="1.1em" y="-0.1em" x="0" class="text-outer-tspan"><tspan font-weight="normal" class="text-inner-tspan" font-style="normal">Dia浏览器功能探索</tspan></tspan></text></g></g></g></g></svg></div>
                    <div id="mermaid-main-feedback-message"></div>
                    <i class="fas fa-project-diagram card-icon"></i>
                </div>
            </div>

            <div class="card stats-card">
                <h2><i class="fas fa-users-cog"></i> 活跃之星</h2>
                <table class="user-stats-table">
                    <thead>
                        <tr>
                            <th class="user-name-col">用户</th>
                            <th class="message-count-col">活跃度</th>
                            <th class="contribution-col">主要贡献</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td data-label="用户" class="user-name-col">十一</td>
                            <td data-label="活跃度" class="message-count-col">高</td>
                            <td data-label="主要贡献" class="contribution-col">技术探索达人，分享Google项目和Dia应用案例</td>
                        </tr>
                        <tr>
                            <td data-label="用户" class="user-name-col">向阳乔木</td>
                            <td data-label="活跃度" class="message-count-col">高</td>
                            <td data-label="主要贡献" class="contribution-col">群主，分享资源和邀请码，维护群内秩序</td>
                        </tr>
                        <tr>
                            <td data-label="用户" class="user-name-col">朱行政</td>
                            <td data-label="活跃度" class="message-count-col">高</td>
                            <td data-label="主要贡献" class="contribution-col">群聊日报工具开发者，技术分享贡献者</td>
                        </tr>
                         <tr>
                            <td data-label="用户" class="user-name-col">Gary</td>
                            <td data-label="活跃度" class="message-count-col">中</td>
                            <td data-label="主要贡献" class="contribution-col">积极参与讨论，分享技术见解和工具使用经验</td>
                        </tr>
                        <tr>
                            <td data-label="用户" class="user-name-col">Super黄</td>
                            <td data-label="活跃度" class="message-count-col">中</td>
                            <td data-label="主要贡献" class="contribution-col">AI编程专家，分享Claude 4应用案例</td>
                        </tr>
                        <tr>
                            <td data-label="用户" class="user-name-col">风物长宜放眼量</td>
                            <td data-label="活跃度" class="message-count-col">中</td>
                            <td data-label="主要贡献" class="contribution-col">分享Dia实际应用经验</td>
                        </tr>
                        <tr>
                            <td data-label="用户" class="user-name-col">金</td>
                            <td data-label="活跃度" class="message-count-col">中</td>
                            <td data-label="主要贡献" class="contribution-col">活跃讨论参与者，提供技术建议</td>
                        </tr>
                         <tr>
                            <td data-label="用户" class="user-name-col">奥利弗</td>
                            <td data-label="活跃度" class="message-count-col">中</td>
                            <td data-label="主要贡献" class="contribution-col">分享Claude使用经验和账号安全建议</td>
                        </tr>
                        <tr>
                            <td data-label="用户" class="user-name-col">朱阿怡💋</td>
                            <td data-label="活跃度" class="message-count-col">中</td>
                            <td data-label="主要贡献" class="contribution-col">积极参与产品讨论</td>
                        </tr>
                        <tr>
                            <td data-label="用户" class="user-name-col">天宇</td>
                            <td data-label="活跃度" class="message-count-col">中</td>
                            <td data-label="主要贡献" class="contribution-col">邀请码分享者，积极互动</td>
                        </tr>
                    </tbody>
                </table>
                <i class="fas fa-user-friends card-icon"></i> 
            </div>
            
            <div class="card wordcloud-card">
                <h2><i class="fas fa-cloud"></i> 本周热词</h2>
                <div class="wordcloud">
                    <span class="wordcloud-item size-5">Dia浏览器</span>
                    <span class="wordcloud-item size-5">Claude 4</span>
                    <span class="wordcloud-item size-4">AI</span>
                    <span class="wordcloud-item size-4">Chatlog</span>
                    <span class="wordcloud-item size-3">工具</span>
                    <span class="wordcloud-item size-3">生成</span>
                    <span class="wordcloud-item size-3">分享</span>
                    <span class="wordcloud-item size-2">腾讯</span>
                    <span class="wordcloud-item size-2">Listenhub</span>
                    <span class="wordcloud-item size-2">教育邮箱</span>
                    <span class="wordcloud-item size-1">提示词</span>
                    <span class="wordcloud-item size-1">优化</span>
                </div>
                <i class="fas fa-tags card-icon"></i> 
            </div>

            <div class="card quote-card">
                <h2><i class="fas fa-quote-left"></i> 本周金句</h2>
                <div class="quote">
                    "目前已形成完整的工作流程：使用Chatlog抓取数据→IDE生成网页→Youware部署→截图分享。"
                    <div class="quote-author">- 朱行政 (群聊日报工具开发者)</div>
                </div>
                <div class="quote">
                    "AI能够帮助规划涨粉目标并具体到每天发布什么内容，效果比很多运营咨询还要专业。"
                    <div class="quote-author">- 风物长宜放眼量</div>
                </div>
                <div class="quote">
                    "Claude 4展示了自主学习和知识积累能力，能够主动创建记忆文件保存关键信息。"
                    <div class="quote-author">- 群友讨论</div>
                </div>
                <i class="fas fa-comment-dots card-icon"></i> 
            </div>

            <div class="card tools-card">
                <h2><i class="fas fa-wrench"></i> 实用工具与技巧</h2>
                <div class="tool-item">
                    <i class="fas fa-link item-icon"></i>
                    <div class="item-content">
                        <strong>群聊日报生成工具链:</strong> Chatlog (聊天记录筛选), Trae/Cursor/Winsurf (AI代码IDE), GoFullPage (长图截取), Youware (网页部署)
                    </div>
                </div>
                <div class="tool-item">
                    <i class="fas fa-brain item-icon"></i>
                    <div class="item-content">
                        <strong>AI模型与平台:</strong> Claude 4, POE (Claude替代访问), Raycast (支持Claude 4), Monica (浏览器AI助手)
                    </div>
                </div>
                <div class="tool-item">
                    <i class="fas fa-magic item-icon"></i>
                    <div class="item-content">
                        <strong>实用技巧:</strong>
                        <ul>
                            <li>使用固定IP访问Claude避免封号</li>
                            <li>通过Dia分析热搜挖掘写作话题</li>
                            <li>利用多tab模式进行AI对话管理</li>
                            <li>使用Time Machine进行Mac数据迁移</li>
                        </ul>
                    </div>
                </div>
                <i class="fas fa-toolbox card-icon"></i>
            </div>

            <div class="card links-card">
                <h2><i class="fas fa-paperclip"></i> 重要资源链接</h2>
                <div class="link-item">
                    <a href="https://mp.weixin.qq.com/s/FDMTztC-3p71_n8c3oltlA" target="_blank">
                        <i class="fas fa-external-link-alt item-icon"></i> 
                        <span class="link-title">群聊日报生成教程</span>
                    </a>
                </div>
                <div class="link-item">
                    <a href="https://mp.weixin.qq.com/s/Z66YRjY1EnC_hMgXE9_nnw" target="_blank">
                        <i class="fas fa-external-link-alt item-icon"></i>
                        <span class="link-title">卡兹克提示词</span>
                    </a>
                </div>
                <div class="link-item">
                    <a href="https://mp.weixin.qq.com/s/XSX0FtZV_H79xpQsB820eA" target="_blank">
                        <i class="fas fa-external-link-alt item-icon"></i>
                        <span class="link-title">向阳乔木提示词</span>
                    </a>
                </div>
                <div class="link-item">
                    <a href="https://github.com/sjzar/chatlog/releases" target="_blank">
                        <i class="fab fa-github item-icon"></i>
                        <span class="link-title">Chatlog项目地址</span>
                    </a>
                </div>
                 <div class="link-item">
                    <a href="https://xiangyangqiaomu.feishu.cn/wiki/Cr1bw6emmisCBxk6HXjc0dLWnVc" target="_blank">
                        <i class="fas fa-file-alt item-icon"></i>
                        <span class="link-title">Dia浏览器系统提示词</span>
                    </a>
                </div>
                <div class="link-item">
                    <a href="https://listenhub.ai/" target="_blank">
                        <i class="fas fa-external-link-alt item-icon"></i>
                        <span class="link-title">Listenhub AI播客</span>
                    </a>
                </div>
                <div class="link-item">
                    <a href="https://mp.weixin.qq.com/s/64b0bd2e0b8b9945b56b72c8c0ad894f" target="_blank">
                        <i class="fas fa-external-link-alt item-icon"></i>
                        <span class="link-title">Claude 4快速评测</span>
                    </a>
                </div>
                <div class="link-item">
                    <a href="https://www.thewayofcode.com/" target="_blank">
                        <i class="fas fa-external-link-alt item-icon"></i>
                        <span class="link-title">程序员版道德经</span>
                    </a>
                </div>
                <div class="link-item">
                    <a href="https://czkzyp3cp1.feishu.cn/share/base/view/shrcnoweVpP2vDaWtAEFspjqRNf" target="_blank">
                        <i class="fas fa-database item-icon"></i>
                        <span class="link-title">AI总结数据库</span>
                    </a>
                </div>
                 <div class="link-item">
                     <i class="fab fa-weixin item-icon"></i>
                    <span class="link-title">腾讯AI浏览器介绍 (微信公众号)</span>
                </div>
                <div class="link-item">
                    <i class="fab fa-weixin item-icon"></i>
                    <span class="link-title">豆包语音播客模型 (微信公众号)</span>
                </div>
                <div class="link-item">
                    <a href="https://x.com/i/communities/1924845786988421473" target="_blank">
                        <i class="fab fa-twitter item-icon"></i>
                        <span class="link-title">AI产品邀请码社群</span>
                    </a>
                </div>
                <i class="fas fa-share-alt card-icon"></i> 
            </div>

            <div class="card solutions-card">
                <h2><i class="fas fa-medkit"></i> 技术问题与解决</h2>
                <div class="solution-item">
                    <i class="fas fa-user-shield item-icon"></i>
                    <div class="item-content">
                        <strong>Claude账号安全:</strong>
                        <ul>
                            <li>问题：账号频繁被封</li>
                            <li>解决方案：使用固定IP，避免频繁切换节点</li>
                            <li>替代方案：使用POE、Raycast等第三方平台</li>
                        </ul>
                    </div>
                </div>
                <div class="solution-item">
                    <i class="fas fa-exchange-alt item-icon"></i>
                    <div class="item-content">
                        <strong>Dia数据迁移:</strong>
                        <ul>
                            <li>问题：Mac设备间数据迁移失败</li>
                            <li>解决方案：使用Time Machine而非迁移助手</li>
                            <li>注意事项：迁移助手存在通病，易出问题</li>
                        </ul>
                    </div>
                </div>
                <div class="solution-item">
                    <i class="fas fa-envelope-open-text item-icon"></i>
                    <div class="item-content">
                        <strong>教育邮箱获取:</strong>
                        <ul>
                            <li>渠道：咸鱼购买、学校申请</li>
                            <li>用途：各类AI服务的教育优惠</li>
                            <li>注意：带edu后缀的非教育邮箱也可能有效</li>
                        </ul>
                    </div>
                </div>
                <i class="fas fa-life-ring card-icon"></i>
            </div>

            <div class="card trends-card">
                <h2><i class="fas fa-poll"></i> 本周趋势观察</h2>
                <div class="trend-item">
                    <i class="fas fa-rocket item-icon"></i>
                    <div class="item-content"><strong>AI浏览器竞争加剧:</strong> 腾讯、豆包等大厂入局，市场竞争激烈。</div>
                </div>
                <div class="trend-item">
                    <i class="fas fa-level-up-alt item-icon"></i>
                    <div class="item-content"><strong>Claude 4引领新一轮升级:</strong> 各大AI应用快速跟进支持。</div>
                </div>
                <div class="trend-item">
                    <i class="fas fa-chart-bar item-icon"></i>
                    <div class="item-content"><strong>群聊分析工具成熟化:</strong> 从日报到周报，功能不断完善。</div>
                </div>
                <div class="trend-item">
                    <i class="fas fa-microphone-alt item-icon"></i>
                    <div class="item-content"><strong>AI播客市场升温:</strong> 多个产品竞相推出，用户需求旺盛。</div>
                </div>
                <div class="trend-item">
                    <i class="fas fa-desktop item-icon"></i>
                    <div class="item-content"><strong>系统级AI集成趋势:</strong> 大厂将AI功能集成到操作系统中。</div>
                </div>
                <i class="fas fa-broadcast-tower card-icon"></i>
            </div>
        </div> 
        
        <div class="footer">
            <p>数据来源：Dia浏览器使用交流群聊天记录 | 生成日期：2025年5月26日 | 统计周期：2025年5月19日 - 2025年5月25日</p>
            <p>下期预告：将继续关注Dia浏览器功能更新、AI工具生态发展和群聊分析技术进展。</p>
            <p>[免责声明 - 例如：本报告由AI辅助生成，仅供参考，不代表所有群成员观点。]</p>
        </div>
    </div> 

    <div class="action-buttons-container" style="display: block; flex-wrap: nowrap;">
        <button id="viewPreviousReportBtn" class="action-button"><i class="fas fa-calendar-alt"></i> 查看上期周报</button>
        <button id="screenshotToClipboardBtn" class="action-button"><i class="fas fa-clipboard"></i> 拷贝截图</button>
        <button id="screenshotDownloadBtn" class="action-button"><i class="fas fa-camera"></i> 下载截图</button>
        <button id="copyHtmlBtn" class="action-button"><i class="fas fa-copy"></i> 拷贝源码</button>
        <button id="downloadHtmlBtn" class="action-button"><i class="fas fa-download"></i> 下载报告</button>
    </div>
    <div id="feedback-message"></div> 
    <div id="fullscreenModal" class="modal-overlay">
        <div class="modal-content card"> <button id="fullscreenCloseBtn" class="modal-close-btn" aria-label="关闭全屏">×</button>
            <h2><i class="fas fa-sitemap"></i> 核心概念关系图 (全屏)</h2>
            <div class="mindmap-controls">
                <button id="modalZoomInBtn"><i class="fas fa-search-plus"></i> 放大</button>
                <button id="modalZoomOutBtn"><i class="fas fa-search-minus"></i> 缩小</button>
                <button id="modalDownloadDiagramBtn"><i class="fas fa-download"></i> 下载导图</button>
            </div>
            <div class="mermaid-container" id="modalMermaidContainer">
            </div>
            <div id="mermaid-modal-feedback-message"></div>
        </div>
    </div>
    <script>
    // --- Mermaid Diagram JavaScript START ---
    // --- Global Variables for Mermaid ---
    let mainCurrentScale = 1;
    let modalCurrentScale = 1;
    let currentMindmapDefinition = ''; // Store the current definition

    // --- DOM Elements for Mermaid ---
    const mainZoomInBtn = document.getElementById('zoomInBtn');
    const mainZoomOutBtn = document.getElementById('zoomOutBtn');
    const mainDownloadDiagramBtn = document.getElementById('downloadDiagramBtn'); 
    const mainMermaidContainer = document.getElementById('mainMermaidContainer');
    const mermaidMainFeedbackMessage = document.getElementById('mermaid-main-feedback-message'); 
    const mainMindmapDiagramDiv = document.getElementById('mindmapDiagram'); 

    const fullscreenOpenBtn = document.getElementById('fullscreenOpenBtn');
    const fullscreenModal = document.getElementById('fullscreenModal');
    const fullscreenCloseBtn = document.getElementById('fullscreenCloseBtn');
    const modalMermaidContainer = document.getElementById('modalMermaidContainer');
    const modalZoomInBtn = document.getElementById('modalZoomInBtn');
    const modalZoomOutBtn = document.getElementById('modalZoomOutBtn');
    const modalDownloadDiagramBtn = document.getElementById('modalDownloadDiagramBtn'); 
    const mermaidModalFeedbackMessage = document.getElementById('mermaid-modal-feedback-message'); 

    // --- Mermaid Initialization ---
    if (typeof mermaid !== 'undefined') {
        mermaid.initialize({
            startOnLoad: false, 
            theme: 'base', 
            fontFamily: '"Inter", sans-serif',
            mindmap: { padding: 15 }
        });
    } else {
        console.error("Mermaid library not loaded.");
        if(mermaidMainFeedbackMessage) mermaidMainFeedbackMessage.textContent = "错误：Mermaid库未能加载。";
    }
    

    // --- Helper Functions for Mermaid ---
    function showMermaidFeedback(element, message, type = 'info', duration = 3000) {
        if (element) {
            element.textContent = message;
            element.className = type; // success, error, info
            element.style.display = 'block';
            setTimeout(() => {
                element.textContent = '';
                element.className = '';
                element.style.display = 'none';
            }, duration);
        }
    }

    function applySvgScale(svgElement, scale) {
        if (svgElement) {
            svgElement.style.transform = `scale(${scale})`;
            svgElement.style.transformOrigin = 'center center'; 
        }
    }

    function makeDraggable(containerElement) {
        let isDragging = false;
        let startX, startY, scrollLeftStart, scrollTopStart;

        if (!containerElement) return;

        containerElement.addEventListener('mousedown', (e) => {
            if (e.button !== 0) return; 
            if (e.target.closest('button') || e.target.closest('a') || e.target.closest('[onclick]')) return;
            
             if (e.target === containerElement) { 
                const verticalScrollbarVisible = containerElement.scrollHeight > containerElement.clientHeight;
                const horizontalScrollbarVisible = containerElement.scrollWidth > containerElement.clientWidth;
                const clickedOnVerticalScrollbar = verticalScrollbarVisible && e.offsetX >= containerElement.clientWidth - 17; 
                const clickedOnHorizontalScrollbar = horizontalScrollbarVisible && e.offsetY >= containerElement.clientHeight - 17;
                if (clickedOnVerticalScrollbar || clickedOnHorizontalScrollbar) return;
            }


            isDragging = true;
            startX = e.pageX; startY = e.pageY;
            scrollLeftStart = containerElement.scrollLeft; scrollTopStart = containerElement.scrollTop;
            containerElement.classList.add('dragging');
        });

        document.addEventListener('mousemove', (e) => {
            if (!isDragging) return;
            e.preventDefault(); 
            const deltaX = e.pageX - startX; const deltaY = e.pageY - startY;
            containerElement.scrollLeft = scrollLeftStart - deltaX;
            containerElement.scrollTop = scrollTopStart - deltaY;
        });

        document.addEventListener('mouseup', (e) => {
            if (e.button !== 0 || !isDragging) return;
            isDragging = false;
            containerElement.classList.remove('dragging');
        });
       // Touch events for dragging on mobile
        containerElement.addEventListener('touchstart', (e) => {
            if (e.target.closest('button') || e.target.closest('a') || e.target.closest('[onclick]')) return;
            if (e.touches.length === 1) {
                isDragging = true;
                const touch = e.touches[0];
                startX = touch.pageX;
                startY = touch.pageY;
                scrollLeftStart = containerElement.scrollLeft;
                scrollTopStart = containerElement.scrollTop;
                containerElement.classList.add('dragging');
            }
        }, { passive: true }); 

        document.addEventListener('touchmove', (e) => {
            if (!isDragging || e.touches.length !== 1) return;
            const touch = e.touches[0];
            const deltaX = touch.pageX - startX;
            const deltaY = touch.pageY - startY;
            containerElement.scrollLeft = scrollLeftStart - deltaX;
            containerElement.scrollTop = scrollTopStart - deltaY;
        }); 

        document.addEventListener('touchend', (e) => {
            if (!isDragging) return;
            isDragging = false;
            containerElement.classList.remove('dragging');
        });
    }
    
    async function downloadMermaidAsSVG(svgElement, baseFilename, feedbackElem) {
        if (svgElement && svgElement.innerHTML.trim() !== "") {
            try {
                const svgData = new XMLSerializer().serializeToString(svgElement);
                const blob = new Blob([svgData], { type: 'image/svg+xml;charset=utf-8' });
                const url = URL.createObjectURL(blob);
                const link = document.createElement('a');
                link.href = url;
                link.download = `${baseFilename}.svg`;
                document.body.appendChild(link);
                link.click();
                document.body.removeChild(link);
                URL.revokeObjectURL(url);
                showMermaidFeedback(feedbackElem, `${baseFilename}.svg 已下载!`, 'success');
            } catch (error) {
                console.error(`Error during SVG download for ${baseFilename}:`, error);
                showMermaidFeedback(feedbackElem, `下载 ${baseFilename}.svg 失败: ${error.message}`, 'error');
            }
        } else {
            showMermaidFeedback(feedbackElem, '无法下载：图表内容为空。', 'error');
        }
    }

    async function renderDiagram(definition, targetContainer, scaleVariableRef, feedbackElem, uniqueSvgId) {
        if (!targetContainer) {
            console.error("Target container for Mermaid diagram not found.");
            return null;
        }
        targetContainer.innerHTML = '<p style="text-align:center; padding:20px;">图表加载中...</p>';
        targetContainer.classList.remove('empty');

        if (!definition || definition.trim() === "" || definition.trim().toLowerCase() === "mindmap") {
            targetContainer.innerHTML = ''; 
            targetContainer.classList.add('empty'); 
            return null;
        }
        
        currentMindmapDefinition = definition; // Store the definition for fullscreen toggle

        try {
            if (typeof mermaid === 'undefined') throw new Error("Mermaid library is not available.");
            const {svg, bindFunctions} = await mermaid.render(uniqueSvgId, definition);
            targetContainer.innerHTML = svg;
            if (bindFunctions) bindFunctions(targetContainer);

            const svgElement = targetContainer.querySelector('svg');
            if (svgElement) {
                if (targetContainer === mainMermaidContainer) mainCurrentScale = 1;
                else if (targetContainer === modalMermaidContainer) modalCurrentScale = 1;
                
                applySvgScale(svgElement, scaleVariableRef.value); 
                makeDraggable(targetContainer); 
                return svgElement;
            } else {
                targetContainer.innerHTML = '';
                targetContainer.classList.add('empty');
                showMermaidFeedback(feedbackElem, '图表生成了，但未找到SVG内容。', 'error');
                return null;
            }
        } catch (error) {
            console.error("Error rendering Mermaid:", error);
            targetContainer.innerHTML = `<p style="color:red; text-align:center; padding:20px;">渲染图表时出错: ${error.message}</p>`;
            showMermaidFeedback(feedbackElem, `渲染图表时出错: ${error.message}`, 'error', 5000);
            return null;
        }
    }

    // --- Main Mindmap Logic ---
    if(mainZoomInBtn) mainZoomInBtn.addEventListener('click', () => {
        mainCurrentScale += 0.1;
        const svg = mainMermaidContainer.querySelector('svg');
        applySvgScale(svg, mainCurrentScale);
    });

    if(mainZoomOutBtn) mainZoomOutBtn.addEventListener('click', () => {
        if (mainCurrentScale > 0.2) { 
            mainCurrentScale -= 0.1;
            const svg = mainMermaidContainer.querySelector('svg');
            applySvgScale(svg, mainCurrentScale);
        }
    });

    if(mainDownloadDiagramBtn) mainDownloadDiagramBtn.addEventListener('click', () => {
        const svg = mainMermaidContainer.querySelector('svg');
        downloadMermaidAsSVG(svg, '核心概念关系图', mermaidMainFeedbackMessage);
    });

    // --- Fullscreen Modal Logic for Mermaid ---
    if(fullscreenOpenBtn) fullscreenOpenBtn.addEventListener('click', async () => {
        if (!currentMindmapDefinition || currentMindmapDefinition.trim() === "" || currentMindmapDefinition.trim().toLowerCase() === "mindmap") {
             showMermaidFeedback(mermaidMainFeedbackMessage, '请先生成一个有效的导图才能全屏查看。', 'info');
             return;
        }
        if(fullscreenModal) fullscreenModal.classList.add('active');
        document.body.classList.add('modal-active');
        modalCurrentScale = mainCurrentScale; 
        await renderDiagram(currentMindmapDefinition, modalMermaidContainer, {value: modalCurrentScale}, mermaidModalFeedbackMessage, 'modalGeneratedSvgId');
    });

    if(fullscreenCloseBtn) fullscreenCloseBtn.addEventListener('click', () => {
        if(fullscreenModal) fullscreenModal.classList.remove('active');
        document.body.classList.remove('modal-active');
        if(modalMermaidContainer) {
            modalMermaidContainer.innerHTML = ''; 
            modalMermaidContainer.classList.add('empty');
        }
    });

    if(modalZoomInBtn) modalZoomInBtn.addEventListener('click', () => {
        modalCurrentScale += 0.1;
        const svg = modalMermaidContainer.querySelector('svg');
        applySvgScale(svg, modalCurrentScale);
    });

    if(modalZoomOutBtn) modalZoomOutBtn.addEventListener('click', () => {
        if (modalCurrentScale > 0.2) {
            modalCurrentScale -= 0.1;
            const svg = modalMermaidContainer.querySelector('svg');
            applySvgScale(svg, modalCurrentScale);
        }
    });

    if(modalDownloadDiagramBtn) modalDownloadDiagramBtn.addEventListener('click', () => {
        const svg = modalMermaidContainer.querySelector('svg');
        downloadMermaidAsSVG(svg, '核心概念关系图-全屏', mermaidModalFeedbackMessage);
    });

    // --- Initial Setup for Mermaid ---
    async function initializeMainDiagram() {
        if (mainMindmapDiagramDiv && mainMermaidContainer) {
            const initialDefinition = mainMindmapDiagramDiv.textContent.trim();
            if (initialDefinition) {
                await renderDiagram(initialDefinition, mainMermaidContainer, { value: mainCurrentScale }, mermaidMainFeedbackMessage, 'initialMainDiagramSvg');
            } else {
                mainMermaidContainer.classList.add('empty'); 
            }
        } else {
             if(mermaidMainFeedbackMessage && !mainMermaidContainer) showMermaidFeedback(mermaidMainFeedbackMessage, '错误：导图容器未找到。', 'error');
        }
    }
    // --- Mermaid Diagram JavaScript END ---


    // --- Report Page JavaScript START ---
    // Helper function: Get CSS variable value
    function getCssVariable(variableName, defaultValue = null) {
        const value = getComputedStyle(document.documentElement).getPropertyValue(variableName).trim();
        return value || defaultValue;
    }

    function getWebpageNameForFilename() {
        const pageTitleTag = document.querySelector('title');
        let baseName = '群聊周报'; // Default name
        if (pageTitleTag && pageTitleTag.textContent) {
            const fullTitle = pageTitleTag.textContent.trim();
            // Try to extract a more specific name, e.g., "Dia浏览器使用交流群周报"
            const titleParts = fullTitle.split(' - '); 
            if (titleParts.length > 0 && titleParts[0].trim() !== "" && !titleParts[0].toLowerCase().includes("placeholder")) {
                baseName = titleParts[0].trim(); 
            }
        }
        return baseName;
    }

    function getDateStringForFilename() {
        const reportDateElement = document.querySelector('.main-card .date');
        let dateStr = "未指定日期"; 
        if (reportDateElement && reportDateElement.textContent) {
            const dateContent = reportDateElement.textContent.trim();
            if (dateContent && !dateContent.toLowerCase().includes("placeholder") && !dateContent.toLowerCase().includes("例如")) { 
                // Replace spaces and colons often found in date ranges for filenames
                dateStr = dateContent.replace(/\s*-\s*/g, '_to_').replace(/[:\s]/g, '_');
            }
        }
        return dateStr;
    }
    
    function sanitizeFilename(filename) {
        return filename.replace(/[^a-z0-9\u4e00-\u9fa5_\-\.\(\)\[\]]/gi, '_').replace(/_+/g, '_');
    }

    const previousReportUrl = "在此处填写上期周报的URL"; // Placeholder for previous report URL

    function showReportFeedbackMessage(message, type = 'info', duration = 3000) { 
        const feedbackElement = document.getElementById('feedback-message'); 
        if (feedbackElement) {
            feedbackElement.textContent = message;
            feedbackElement.className = type; 
            setTimeout(() => {
                feedbackElement.textContent = '';
                feedbackElement.className = '';
            }, duration);
        }
    }
    
    async function captureScreenshot(elementToCapture) {
        await document.fonts.ready; 
        return html2canvas(elementToCapture, { 
            useCORS: true, 
            scale: window.devicePixelRatio || 1, 
            logging: false, 
            backgroundColor: getCssVariable('--bg-primary', '#f5f4ee'), 
            scrollX: -window.scrollX, 
            scrollY: -window.scrollY,
            windowWidth: document.documentElement.scrollWidth,
            windowHeight: document.documentElement.scrollHeight,
            onclone: function(clonedDoc) {
                const highlightElements = clonedDoc.querySelectorAll('.highlight-keyword');
                highlightElements.forEach(el => {
                    el.style.display = 'inline';
                    el.style.padding = '1px 2px';
                    el.style.lineHeight = '1.2';
                    el.style.boxDecorationBreak = 'clone';
                    el.style.webkitBoxDecorationBreak = 'clone';
                });
            }
        });
    }

    const screenshotToClipboardBtn = document.getElementById('screenshotToClipboardBtn');
    if(screenshotToClipboardBtn) screenshotToClipboardBtn.addEventListener('click', async function() {
        const reportContent = document.getElementById('report-content-wrapper');
        if (!reportContent) {
            showReportFeedbackMessage('截图错误: 未找到报告内容。', 'error');
            return;
        }
        const actionButtons = document.querySelector('.action-buttons-container');
        const feedbackMsgElement = document.getElementById('feedback-message');
        const originalButtonText = this.innerHTML;
        this.innerHTML = '<i class="fas fa-spinner fa-spin"></i> 处理中...';
        this.disabled = true;
        if(actionButtons) actionButtons.style.visibility = 'hidden'; 
        if(feedbackMsgElement) feedbackMsgElement.style.visibility = 'hidden';

        try {
            const canvas = await captureScreenshot(reportContent);
            canvas.toBlob(async function(blob) {
                if (blob) {
                    try {
                        if (navigator.clipboard && navigator.clipboard.write) {
                            await navigator.clipboard.write([
                                new ClipboardItem({ 'image/png': blob })
                            ]);
                            showReportFeedbackMessage('截图已拷贝到剪贴板!', 'success');
                        } else {
                             // Fallback for browsers not supporting navigator.clipboard.write with blobs easily
                            const dataUrl = canvas.toDataURL('image/png');
                            const img = document.createElement('img');
                            img.src = dataUrl;
                            // This doesn't copy to clipboard but prepares for manual copy or shows image
                            // For a true fallback, one might need a more complex solution or instruct user
                            console.warn('Clipboard API not fully supported for image blobs. Image available as Data URL.');
                            showReportFeedbackMessage('截图已生成，但您的浏览器不支持直接拷贝图片。请尝试下载截图。', 'error', 5000);
                        }
                    } catch (copyError) {
                        console.error('拷贝到剪贴板失败:', copyError);
                        showReportFeedbackMessage('拷贝截图到剪贴板失败: ' + copyError.message, 'error', 5000);
                    }
                } else {
                    throw new Error('无法将Canvas转换为Blob。');
                }
            }, 'image/png');
        } catch (error) {
            console.error('截图捕获失败:', error);
            showReportFeedbackMessage('截图捕获失败: ' + error.message, 'error');
        } finally {
            if(actionButtons) actionButtons.style.visibility = 'visible'; 
            if(feedbackMsgElement) feedbackMsgElement.style.visibility = 'visible'; 
            this.innerHTML = originalButtonText;
            this.disabled = false;
        }
    });

    const screenshotDownloadBtn = document.getElementById('screenshotDownloadBtn');
    if(screenshotDownloadBtn) screenshotDownloadBtn.addEventListener('click', async function() {
        const reportContent = document.getElementById('report-content-wrapper');
        if (!reportContent) {
            showReportFeedbackMessage('截图错误: 未找到报告内容。', 'error');
            return;
        }
        const actionButtons = document.querySelector('.action-buttons-container');
        const feedbackMsgElement = document.getElementById('feedback-message');
        const originalButtonText = this.innerHTML;
        this.innerHTML = '<i class="fas fa-spinner fa-spin"></i> 生成中...';
        this.disabled = true;
        if(actionButtons) actionButtons.style.visibility = 'hidden';
        if(feedbackMsgElement) feedbackMsgElement.style.visibility = 'hidden';

        try {
            const canvas = await captureScreenshot(reportContent);
            const image = canvas.toDataURL('image/png');
            const link = document.createElement('a');
            
            const webpageName = getWebpageNameForFilename();
            const dateString = getDateStringForFilename();
            let filename = sanitizeFilename(webpageName + '-' + dateString) + '.png';

            link.href = image;
            link.download = filename;
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
            showReportFeedbackMessage('截图已下载!', 'success');
        } catch (error) {
            console.error('下载截图失败:', error);
            showReportFeedbackMessage('下载截图失败: ' + error.message, 'error');
        } finally {
            if(actionButtons) actionButtons.style.visibility = 'visible';
            if(feedbackMsgElement) feedbackMsgElement.style.visibility = 'visible';
            this.innerHTML = originalButtonText;
            this.disabled = false;
        }
    });
    
    const downloadHtmlBtn = document.getElementById('downloadHtmlBtn');
    if(downloadHtmlBtn) downloadHtmlBtn.addEventListener('click', function() {
        try {
            const htmlContent = document.documentElement.outerHTML;
            const blob = new Blob([htmlContent], { type: 'text/html;charset=utf-8' });
            const link = document.createElement('a');
            
            const webpageName = getWebpageNameForFilename();
            const dateString = getDateStringForFilename();
            let filename = sanitizeFilename(webpageName + '-' + dateString) + '.html';
            
            link.href = URL.createObjectURL(blob);
            link.download = filename;
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
            URL.revokeObjectURL(link.href); 
            showReportFeedbackMessage('HTML报告已下载!', 'success');
        } catch (error) {
            console.error('下载HTML失败:', error);
            showReportFeedbackMessage('下载HTML失败: ' + error.message, 'error');
        }
    });

    const copyHtmlBtn = document.getElementById('copyHtmlBtn');
    if(copyHtmlBtn) copyHtmlBtn.addEventListener('click', function() {
        const htmlContent = document.documentElement.outerHTML;
        const Gthis = this; 
        const originalButtonHTML = Gthis.innerHTML; 
        const textarea = document.createElement('textarea');
        textarea.value = htmlContent;
        textarea.style.position = 'fixed'; 
        textarea.style.top = '-9999px'; 
        textarea.style.left = '-9999px';
        document.body.appendChild(textarea);
        try {
            textarea.select();
            textarea.setSelectionRange(0, textarea.value.length); 
            if (document.execCommand('copy')) {
                Gthis.innerHTML = '<i class="fas fa-check"></i> 已拷贝!';
                showReportFeedbackMessage('HTML已拷贝到剪贴板!', 'success', 2000);
            } else {
                Gthis.innerHTML = '<i class="fas fa-times"></i> 拷贝失败';
                showReportFeedbackMessage('拷贝失败。您的浏览器可能不支持此操作。', 'error', 2000);
            }
        } catch (err) {
            Gthis.innerHTML = '<i class="fas fa-times"></i> 拷贝出错';
            showReportFeedbackMessage('拷贝出错: ' + err.message, 'error', 2000);
            console.error('拷贝HTML源码出错:', err);
        } finally {
            setTimeout(function() { 
                Gthis.innerHTML = originalButtonHTML; 
            }, 2000);
            document.body.removeChild(textarea);
        }
    });

    const viewPreviousReportBtn = document.getElementById('viewPreviousReportBtn');
    if(viewPreviousReportBtn) viewPreviousReportBtn.addEventListener('click', function() {
        const urlToOpen = previousReportUrl.trim();
        const placeholderUrlText = "在此处填写上期周报的URL"; 
        if (urlToOpen && urlToOpen !== placeholderUrlText && (urlToOpen.startsWith('http://') || urlToOpen.startsWith('https://') || !urlToOpen.includes('://'))) {
            let finalUrl = urlToOpen;
            const newWindow = window.open(finalUrl, '_blank'); 
            if (!newWindow || newWindow.closed || typeof newWindow.closed == 'undefined') {
                showReportFeedbackMessage('无法打开新窗口。请检查您的弹出窗口拦截设置。', 'error', 5000);
            }
        } else {
            showReportFeedbackMessage('上期周报的URL未配置或无效。请检查脚本中的 previousReportUrl 变量。', 'error', 5000);
        }
    });

    function adjustActionButtonsLayout() {
        const actionButtonsContainer = document.querySelector('.action-buttons-container');
        if (actionButtonsContainer) {
            if (window.innerWidth <= 768) { 
                actionButtonsContainer.style.display = 'flex';
                actionButtonsContainer.style.flexWrap = 'wrap';
                actionButtonsContainer.style.justifyContent = 'center';
            } else { 
                actionButtonsContainer.style.display = 'block'; 
                actionButtonsContainer.style.flexWrap = 'nowrap'; 
            }
        }
    }
    
    // --- Event Listeners Call on Load ---
    window.addEventListener('load', () => {
        initializeMainDiagram(); // Initialize Mermaid diagram
        adjustActionButtonsLayout(); // Adjust report buttons layout
    });
    window.addEventListener('resize', adjustActionButtonsLayout); // Adjust on resize as well

    // --- Report Page JavaScript END ---
</script>


</body></html>