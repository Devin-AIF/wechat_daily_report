<html lang="zh-CN"><head>
    <style id="__________cytoscape_stylesheet">.__________cytoscape_container { position: relative; }</style><meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Raycast AI使用交流群周报 - 2025年5月19日-5月25日</title>
    <link rel="stylesheet" href="https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/tailwindcss/2.2.19/tailwind.min.css">
    <link rel="stylesheet" href="https://lf6-cdn-tos.bytecdntp.com/cdn/expire-100-M/font-awesome/6.0.0/css/all.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&amp;display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js" xintegrity="sha512-BNaRQnYJYiPSqHHDb58B0yaPfCu+Wgds8Gp/gU33kqBtgNS4tSPHuGibyoVBL5rLesXWW/sGuLhYFChxgYnz2Q==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js"></script>
    <style>
        :root {
            /* 极简主义风格配色 (from report) */
            --bg-primary: #f5f4ee; /* 略暖的米白色 */
            --bg-secondary: #faf9f6; /* 更浅的卡片背景色 */
            --bg-tertiary: #f1f3f5; /* 第三背景色，用于标签等 */
            --text-primary: #212529; /* 主要文字颜色 */
            --text-secondary: #495057; /* 次要文字颜色 */
            --accent-primary: #ff8906; /* 主要强调色 - 橙色 */
            --accent-secondary: #f76707; /* 次要强调色 - 深橙色 */
            --accent-tertiary: #e8590c; /* 第三强调色 - 焦橙色 */
            --accent-blue: #339af0;     /* 特定元素的蓝色强调 */
            --accent-purple: #7048e8; /* 词云的紫色强调 */
            --accent-cyan: #22b8cf;     /* 词云的青色强调 */
            --highlight-keyword-bg: #ffe8cc; /* 关键词高亮背景 */
            --highlight-name-color: #7048e8; /* 人名高亮颜色 */
            --card-padding: 24px; /* 卡片内边距 */
            --grid-gap: 16px; /* 网格间距 */
            --card-radius: 12px; /* 卡片圆角 */
            --card-shadow: 0 4px 6px rgba(0, 0, 0, 0.05); /* 卡片阴影 */
            --font-family: 'Inter', 'SF Pro Display', 'Segoe UI', sans-serif; /* 定义字体变量 */
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: var(--font-family); /* 使用字体变量 */
            background-color: var(--bg-primary);
            color: var(--text-primary);
            line-height: 1.6;
            font-size: 16px;
            width: 100%;
            max-width: 1000px; /* 内容最大宽度 */
            margin: 0 auto; /* 内容居中 */
            padding: 20px; /* 内容周围内边距 */
        }
        body.modal-active {
            overflow: hidden; /* Prevent body scroll when modal is open */
        }

        h1, h2, h3, h4 {
            font-weight: 600;
            letter-spacing: 0.5px;
        }

        h1 {
            font-size: 2.5rem; /* 主卡片大标题 */
            margin-bottom: 0.5rem;
            color: var(--accent-primary);
        }

        h2 { /* H2通用样式, 也用于主题卡片 */
            font-size: 1.75rem; /* 版块标题 */
            margin-bottom: 1rem;
            color: var(--accent-primary); /* 区块和主题卡片标题颜色 */
        }

        h3 { /* 用于子标题或特定元素，如统计卡片 */
            font-size: 1.25rem; /* 子版块标题 */
            margin-bottom: 0.75rem;
            color: var(--accent-blue); /* 子标题使用蓝色以形成对比 */
        }
        .topic-card h2 i, .mindmap-card h2 i, .quote-card h2 i, .links-card h2 i, .stats-card h2 i, .wordcloud-card h2 i {
            margin-right: 8px;
        }

        .grid-container {
            display: grid;
            grid-template-columns: repeat(12, 1fr); /* 12列网格系统 */
            grid-auto-rows: minmax(100px, auto); /* 行高根据内容自动调整, 至少100px */
            gap: var(--grid-gap);
            margin-top: 20px;
            grid-template-areas: /* 更新的网格区域 */
                "main      main      main      main      main      main      main      main      main      main      main      main"
                "topics    topics    topics    topics    topics    topics    topics    topics    topics    topics    topics    topics"
                "mindmap   mindmap   mindmap   mindmap   mindmap   mindmap   mindmap   mindmap   mindmap   mindmap   mindmap   mindmap"
                "quote     quote     quote     quote     quote     quote     links     links     links     links     links     links"
                "stats     stats     stats     stats     stats     stats     stats     wordcloud wordcloud wordcloud wordcloud wordcloud";
        }

        .card {
            background-color: var(--bg-secondary);
            border-radius: var(--card-radius);
            padding: var(--card-padding);
            box-shadow: var(--card-shadow);
            position: relative; /* 用于图标定位和伪元素 */
            overflow: hidden; /* 确保伪元素不超出卡片圆角 */
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            display: flex; /* 为卡片内flex布局添加 */
            flex-direction: column; /* 垂直堆叠项目 */
        }

        .card:hover {
            transform: translateY(-5px); /* 鼠标悬停时轻微上浮效果 */
            box-shadow: 0 8px 15px rgba(0, 0, 0, 0.1); /* 鼠标悬停时增强阴影 */
        }

        /* 卡片顶部强调边框 */
        .card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 3px;
            background: var(--accent-primary);
        }

        /* 卡片右下角装饰性图标 */
        .card-icon {
            position: absolute;
            bottom: var(--card-padding);
            right: var(--card-padding);
            font-size: 4rem;
            opacity: 0.07;
            color: var(--accent-primary);
            z-index: 0; /* Ensure it's behind content if necessary */
        }

        /* 网格区域分配 */
        .main-card { grid-area: main; }
        .topic-cards-wrapper {
            grid-area: topics;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); /* 响应式主题卡片 */
            gap: var(--grid-gap);
        }
        .mindmap-card-container { grid-area: mindmap; } /* Container for the mindmap card */
        .quote-card { grid-area: quote; }
        .links-card { grid-area: links; }
        .stats-card { grid-area: stats; }
        .wordcloud-card { grid-area: wordcloud; }

        .topic-card {
            /* grid-column: span 6; /* 默认占据6列 - 改为 auto-fit */
            min-height: 280px; /* 增加最小高度以容纳更多内容 */
        }
        .topic-card > .topic-card-content-wrapper {
            flex-grow: 1; 
            padding-bottom: 1rem; 
        }
        /* .topic-cards-wrapper > .topic-card:nth-last-child(1):nth-child(odd) {
            grid-column: span 12; /* This rule might not be needed with auto-fit if we always want 2 columns on wider screens */
        /* } */

        .main-card h1 { text-align: center; }
        .main-card .date { text-align: center; }
        .date { font-size: 1.1rem; color: var(--text-secondary); margin-bottom: 1rem; }
        .meta-info { display: flex; flex-wrap: wrap; gap: 15px; margin-bottom: 1rem; justify-content: center; }
        .meta-info span { background-color: var(--bg-tertiary); padding: 5px 10px; border-radius: 20px; font-size: 0.9rem; color: var(--accent-blue); }
        .summary { margin-top: 1rem; line-height: 1.7; text-align: left; }
        .topic-category { display: inline-block; background-color: var(--accent-tertiary); color: var(--bg-primary); padding: 3px 8px; border-radius: 4px; font-size: 0.8rem; margin-bottom: 0.5rem; }
        .topic-keywords { display: flex; flex-wrap: wrap; gap: 8px; margin-top: 0.75rem; margin-bottom: 0.75rem; }
        .keyword { background-color: var(--bg-tertiary); color: var(--accent-primary); padding: 3px 8px; border-radius: 4px; font-size: 0.8rem; }
        .highlight-keyword { background-color: var(--highlight-keyword-bg); padding: 1px 2px; border-radius: 2px; font-weight: 500; display: inline; line-height: 1.2; box-decoration-break: clone; -webkit-box-decoration-break: clone; }
        .highlight-name { color: var(--highlight-name-color); font-weight: 500; }
        .topic-mentions { font-size: 0.9rem; color: var(--text-secondary); margin-top: auto; /* Push to bottom */ }
        .quote { position: relative; padding-left: 20px; margin: 10px 0; font-style: italic; color: var(--text-secondary); }
        .quote::before { content: '"'; position: absolute; left: 0; top: 0; font-size: 1.5rem; color: var(--accent-tertiary); }
        .quote-author { text-align: right; font-size: 0.9rem; color: var(--accent-tertiary); margin-top: 5px; }
        .quote ul { list-style-type: disc; padding-left: 20px; margin-top: 0.5rem; font-style: normal;}
        .quote ul li { margin-bottom: 0.3rem;}

        .links-card ul { list-style: none; padding: 0; }
        .links-card ul li { margin-bottom: 10px; }
        .link-item { display: flex; align-items: center; padding: 8px; border-radius: 6px; background-color: var(--bg-tertiary); transition: background-color 0.2s ease; text-decoration: none; }
        .link-item:hover { background-color: rgba(51, 154, 240, 0.1); }
        .link-item a { text-decoration: none; color: inherit; display: flex; align-items: center; width: 100%; }
        .link-item a:hover .link-title { text-decoration: underline; color: var(--accent-blue); }
        .link-icon { margin-right: 10px; color: var(--accent-blue); }
        .link-title { flex-grow: 1; color: var(--text-primary); word-break: break-all; }
        .link-title.is-link { color: var(--accent-blue); }
        .link-title.is-link:hover { text-decoration: underline; }

        .user-stats-table { width: 100%; border-collapse: collapse; margin-top: 0.5rem; }
        .user-stats-table th { text-align: left; padding: 0.75rem 0.5rem; border-bottom: 2px solid var(--accent-primary); color: var(--text-primary); font-weight: 600; font-size: 0.9rem; }
        .user-stats-table td { padding: 0.75rem 0.5rem; border-bottom: 1px solid var(--bg-tertiary); color: var(--text-secondary); font-size: 0.85rem; vertical-align: top; text-align: left; }
        .user-stats-table .user-name-col { width: 30%; font-weight: 500; word-break: break-all; }
        /* .user-stats-table .message-count-col { text-align: center; width: 15%; white-space: nowrap; } */
        .user-stats-table .contribution-col { width: 70%; word-break: break-all; }
        .user-stats-table tr:last-child td { border-bottom: none; }

        .wordcloud { display: flex; flex-wrap: wrap; justify-content: center; align-items: center; gap: 10px; padding: 20px 0; min-height: 150px; }
        .wordcloud-item { padding: 5px 10px; border-radius: 4px; font-weight: 500; transition: transform 0.2s ease; }
        .wordcloud-item:hover { transform: scale(1.1); }
        .size-1 { font-size: 0.9rem; color: var(--text-secondary); }
        .size-2 { font-size: 1.1rem; color: var(--accent-cyan); }
        .size-3 { font-size: 1.3rem; color: var(--accent-blue); }
        .size-4 { font-size: 1.5rem; color: var(--accent-purple); }
        .size-5 { font-size: 1.8rem; color: var(--accent-tertiary); }

        .action-buttons-container { text-align: center; margin: 20px 0; padding-bottom: 20px; }
        .action-button { background-color: var(--accent-primary); color: white; border: none; padding: 10px 20px; border-radius: var(--card-radius); font-size: 1rem; font-weight: 500; cursor: pointer; transition: background-color 0.3s ease, transform 0.2s ease; margin: 5px 10px; box-shadow: var(--card-shadow); display: inline-flex; align-items: center; justify-content: center; }
        .action-button:hover { background-color: var(--accent-secondary); transform: translateY(-2px); }
        .action-button i, .action-button .fas { margin-right: 8px; }
        .footer { margin-top: 30px; text-align: center; color: var(--text-secondary); font-size: 0.9rem; }
        #report-content-wrapper .footer { margin-top: 30px; padding-bottom: 20px; }

        /* Mermaid Diagram Specific Styles */
        .mindmap-card { /* This class is applied to the card holding the mindmap */
            min-height: 400px; /* Adjust as needed */
        }
        .mindmap-card h2 i { margin-right: 8px; }
        .mindmap-controls { display: flex; gap: 10px; margin-bottom: 15px; align-items: center; flex-wrap: wrap; }
        .mindmap-controls button { background-color: var(--accent-blue); color: white; border: none; padding: 8px 12px; border-radius: var(--card-radius); font-size: 0.9rem; cursor: pointer; transition: background-color 0.2s ease; font-weight: 500; display: inline-flex; align-items: center; justify-content: center; }
        .mindmap-controls button:hover { background-color: #228be6; /* Darker blue for hover */ }
        .mindmap-controls button i { margin-right: 5px; }
        .mindmap-controls .fullscreen-toggle-btn { margin-left: auto; }
        .mermaid-container { flex-grow: 1; display: flex; justify-content: center; align-items: center; overflow: auto; background-color: #fff; border-radius: 8px; padding: 10px; border: 1px solid var(--bg-tertiary); min-height: 300px; cursor: grab; }
        .mermaid-container.dragging { cursor: grabbing; }
        .mermaid-container:empty::before { content: "在此处生成或粘贴Mermaid导图代码。"; color: var(--text-secondary); font-style: italic; text-align: center; padding: 20px; }
        .mermaid-container svg { max-width: none; height: auto; display: block; transition: transform 0.2s ease-out; }

        /* Feedback messages for Mermaid */
        #mermaid-main-feedback-message, #mermaid-modal-feedback-message { text-align: center; margin-top: 15px; padding: 8px; border-radius: 4px; font-weight: 500; font-size: 0.9rem; display: none; }
        #mermaid-main-feedback-message.success, #mermaid-modal-feedback-message.success { color: #155724; background-color: #d4edda; border: 1px solid #c3e6cb; display: block; }
        #mermaid-main-feedback-message.error, #mermaid-modal-feedback-message.error { color: #721c24; background-color: #f8d7da; border: 1px solid #f5c6cb; display: block; }
        #mermaid-main-feedback-message.info, #mermaid-modal-feedback-message.info { color: #0c5460; background-color: #d1ecf1; border: 1px solid #bee5eb; display: block; }
        
        /* Report's own feedback message styling */
        #feedback-message { text-align: center; margin-top: 10px; font-weight: 500; }
        #feedback-message.success { color: green; }
        #feedback-message.error { color: red; }

        /* Fullscreen Modal Styles for Mermaid */
        .modal-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0, 0, 0, 0.75); display: none; justify-content: center; align-items: center; z-index: 1000; padding: 20px; }
        .modal-overlay.active { display: flex; }
        .modal-content { /* This class is also used by the Mermaid modal's inner card */
            width: 95%; height: 90%; max-width: 1200px; 
        }
        .modal-close-btn { position: absolute; top: 15px; right: 20px; background: none; border: none; font-size: 2.2rem; color: var(--text-secondary); cursor: pointer; line-height: 1; padding: 5px; z-index: 1010; }
        .modal-close-btn:hover { color: var(--text-primary); }
        #modalMermaidContainer { flex-grow: 1; min-height: 0; /* Ensure it uses space within modal-content */ }
        #modalMermaidContainer:empty::before { content: "导图内容将在此显示。"; color: var(--text-secondary); font-style: italic; text-align: center; padding: 20px; display: flex; justify-content: center; align-items: center; height: 100%; }

        @keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
        .card { animation: fadeIn 0.5s ease forwards; }
        .main-card { animation-delay: 0.1s; }
        .topic-cards-wrapper .topic-card:nth-child(1) { animation-delay: 0.2s; }
        .topic-cards-wrapper .topic-card:nth-child(2) { animation-delay: 0.3s; }
        .topic-cards-wrapper .topic-card:nth-child(3) { animation-delay: 0.4s; }
        .topic-cards-wrapper .topic-card:nth-child(4) { animation-delay: 0.5s; }
        .topic-cards-wrapper .topic-card:nth-child(5) { animation-delay: 0.6s; }
        .topic-cards-wrapper .topic-card:nth-child(6) { animation-delay: 0.7s; }
        .mindmap-card-container .card { animation-delay: 0.8s; } 
        .quote-card { animation-delay: 0.9s; }
        .links-card { animation-delay: 1.0s; }
        .stats-card { animation-delay: 1.1s; }
        .wordcloud-card { animation-delay: 1.2s; }
        #report-content-wrapper .footer { animation: fadeIn 0.5s ease forwards; animation-delay: 1.3s; } 
        .action-buttons-container { animation: fadeIn 0.5s ease forwards; animation-delay: 1.4s; } 


        @media (max-width: 768px) {
            body { padding: 10px; font-size: 14px; }
            h1 { font-size: 1.8rem; }
            h2 { font-size: 1.4rem; }
            h3 { font-size: 1.1rem; }
            .grid-container {
                grid-template-columns: 1fr;
                grid-template-areas:
                    "main"
                    "topics"
                    "mindmap"
                    "quote"
                    "links"
                    "stats"
                    "wordcloud";
            }
            .topic-cards-wrapper { grid-template-columns: 1fr; } /* Single column for topics on smaller screens */
            .topic-card { grid-column: 1 / -1; min-height: auto; }
            .topic-card > .topic-card-content-wrapper { padding-bottom: 1rem; }
            .topic-mentions { position: static; margin-top: 10px; margin-bottom: 10px; text-align: left; }
            .card-icon { font-size: 2.5rem; opacity:0.05; }
            .mindmap-card .card-icon { bottom: 15px; right: 15px; }

            .user-stats-table th, .user-stats-table td { padding: 0.5rem 0.25rem; font-size: 0.8rem; }
            .user-stats-table td { text-align: left; }
            /* .user-stats-table .message-count-col { text-align: center; } */
            .action-button { padding: 8px 15px; font-size: 0.9rem; }
            .action-buttons-container { display: flex; flex-wrap: wrap; justify-content: center; gap: 10px; }
            .action-buttons-container .action-button { width: calc(50% - 10px); min-width: 180px; margin: 5px 0; }
            
            /* Mermaid specific responsive */
            .mindmap-card .card { padding: 15px; }
            .mindmap-controls button { font-size: 0.8rem; padding: 6px 10px; }
            .modal-content { width: 100%; height: 95%; }
            .modal-close-btn { font-size: 1.8rem; top:10px; right:10px;}
        }
        @media (max-width: 480px) {
            .action-buttons-container .action-button { width: 80%; }
            .user-stats-table { display: block; overflow-x: auto; }
            .user-stats-table th, .user-stats-table td { white-space: normal; }
            .user-stats-table thead, .user-stats-table tbody, .user-stats-table tr { display: block; }
            .user-stats-table tr { border-bottom: 1px solid var(--bg-tertiary); }
            .user-stats-table th { display: none; }
            .user-stats-table td { display: block; text-align: left; border-bottom: none; padding-left: 0.5rem; }
            /* .user-stats-table td.message-count-col { text-align: left; } */
            .user-stats-table td::before { content: attr(data-label); font-weight: bold; display: inline-block; width: auto; min-width: 80px; margin-right: 10px; color: var(--text-primary); text-align: left; }
            .user-stats-table tr:last-child { border-bottom: none; }
        }
    </style>
</head>
<body>
    <div id="report-content-wrapper">
        <div class="grid-container">
            <div class="card main-card">
                <h1 contenteditable="false">Raycast AI使用交流群周报</h1>
                <div class="date">2025年5月19日 - 2025年5月25日</div>
                <div class="meta-info">
                    <span><i class="fas fa-users"></i> 群聊名称: Raycast AI使用交流</span>
                    <span><i class="fas fa-calendar-week"></i> 统计周期: 第21周</span>
                    <span><i class="fas fa-comment"></i> 消息数: 80+</span>
                    <span><i class="fas fa-users"></i> 活跃用户: 20+</span>
                    <span><i class="fas fa-fire"></i> 热点话题: 6</span>
                </div>
                <p class="summary">本周Raycast AI使用交流群的讨论呈现出技术探索与实用性并重的特点。MCP协议的应用探讨展现了群友们对新技术的敏锐嗅觉和快速学习能力，而Claude 4的使用体验分享则体现了社区在新模型测试和问题反馈方面的积极态度。订阅策略的讨论反映了用户对成本效益的理性考量，数据转换工具的分享则展现了专业工具在特定场景下的不可替代价值。语音转文字工具的推荐满足了用户多样化的需求，而AI总结资源的分享则体现了社区协作和知识共享的良好氛围。整体而言，本周的讨论质量较高，既有前沿技术的探索，也有实用工具的分享，为群友们的效率提升和工作流程优化提供了有价值的参考。</p>
                <i class="fas fa-brain card-icon"></i>
            </div>

            <div class="topic-cards-wrapper">
                <div class="card topic-card">
                    <div class="topic-card-content-wrapper"> 
                        <h2><i class="fas fa-cogs"></i> MCP在Raycast中的应用探索</h2>
                        <div class="topic-category">技术探索</div>
                        <p>本周最受关注的技术话题是MCP在Raycast中的应用可能性。<span class="highlight-name">强子（乔纳森•钢蛋）</span>率先提出了一个具有前瞻性的问题："raycast中弄个mcp能否代替GPTs"，引发了群友们的积极讨论。<span class="highlight-name">xiaolei0vip</span>及时分享了相关的技术文章《别再复制粘贴了！让AI自动调用 Prompt 的神器终于来了。附 MCP 保姆级安装配置教程》，为群友们提供了详细的配置指导。<span class="highlight-name">强子</span>表示已经成功配置了MCP，展现了群友们对新技术的快速学习和实践能力。这一讨论体现了Raycast用户群体对于提升工作效率、减少重复操作的强烈需求，以及对AI工具集成化发展趋势的敏锐洞察。</p>
                        <div class="topic-keywords">
                            <span class="keyword">MCP</span>
                            <span class="keyword">Raycast</span>
                            <span class="keyword">GPTs</span>
                            <span class="keyword">效率提升</span>
                            <span class="keyword">AI集成</span>
                        </div>
                        <div class="topic-mentions"><i class="fas fa-bullhorn"></i> 重点讨论话题</div>
                    </div>
                    <i class="fas fa-puzzle-piece card-icon"></i> 
                </div>
                <div class="card topic-card">
                    <div class="topic-card-content-wrapper"> 
                        <h2><i class="fas fa-comment-alt"></i> Claude 4在Raycast中的使用体验</h2>
                        <div class="topic-category">模型体验</div>
                        <p>Claude 4的发布成为本周群内的重要讨论焦点，群友们积极分享使用体验并反馈遇到的问题。<span class="highlight-name">强子</span>在使用过程中发现了一个关键问题："raycast app 用snonet4 回答总是说一半"，这个问题引起了其他用户的关注。<span class="highlight-name">尔东陈</span>分享了类似的经历，表示在调用Opus4时也出现了回答不完整的情况。<span class="highlight-name">强子</span>发现同样的调用在使用GPT-4时没有问题，这表明可能是Claude 4在Raycast集成中存在特定的技术问题。<span class="highlight-name">向阳乔木</span>及时分享了Claude 4的详细评测文章。</p>
                        <div class="topic-keywords">
                            <span class="keyword">Claude 4</span>
                            <span class="keyword">Raycast</span>
                            <span class="keyword">Snonet4</span>
                            <span class="keyword">兼容性</span>
                        </div>
                        <div class="topic-mentions"><i class="fas fa-bullhorn"></i> 重点讨论话题</div>
                    </div>
                    <i class="fas fa-robot card-icon"></i> 
                </div>
                <div class="card topic-card">
                    <div class="topic-card-content-wrapper"> 
                        <h2><i class="fas fa-credit-card"></i> Raycast Pro订阅与优惠策略</h2>
                        <div class="topic-category">会员订阅</div>
                        <p>本周群友们就Raycast Pro的订阅策略进行了深入讨论，特别关注如何获得最优惠的价格。<span class="highlight-name">JK</span>首先询问了Claude 4在Raycast中的使用限制，了解到需要Advanced会员才能使用。<span class="highlight-name">xiaolei0vip</span>提供了具体的使用限制信息。<span class="highlight-name">Gary</span>积极寻求购买Pro版本的最优惠方案，<span class="highlight-name">强子</span>和<span class="highlight-name">xiaolei0vip</span>都推荐了邀请链接和教育优惠。<span class="highlight-name">选柚高高手</span>分享了自己96美元一年的优惠价格。<span class="highlight-name">nardinmarcus</span>在实际操作中发现使用邀请链接后无法再叠加其他优惠码。</p>
                        <div class="topic-keywords">
                            <span class="keyword">Raycast Pro</span>
                            <span class="keyword">订阅优惠</span>
                            <span class="keyword">教育优惠</span>
                        </div>
                        <div class="topic-mentions"><i class="fas fa-bullhorn"></i> 重点讨论话题</div>
                    </div>
                    <i class="fas fa-tags card-icon"></i> 
                </div>
                 <div class="card topic-card">
                    <div class="topic-card-content-wrapper"> 
                        <h2><i class="fas fa-exchange-alt"></i> 数据格式转换工具与流程优化</h2>
                        <div class="topic-category">工具分享</div>
                        <p>数据处理效率成为本周的另一个重要讨论主题，特别是Excel到JSON的转换需求。<span class="highlight-name">强子</span>在使用Raycast时遇到了一个实际问题："raycast竟然不能上传xlsx附件"。<span class="highlight-name">xiaolei0vip</span>提供了一个巧妙的解决方案："转成json"，并详细介绍了自己使用的工具<span class="highlight-keyword">utloos</span>。<span class="highlight-name">Ronin_Chang</span>对此表现出浓厚兴趣。这一讨论不仅解决了具体的技术问题，还展现了群友们对工作流程优化的持续追求。</p>
                        <div class="topic-keywords">
                            <span class="keyword">Excel转JSON</span>
                            <span class="keyword">utloos</span>
                            <span class="keyword">数据处理</span>
                            <span class="keyword">效率工具</span>
                        </div>
                        <div class="topic-mentions"><i class="fas fa-bullhorn"></i> 重点讨论话题</div>
                    </div>
                    <i class="fas fa-file-code card-icon"></i> 
                </div>
                <div class="card topic-card">
                    <div class="topic-card-content-wrapper"> 
                        <h2><i class="fas fa-microphone-alt"></i> 语音转文字工具推荐</h2>
                        <div class="topic-category">工具推荐</div>
                        <p><span class="highlight-name">Bala</span>在群内提出了语音转文字的需求，特别是用于Obsidian记日记的场景。群友们推荐了多个实用的解决方案：<span class="highlight-name">quan</span>建议尝试<span class="highlight-keyword">豆包</span>；<span class="highlight-name">paradox</span>强烈推荐<span class="highlight-keyword">MacWhisper</span>，认为它是"最可靠"的选择；<span class="highlight-name">黑微狗</span>分享了一个在线工具。这一讨论反映了用户对语音转文字功能在日常工作和生活中的实际需求。</p>
                        <div class="topic-keywords">
                            <span class="keyword">语音转文字</span>
                            <span class="keyword">Obsidian</span>
                            <span class="keyword">MacWhisper</span>
                            <span class="keyword">豆包</span>
                        </div>
                        <div class="topic-mentions"><i class="fas fa-bullhorn"></i> 重点讨论话题</div>
                    </div>
                    <i class="fas fa-headset card-icon"></i> 
                </div>
                <div class="card topic-card">
                    <div class="topic-card-content-wrapper"> 
                        <h2><i class="fas fa-archive"></i> AI群聊总结工具与资源整合</h2>
                        <div class="topic-category">社区资源</div>
                        <p><span class="highlight-name">向阳乔木</span>在本周分享了一个重要的社区资源：群友帮忙整理的各个群的AI总结（飞书文档）。这个资源的分享获得了群友们的积极响应，<span class="highlight-name">尹轶</span>表示"太好了！"。这个总结工具不仅展现了AI在内容整理和知识管理方面的强大能力，也体现了社区成员之间的协作精神和资源共享意识。</p>
                        <div class="topic-keywords">
                            <span class="keyword">AI总结</span>
                            <span class="keyword">群聊管理</span>
                            <span class="keyword">知识共享</span>
                            <span class="keyword">飞书</span>
                        </div>
                        <div class="topic-mentions"><i class="fas fa-bullhorn"></i> 重点讨论话题</div>
                    </div>
                    <i class="fas fa-book-reader card-icon"></i> 
                </div>
            </div>
            
            <div class="mindmap-card-container card"> <div class="mindmap-card"> 
                    <h2><i class="fas fa-sitemap"></i> 本周核心讨论导图</h2>
                    <div class="mindmap-controls">
                        <button id="zoomInBtn"><i class="fas fa-search-plus"></i> 放大</button>
                        <button id="zoomOutBtn"><i class="fas fa-search-minus"></i> 缩小</button>
                        <button id="downloadDiagramBtn"><i class="fas fa-download"></i> 下载导图</button>
                        <button id="fullscreenOpenBtn" class="fullscreen-toggle-btn"><i class="fas fa-expand"></i> 全屏</button> 
                    </div>
                    <div class="mermaid-container" id="mainMermaidContainer"><svg aria-roledescription="mindmap" role="graphics-document document" viewBox="0 0 1220.6265869140625 505.8683776855469" height="505.8683776855469" xmlns="http://www.w3.org/2000/svg" width="1220.6265869140625" id="initialMainDiagramSvg" style="transform: scale(1); transform-origin: center center;"><style>#initialMainDiagramSvg{font-family:"Inter",sans-serif;font-size:16px;fill:#333;}#initialMainDiagramSvg .error-icon{fill:hsl(220.5882352941, 100%, 98.3333333333%);}#initialMainDiagramSvg .error-text{fill:rgb(8.5000000002, 5.7500000001, 0);stroke:rgb(8.5000000002, 5.7500000001, 0);}#initialMainDiagramSvg .edge-thickness-normal{stroke-width:2px;}#initialMainDiagramSvg .edge-thickness-thick{stroke-width:3.5px;}#initialMainDiagramSvg .edge-pattern-solid{stroke-dasharray:0;}#initialMainDiagramSvg .edge-pattern-dashed{stroke-dasharray:3;}#initialMainDiagramSvg .edge-pattern-dotted{stroke-dasharray:2;}#initialMainDiagramSvg .marker{fill:#0b0b0b;stroke:#0b0b0b;}#initialMainDiagramSvg .marker.cross{stroke:#0b0b0b;}#initialMainDiagramSvg svg{font-family:"Inter",sans-serif;font-size:16px;}#initialMainDiagramSvg .edge{stroke-width:3;}#initialMainDiagramSvg .section--1 rect,#initialMainDiagramSvg .section--1 path,#initialMainDiagramSvg .section--1 circle,#initialMainDiagramSvg .section--1 polygon,#initialMainDiagramSvg .section--1 path{fill:hsl(40.5882352941, 100%, 68.3333333333%);}#initialMainDiagramSvg .section--1 text{fill:#333;}#initialMainDiagramSvg .node-icon--1{font-size:40px;color:#333;}#initialMainDiagramSvg .section-edge--1{stroke:hsl(40.5882352941, 100%, 68.3333333333%);}#initialMainDiagramSvg .edge-depth--1{stroke-width:17;}#initialMainDiagramSvg .section--1 line{stroke:rgb(0, 52.2500000001, 161.5000000002);stroke-width:3;}#initialMainDiagramSvg .disabled,#initialMainDiagramSvg .disabled circle,#initialMainDiagramSvg .disabled text{fill:lightgray;}#initialMainDiagramSvg .disabled text{fill:#efefef;}#initialMainDiagramSvg .section-0 rect,#initialMainDiagramSvg .section-0 path,#initialMainDiagramSvg .section-0 circle,#initialMainDiagramSvg .section-0 polygon,#initialMainDiagramSvg .section-0 path{fill:hsl(-79.4117647059, 100%, 68.3333333333%);}#initialMainDiagramSvg .section-0 text{fill:#333;}#initialMainDiagramSvg .node-icon-0{font-size:40px;color:#333;}#initialMainDiagramSvg .section-edge-0{stroke:hsl(-79.4117647059, 100%, 68.3333333333%);}#initialMainDiagramSvg .edge-depth-0{stroke-width:14;}#initialMainDiagramSvg .section-0 line{stroke:rgb(52.2500000001, 161.5000000002, 0);stroke-width:3;}#initialMainDiagramSvg .disabled,#initialMainDiagramSvg .disabled circle,#initialMainDiagramSvg .disabled text{fill:lightgray;}#initialMainDiagramSvg .disabled text{fill:#efefef;}#initialMainDiagramSvg .section-1 rect,#initialMainDiagramSvg .section-1 path,#initialMainDiagramSvg .section-1 circle,#initialMainDiagramSvg .section-1 polygon,#initialMainDiagramSvg .section-1 path{fill:hsl(220.5882352941, 100%, 73.3333333333%);}#initialMainDiagramSvg .section-1 text{fill:#333;}#initialMainDiagramSvg .node-icon-1{font-size:40px;color:#333;}#initialMainDiagramSvg .section-edge-1{stroke:hsl(220.5882352941, 100%, 73.3333333333%);}#initialMainDiagramSvg .edge-depth-1{stroke-width:11;}#initialMainDiagramSvg .section-1 line{stroke:rgb(136.0000000002, 92.0000000001, 0);stroke-width:3;}#initialMainDiagramSvg .disabled,#initialMainDiagramSvg .disabled circle,#initialMainDiagramSvg .disabled text{fill:lightgray;}#initialMainDiagramSvg .disabled text{fill:#efefef;}#initialMainDiagramSvg .section-2 rect,#initialMainDiagramSvg .section-2 path,#initialMainDiagramSvg .section-2 circle,#initialMainDiagramSvg .section-2 polygon,#initialMainDiagramSvg .section-2 path{fill:hsl(70.5882352941, 100%, 68.3333333333%);}#initialMainDiagramSvg .section-2 text{fill:#333;}#initialMainDiagramSvg .node-icon-2{font-size:40px;color:#333;}#initialMainDiagramSvg .section-edge-2{stroke:hsl(70.5882352941, 100%, 68.3333333333%);}#initialMainDiagramSvg .edge-depth-2{stroke-width:8;}#initialMainDiagramSvg .section-2 line{stroke:rgb(28.5, 0, 161.5000000002);stroke-width:3;}#initialMainDiagramSvg .disabled,#initialMainDiagramSvg .disabled circle,#initialMainDiagramSvg .disabled text{fill:lightgray;}#initialMainDiagramSvg .disabled text{fill:#efefef;}#initialMainDiagramSvg .section-3 rect,#initialMainDiagramSvg .section-3 path,#initialMainDiagramSvg .section-3 circle,#initialMainDiagramSvg .section-3 polygon,#initialMainDiagramSvg .section-3 path{fill:hsl(100.5882352941, 100%, 68.3333333333%);}#initialMainDiagramSvg .section-3 text{fill:#333;}#initialMainDiagramSvg .node-icon-3{font-size:40px;color:#333;}#initialMainDiagramSvg .section-edge-3{stroke:hsl(100.5882352941, 100%, 68.3333333333%);}#initialMainDiagramSvg .edge-depth-3{stroke-width:5;}#initialMainDiagramSvg .section-3 line{stroke:rgb(109.2500000001, 0, 161.5000000002);stroke-width:3;}#initialMainDiagramSvg .disabled,#initialMainDiagramSvg .disabled circle,#initialMainDiagramSvg .disabled text{fill:lightgray;}#initialMainDiagramSvg .disabled text{fill:#efefef;}#initialMainDiagramSvg .section-4 rect,#initialMainDiagramSvg .section-4 path,#initialMainDiagramSvg .section-4 circle,#initialMainDiagramSvg .section-4 polygon,#initialMainDiagramSvg .section-4 path{fill:hsl(130.5882352941, 100%, 68.3333333333%);}#initialMainDiagramSvg .section-4 text{fill:#333;}#initialMainDiagramSvg .node-icon-4{font-size:40px;color:#333;}#initialMainDiagramSvg .section-edge-4{stroke:hsl(130.5882352941, 100%, 68.3333333333%);}#initialMainDiagramSvg .edge-depth-4{stroke-width:2;}#initialMainDiagramSvg .section-4 line{stroke:rgb(161.5000000002, 0, 133.0000000002);stroke-width:3;}#initialMainDiagramSvg .disabled,#initialMainDiagramSvg .disabled circle,#initialMainDiagramSvg .disabled text{fill:lightgray;}#initialMainDiagramSvg .disabled text{fill:#efefef;}#initialMainDiagramSvg .section-5 rect,#initialMainDiagramSvg .section-5 path,#initialMainDiagramSvg .section-5 circle,#initialMainDiagramSvg .section-5 polygon,#initialMainDiagramSvg .section-5 path{fill:hsl(160.5882352941, 100%, 68.3333333333%);}#initialMainDiagramSvg .section-5 text{fill:#333;}#initialMainDiagramSvg .node-icon-5{font-size:40px;color:#333;}#initialMainDiagramSvg .section-edge-5{stroke:hsl(160.5882352941, 100%, 68.3333333333%);}#initialMainDiagramSvg .edge-depth-5{stroke-width:-1;}#initialMainDiagramSvg .section-5 line{stroke:rgb(161.5000000002, 0, 52.2500000001);stroke-width:3;}#initialMainDiagramSvg .disabled,#initialMainDiagramSvg .disabled circle,#initialMainDiagramSvg .disabled text{fill:lightgray;}#initialMainDiagramSvg .disabled text{fill:#efefef;}#initialMainDiagramSvg .section-6 rect,#initialMainDiagramSvg .section-6 path,#initialMainDiagramSvg .section-6 circle,#initialMainDiagramSvg .section-6 polygon,#initialMainDiagramSvg .section-6 path{fill:hsl(190.5882352941, 100%, 68.3333333333%);}#initialMainDiagramSvg .section-6 text{fill:#333;}#initialMainDiagramSvg .node-icon-6{font-size:40px;color:#333;}#initialMainDiagramSvg .section-edge-6{stroke:hsl(190.5882352941, 100%, 68.3333333333%);}#initialMainDiagramSvg .edge-depth-6{stroke-width:-4;}#initialMainDiagramSvg .section-6 line{stroke:rgb(161.5000000002, 28.5, 0);stroke-width:3;}#initialMainDiagramSvg .disabled,#initialMainDiagramSvg .disabled circle,#initialMainDiagramSvg .disabled text{fill:lightgray;}#initialMainDiagramSvg .disabled text{fill:#efefef;}#initialMainDiagramSvg .section-7 rect,#initialMainDiagramSvg .section-7 path,#initialMainDiagramSvg .section-7 circle,#initialMainDiagramSvg .section-7 polygon,#initialMainDiagramSvg .section-7 path{fill:hsl(250.5882352941, 100%, 75%);}#initialMainDiagramSvg .section-7 text{fill:#333;}#initialMainDiagramSvg .node-icon-7{font-size:40px;color:#333;}#initialMainDiagramSvg .section-edge-7{stroke:hsl(250.5882352941, 100%, 75%);}#initialMainDiagramSvg .edge-depth-7{stroke-width:-7;}#initialMainDiagramSvg .section-7 line{stroke:rgb(105, 127.5, 0);stroke-width:3;}#initialMainDiagramSvg .disabled,#initialMainDiagramSvg .disabled circle,#initialMainDiagramSvg .disabled text{fill:lightgray;}#initialMainDiagramSvg .disabled text{fill:#efefef;}#initialMainDiagramSvg .section-8 rect,#initialMainDiagramSvg .section-8 path,#initialMainDiagramSvg .section-8 circle,#initialMainDiagramSvg .section-8 polygon,#initialMainDiagramSvg .section-8 path{fill:hsl(310.5882352941, 100%, 68.3333333333%);}#initialMainDiagramSvg .section-8 text{fill:#333;}#initialMainDiagramSvg .node-icon-8{font-size:40px;color:#333;}#initialMainDiagramSvg .section-edge-8{stroke:hsl(310.5882352941, 100%, 68.3333333333%);}#initialMainDiagramSvg .edge-depth-8{stroke-width:-10;}#initialMainDiagramSvg .section-8 line{stroke:rgb(0, 161.5000000002, 28.5);stroke-width:3;}#initialMainDiagramSvg .disabled,#initialMainDiagramSvg .disabled circle,#initialMainDiagramSvg .disabled text{fill:lightgray;}#initialMainDiagramSvg .disabled text{fill:#efefef;}#initialMainDiagramSvg .section-9 rect,#initialMainDiagramSvg .section-9 path,#initialMainDiagramSvg .section-9 circle,#initialMainDiagramSvg .section-9 polygon,#initialMainDiagramSvg .section-9 path{fill:hsl(340.5882352941, 100%, 68.3333333333%);}#initialMainDiagramSvg .section-9 text{fill:#333;}#initialMainDiagramSvg .node-icon-9{font-size:40px;color:#333;}#initialMainDiagramSvg .section-edge-9{stroke:hsl(340.5882352941, 100%, 68.3333333333%);}#initialMainDiagramSvg .edge-depth-9{stroke-width:-13;}#initialMainDiagramSvg .section-9 line{stroke:rgb(0, 161.5000000002, 109.2500000001);stroke-width:3;}#initialMainDiagramSvg .disabled,#initialMainDiagramSvg .disabled circle,#initialMainDiagramSvg .disabled text{fill:lightgray;}#initialMainDiagramSvg .disabled text{fill:#efefef;}#initialMainDiagramSvg .section-10 rect,#initialMainDiagramSvg .section-10 path,#initialMainDiagramSvg .section-10 circle,#initialMainDiagramSvg .section-10 polygon,#initialMainDiagramSvg .section-10 path{fill:hsl(10.5882352941, 100%, 68.3333333333%);}#initialMainDiagramSvg .section-10 text{fill:#333;}#initialMainDiagramSvg .node-icon-10{font-size:40px;color:#333;}#initialMainDiagramSvg .section-edge-10{stroke:hsl(10.5882352941, 100%, 68.3333333333%);}#initialMainDiagramSvg .edge-depth-10{stroke-width:-16;}#initialMainDiagramSvg .section-10 line{stroke:rgb(0, 133.0000000002, 161.5000000002);stroke-width:3;}#initialMainDiagramSvg .disabled,#initialMainDiagramSvg .disabled circle,#initialMainDiagramSvg .disabled text{fill:lightgray;}#initialMainDiagramSvg .disabled text{fill:#efefef;}#initialMainDiagramSvg .section-root rect,#initialMainDiagramSvg .section-root path,#initialMainDiagramSvg .section-root circle,#initialMainDiagramSvg .section-root polygon{fill:hsl(40.5882352941, 100%, 68.3333333333%);}#initialMainDiagramSvg .section-root text{fill:#333;}#initialMainDiagramSvg .icon-container{height:100%;display:flex;justify-content:center;align-items:center;}#initialMainDiagramSvg .edge{fill:none;}#initialMainDiagramSvg .mindmap-node-label{dy:1em;alignment-baseline:middle;text-anchor:middle;dominant-baseline:middle;text-align:center;}#initialMainDiagramSvg :root{--mermaid-font-family:"Inter",sans-serif;}</style><g></g><g class="mindmap-edges"><path class="edge section-edge-0 edge-depth-1" d="M 546.5472109807856,362.66125372969265 L 489.25803847790723,398.62079162931053 L431.96886597502885,434.5803295289284"></path><path class="edge section-edge-0 edge-depth-1" d="M 566.2164355658076,367.9718729006606 L 587.3070219771081,408.202575657337 L608.3976083884086,448.43327841401333"></path><path class="edge section-edge-0 edge-depth-0" d="M 615.9846491661255,267.3556805983329 L 591.7040137683539,304.7318262876962 L567.4233783705823,342.10797197705944"></path><path class="edge section-edge-1 edge-depth-1" d="M 314.73894507097543,279.78917333034525 L 207.15118804955887,253.24904608130294 L99.56343102814233,226.70891883226065"></path><path class="edge section-edge-1 edge-depth-1" d="M 316.84643179495913,291.7393302744973 L 262.7211522265717,328.05591458281566 L208.59587265818422,364.372498891134"></path><path class="edge section-edge-1 edge-depth-0" d="M 609.2262881466777,256.2252998025021 L 476.72928565413224,269.07931365876453 L344.2322831615868,281.933327515027"></path><path class="edge section-edge-2 edge-depth-1" d="M 401.5229367966019,177.12472652742883 L 331.9451752060837,142.08476264810798 L262.3674136155655,107.04479876878716"></path><path class="edge section-edge-2 edge-depth-1" d="M 418.7426398441917,169.36685386407112 L 429.57549610275987,128.26290900247253 L440.4083523613282,87.15896414087395"></path><path class="edge section-edge-2 edge-depth-0" d="M 609.9497482992463,249.9626596862395 L 519.5380729849251,219.32423718236083 L429.12639767060386,188.6858146784822"></path><path class="edge section-edge-3 edge-depth-1" d="M 821.3105995710246,342.3576193037488 L 828.1840028212789,383.81493893819186 L835.0574060715333,425.27225857263494"></path><path class="edge section-edge-3 edge-depth-1" d="M 833.2769911162476,331.69106045424445 L 928.6362336253442,359.01253188905036 L1023.9954761344408,386.3340033238563"></path><path class="edge section-edge-3 edge-depth-0" d="M 638.2065853776286,260.02918412631834 L 721.5066828469794,291.16825938589074 L804.8067803163302,322.30733464546313"></path><path class="edge section-edge-4 edge-depth-1" d="M 913.9737903536725,221.01455344309244 L 980.0194704675164,185.635615281672 L1046.0651505813605,150.25667712025154"></path><path class="edge section-edge-4 edge-depth-1" d="M 915.5312994294577,230.65746238288227 L 1018.1889598133855,248.43860193600068 L1120.8466201973135,266.2197414891191"></path><path class="edge section-edge-4 edge-depth-0" d="M 639.0868992714313,253.33673013222386 L 762.4537815002136,241.4371768987984 L885.8206637289959,229.53762366537293"></path><path class="edge section-edge-5 edge-depth-1" d="M 705.6427156183333,148.13171898984376 L 770.4237795479057,112.78892881513735 L835.2048434774781,77.44613864043093"></path><path class="edge section-edge-5 edge-depth-1" d="M 688.2295737534693,140.92901015040573 L 676.0730149466568,99.73285080114391 L663.9164561398444,58.536691451882106"></path><path class="edge section-edge-5 edge-depth-0" d="M 632.648992059216,242.41273752753918 L 658.3155661030039,205.04629853689886 L683.9821401467918,167.67985954625857"></path></g><g class="mindmap-nodes"><g transform="translate(521.4335389591467, 233.1268954715099)" class="mindmap-node section--1 section-root"><g transform="translate(102.72265625, 21.65)"><circle r="102.72265625" class="node-bkg node-circle" id="node-0"></circle></g><g transform="translate(102.72265625, 7.5)" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" dy="1em"><g><rect class="background"></rect><text y="-10.1"><tspan dy="1.1em" y="-0.1em" x="0" class="text-outer-tspan"><tspan font-weight="normal" class="text-inner-tspan" font-style="normal">Raycast</tspan><tspan font-weight="normal" class="text-inner-tspan" font-style="normal"> AI周报核心讨论</tspan></tspan></text></g></g></g><g transform="translate(454.07214482756103, 324.6867571038824)" class="mindmap-node section-0"><g><rect width="210.359375" ry="30" rx="30" height="60" class="node-bkg node-rounded-rect" id="node-1"></rect></g><g transform="translate(130.1796875, 15.850000000000001)" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" dy="1em"><g><rect class="background"></rect><text y="-10.1"><tspan dy="1.1em" y="-0.1em" x="0" class="text-outer-tspan"><tspan font-weight="normal" class="text-inner-tspan" font-style="normal">MCP应用探索</tspan></tspan></text></g></g><foreignObject style="text-align: center;margin-top:0.8500000000000014px;" height="60" width="60px"><div xmlns="http://www.w3.org/1999/xhtml" class="icon-container"><i class="node-icon-0 fas fa-cogs"></i></div></foreignObject></g><g transform="translate(357.26424462825344, 413.40482615473866)" class="mindmap-node section-0"><g><rect width="124" ry="30" rx="30" height="58.3" class="node-bkg node-rounded-rect" id="node-2"></rect></g><g transform="translate(62, 15)" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" dy="1em"><g><rect class="background"></rect><text y="-10.1"><tspan dy="1.1em" y="-0.1em" x="0" class="text-outer-tspan"><tspan font-weight="normal" class="text-inner-tspan" font-style="normal">技术前瞻</tspan></tspan></text></g></g></g><g transform="translate(553.3622116266552, 432.56839421079155)" class="mindmap-node section-0"><g><rect width="124" ry="30" rx="30" height="58.3" class="node-bkg node-rounded-rect" id="node-3"></rect></g><g transform="translate(62, 15)" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" dy="1em"><g><rect class="background"></rect><text y="-10.1"><tspan dy="1.1em" y="-0.1em" x="0" class="text-outer-tspan"><tspan font-weight="normal" class="text-inner-tspan" font-style="normal">效率提升</tspan></tspan></text></g></g></g><g transform="translate(200.31800109911774, 253.3817318460192)" class="mindmap-node section-1"><g><rect width="257.96875" ry="30" rx="30" height="60" class="node-bkg node-rounded-rect" id="node-4"></rect></g><g transform="translate(153.984375, 15.850000000000001)" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" dy="1em"><g><rect class="background"></rect><text y="-10.1"><tspan dy="1.1em" y="-0.1em" x="0" class="text-outer-tspan"><tspan font-weight="normal" class="text-inner-tspan" font-style="normal">Claude</tspan><tspan font-weight="normal" class="text-inner-tspan" font-style="normal"> 4体验与问题</tspan></tspan></text></g></g><foreignObject style="text-align: center;margin-top:0.8500000000000014px;" height="60" width="60px"><div xmlns="http://www.w3.org/1999/xhtml" class="icon-container"><i class="node-icon-1 fas fa-comment-alt"></i></div></foreignObject></g><g transform="translate(15, 193.9663603165867)" class="mindmap-node section-1"><g><rect width="140" ry="30" rx="30" height="58.3" class="node-bkg node-rounded-rect" id="node-5"></rect></g><g transform="translate(70, 15)" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" dy="1em"><g><rect class="background"></rect><text y="-10.1"><tspan dy="1.1em" y="-0.1em" x="0" class="text-outer-tspan"><tspan font-weight="normal" class="text-inner-tspan" font-style="normal">新模型反馈</tspan></tspan></text></g></g></g><g transform="translate(126.13992835402564, 343.58009731961215)" class="mindmap-node section-1"><g><rect width="140" ry="30" rx="30" height="58.3" class="node-bkg node-rounded-rect" id="node-6"></rect></g><g transform="translate(70, 15)" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" dy="1em"><g><rect class="background"></rect><text y="-10.1"><tspan dy="1.1em" y="-0.1em" x="0" class="text-outer-tspan"><tspan font-weight="normal" class="text-inner-tspan" font-style="normal">兼容性问题</tspan></tspan></text></g></g></g><g transform="translate(283.0801070107034, 153.8715788932118)" class="mindmap-node section-2"><g><rect width="263.6796875" ry="30" rx="30" height="60" class="node-bkg node-rounded-rect" id="node-7"></rect></g><g transform="translate(156.83984375, 15.850000000000001)" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" dy="1em"><g><rect class="background"></rect><text y="-10.1"><tspan dy="1.1em" y="-0.1em" x="0" class="text-outer-tspan"><tspan font-weight="normal" class="text-inner-tspan" font-style="normal">Raycast</tspan><tspan font-weight="normal" class="text-inner-tspan" font-style="normal"> Pro订阅策略</tspan></tspan></text></g></g><foreignObject style="text-align: center;margin-top:0.8500000000000014px;" height="60" width="60px"><div xmlns="http://www.w3.org/1999/xhtml" class="icon-container"><i class="node-icon-2 fas fa-credit-card"></i></div></foreignObject></g><g transform="translate(186.97039965146405, 71.1479464030042)" class="mindmap-node section-2"><g><rect width="124" ry="30" rx="30" height="58.3" class="node-bkg node-rounded-rect" id="node-8"></rect></g><g transform="translate(62, 15)" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" dy="1em"><g><rect class="background"></rect><text y="-10.1"><tspan dy="1.1em" y="-0.1em" x="0" class="text-outer-tspan"><tspan font-weight="normal" class="text-inner-tspan" font-style="normal">成本控制</tspan></tspan></text></g></g></g><g transform="translate(382.23104144481647, 43.50423911173329)" class="mindmap-node section-2"><g><rect width="124" ry="30" rx="30" height="58.3" class="node-bkg node-rounded-rect" id="node-9"></rect></g><g transform="translate(62, 15)" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" dy="1em"><g><rect class="background"></rect><text y="-10.1"><tspan dy="1.1em" y="-0.1em" x="0" class="text-outer-tspan"><tspan font-weight="normal" class="text-inner-tspan" font-style="normal">优惠获取</tspan></tspan></text></g></g></g><g transform="translate(699.8571704848121, 297.5596233002716)" class="mindmap-node section-3"><g><rect width="238" ry="30" rx="30" height="60" class="node-bkg node-rounded-rect" id="node-10"></rect></g><g transform="translate(144, 15.850000000000001)" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" dy="1em"><g><rect class="background"></rect><text y="-10.1"><tspan dy="1.1em" y="-0.1em" x="0" class="text-outer-tspan"><tspan font-weight="normal" class="text-inner-tspan" font-style="normal">数据转换工具分享</tspan></tspan></text></g></g><foreignObject style="text-align: center;margin-top:0.8500000000000014px;" height="60" width="60px"><div xmlns="http://www.w3.org/1999/xhtml" class="icon-container"><i class="node-icon-3 fas fa-exchange-alt"></i></div></foreignObject></g><g transform="translate(759.5108351577458, 410.92025457611214)" class="mindmap-node section-3"><g><rect width="156" ry="30" rx="30" height="58.3" class="node-bkg node-rounded-rect" id="node-11"></rect></g><g transform="translate(78, 15)" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" dy="1em"><g><rect class="background"></rect><text y="-10.1"><tspan dy="1.1em" y="-0.1em" x="0" class="text-outer-tspan"><tspan font-weight="normal" class="text-inner-tspan" font-style="normal">工作流程优化</tspan></tspan></text></g></g></g><g transform="translate(976.4152967658763, 361.31544047782916)" class="mindmap-node section-3"><g><rect width="124" ry="30" rx="30" height="58.3" class="node-bkg node-rounded-rect" id="node-12"></rect></g><g transform="translate(62, 15)" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" dy="1em"><g><rect class="background"></rect><text y="-10.1"><tspan dy="1.1em" y="-0.1em" x="0" class="text-outer-tspan"><tspan font-weight="normal" class="text-inner-tspan" font-style="normal">专业工具</tspan></tspan></text></g></g></g><g transform="translate(789.7513677912805, 198.0974583260869)" class="mindmap-node section-4"><g><rect width="222" ry="30" rx="30" height="60" class="node-bkg node-rounded-rect" id="node-13"></rect></g><g transform="translate(136, 15.850000000000001)" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" dy="1em"><g><rect class="background"></rect><text y="-10.1"><tspan dy="1.1em" y="-0.1em" x="0" class="text-outer-tspan"><tspan font-weight="normal" class="text-inner-tspan" font-style="normal">语音转文字工具</tspan></tspan></text></g></g><foreignObject style="text-align: center;margin-top:0.8500000000000014px;" height="60" width="60px"><div xmlns="http://www.w3.org/1999/xhtml" class="icon-container"><i class="node-icon-4 fas fa-microphone-alt"></i></div></foreignObject></g><g transform="translate(981.2875731437525, 114.02377223725705)" class="mindmap-node section-4"><g><rect width="156" ry="30" rx="30" height="58.3" class="node-bkg node-rounded-rect" id="node-14"></rect></g><g transform="translate(78, 15)" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" dy="1em"><g><rect class="background"></rect><text y="-10.1"><tspan dy="1.1em" y="-0.1em" x="0" class="text-outer-tspan"><tspan font-weight="normal" class="text-inner-tspan" font-style="normal">实用工具推荐</tspan></tspan></text></g></g></g><g transform="translate(1065.6265518354908, 239.62974554591446)" class="mindmap-node section-4"><g><rect width="140" ry="30" rx="30" height="58.3" class="node-bkg node-rounded-rect" id="node-15"></rect></g><g transform="translate(70, 15)" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" dy="1em"><g><rect class="background"></rect><text y="-10.1"><tspan dy="1.1em" y="-0.1em" x="0" class="text-outer-tspan"><tspan font-weight="normal" class="text-inner-tspan" font-style="normal">多样化需求</tspan></tspan></text></g></g></g><g transform="translate(581.8069682468611, 125.31570160228785)" class="mindmap-node section-5"><g><rect width="221.3359375" ry="30" rx="30" height="60" class="node-bkg node-rounded-rect" id="node-16"></rect></g><g transform="translate(135.66796875, 15.850000000000001)" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" dy="1em"><g><rect class="background"></rect><text y="-10.1"><tspan dy="1.1em" y="-0.1em" x="0" class="text-outer-tspan"><tspan font-weight="normal" class="text-inner-tspan" font-style="normal">AI群聊总结资源</tspan></tspan></text></g></g><foreignObject style="text-align: center;margin-top:0.8500000000000014px;" height="60" width="60px"><div xmlns="http://www.w3.org/1999/xhtml" class="icon-container"><i class="node-icon-5 fas fa-archive"></i></div></foreignObject></g><g transform="translate(786.3726220989504, 41.112156027986835)" class="mindmap-node section-5"><g><rect width="124" ry="30" rx="30" height="58.3" class="node-bkg node-rounded-rect" id="node-17"></rect></g><g transform="translate(62, 15)" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" dy="1em"><g><rect class="background"></rect><text y="-10.1"><tspan dy="1.1em" y="-0.1em" x="0" class="text-outer-tspan"><tspan font-weight="normal" class="text-inner-tspan" font-style="normal">社区协作</tspan></tspan></text></g></g></g><g transform="translate(597.6710928964526, 15)" class="mindmap-node section-5"><g><rect width="124" ry="30" rx="30" height="58.3" class="node-bkg node-rounded-rect" id="node-18"></rect></g><g transform="translate(62, 15)" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" dy="1em"><g><rect class="background"></rect><text y="-10.1"><tspan dy="1.1em" y="-0.1em" x="0" class="text-outer-tspan"><tspan font-weight="normal" class="text-inner-tspan" font-style="normal">知识沉淀</tspan></tspan></text></g></g></g></g></svg></div>
                    <div id="mermaid-main-feedback-message"></div>
                    <i class="fas fa-project-diagram card-icon"></i>
                </div>
            </div>
            <div class="card quote-card">
                <h2><i class="fas fa-star"></i> 本周亮点</h2>
                <div class="quote">
                    <strong><i class="fas fa-tools"></i> 工具推荐:</strong>
                    <ul>
                        <li><span class="highlight-keyword">utloos:</span> Excel转JSON的高效工具</li>
                        <li><span class="highlight-keyword">MacWhisper:</span> 可靠的语音转文字应用</li>
                        <li><span class="highlight-keyword">豆包:</span> 国产AI语音处理工具</li>
                        <li><span class="highlight-keyword">MCP:</span> AI模型与外部工具的连接协议</li>
                    </ul>
                    <div class="quote-author">- 群聊精华</div>
                </div>
                <div class="quote">
                    <strong><i class="fas fa-lightbulb"></i> 实用技巧:</strong>
                    <ul>
                        <li>Raycast Pro优惠获取策略</li>
                        <li>Excel数据转JSON的专业工具使用</li>
                        <li>Claude 4使用限制和问题排查</li>
                        <li>语音转文字工具的选择标准</li>
                    </ul>
                    <div class="quote-author">- 群聊精华</div>
                </div>
                <i class="fas fa-award card-icon"></i> 
            </div>

            <div class="card links-card">
                <h2><i class="fas fa-link"></i> 重要资源链接</h2>
                <ul>
                    <li>
                        <div class="link-item">
                            <a href="http://mp.weixin.qq.com/s?__biz=MzAwODIyOTQ4Mw==&amp;mid=2649443439&amp;idx=1&amp;sn=e7774beb3ccfc96f0648fe7dffd4575d" target="_blank" rel="noopener noreferrer">
                                <i class="fas fa-external-link-alt link-icon"></i> 
                                <span class="link-title">MCP配置教程</span>
                            </a>
                        </div>
                    </li>
                    <li>
                        <div class="link-item">
                            <a href="http://mp.weixin.qq.com/s?__biz=MzAwODIyOTQ4Mw==&amp;mid=2649443469&amp;idx=1&amp;sn=64b0bd2e0b8b9945b56b72c8c0ad894f" target="_blank" rel="noopener noreferrer">
                                <i class="fas fa-external-link-alt link-icon"></i>
                                <span class="link-title">Claude 4评测文章</span>
                            </a>
                        </div>
                    </li>
                    <li>
                        <div class="link-item">
                            <a href="https://raycast.com/?via=joe-seesun" target="_blank" rel="noopener noreferrer">
                                <i class="fas fa-external-link-alt link-icon"></i>
                                <span class="link-title">Raycast邀请链接</span>
                            </a>
                        </div>
                    </li>
                     <li>
                        <div class="link-item">
                            <a href="https://shengzhidongcha.site/" target="_blank" rel="noopener noreferrer">
                                <i class="fas fa-external-link-alt link-icon"></i>
                                <span class="link-title">语音转文字工具 (shengzhidongcha.site)</span>
                            </a>
                        </div>
                    </li>
                     <li>
                        <div class="link-item">
                            <a href="https://czkzyp3cp1.feishu.cn/share/base/view/shrcnoweVpP2vDaWtAEFspjqRNf" target="_blank" rel="noopener noreferrer">
                                <i class="fas fa-external-link-alt link-icon"></i>
                                <span class="link-title">AI群聊总结汇总 (飞书)</span>
                            </a>
                        </div>
                    </li>
                </ul>
                <i class="fas fa-share-alt card-icon"></i> 
            </div>

            <div class="card stats-card">
                <h2><i class="fas fa-chart-line"></i> 本周活跃之星</h2>
                <table class="user-stats-table">
                    <thead>
                        <tr>
                            <th class="user-name-col">用户</th>
                            <th class="contribution-col">主要贡献</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td data-label="用户" class="user-name-col">强子（乔纳森•钢蛋）</td>
                            <td data-label="主要贡献" class="contribution-col">技术问题探讨与工具使用</td>
                        </tr>
                        <tr>
                            <td data-label="用户" class="user-name-col">xiaolei0vip</td>
                            <td data-label="主要贡献" class="contribution-col">技术方案分享与工具推荐</td>
                        </tr>
                        <tr>
                            <td data-label="用户" class="user-name-col">Ronin_Chang</td>
                            <td data-label="主要贡献" class="contribution-col">工具使用体验交流</td>
                        </tr>
                        <tr>
                            <td data-label="用户" class="user-name-col">向阳乔木</td>
                            <td data-label="主要贡献" class="contribution-col">资源分享与群管理</td>
                        </tr>
                        <tr>
                            <td data-label="用户" class="user-name-col">Gary</td>
                            <td data-label="主要贡献" class="contribution-col">订阅策略咨询</td>
                        </tr>
                        <tr>
                            <td data-label="用户" class="user-name-col">nardinmarcus</td>
                            <td data-label="主要贡献" class="contribution-col">优惠方案实测反馈</td>
                        </tr>
                        <tr>
                            <td data-label="用户" class="user-name-col">JK</td>
                            <td data-label="主要贡献" class="contribution-col">Claude 4使用咨询</td>
                        </tr>
                        <tr>
                            <td data-label="用户" class="user-name-col">尔东陈</td>
                            <td data-label="主要贡献" class="contribution-col">使用问题反馈</td>
                        </tr>
                         <tr>
                            <td data-label="用户" class="user-name-col">Bala</td>
                            <td data-label="主要贡献" class="contribution-col">语音转文字需求咨询</td>
                        </tr>
                         <tr>
                            <td data-label="用户" class="user-name-col">paradox</td>
                            <td data-label="主要贡献" class="contribution-col">工具推荐与建议</td>
                        </tr>
                    </tbody>
                </table>
                <i class="fas fa-user-friends card-icon"></i> 
            </div>

            <div class="card wordcloud-card">
                <h2><i class="fas fa-cloud"></i> 本周热词</h2>
                <div class="wordcloud">
                    <span class="wordcloud-item size-5">Raycast</span>
                    <span class="wordcloud-item size-5">MCP</span>
                    <span class="wordcloud-item size-4">Claude 4</span>
                    <span class="wordcloud-item size-4">工具</span>
                    <span class="wordcloud-item size-3">Pro订阅</span>
                    <span class="wordcloud-item size-3">JSON</span>
                    <span class="wordcloud-item size-3">AI总结</span>
                    <span class="wordcloud-item size-2">语音转文字</span>
                    <span class="wordcloud-item size-2">utloos</span>
                    <span class="wordcloud-item size-1">优惠</span>
                    <span class="wordcloud-item size-1">体验</span>
                    <span class="wordcloud-item size-2">技术</span>
                </div>
                <i class="fas fa-tags card-icon"></i> 
            </div>
        </div> 
        
        <div class="footer">
            <p>数据来源：Raycast AI使用交流群聊记录 | 生成日期：2025年5月25日 | 统计周期：第21周 (2025年5月19日 - 2025年5月25日)</p>
            <p>本周报由AI自动生成，基于群聊记录分析整理。</p>
        </div>
    </div> 

    <div class="action-buttons-container" style="display: block; flex-wrap: nowrap;">
        <button id="viewPreviousReportBtn" class="action-button"><i class="fas fa-calendar-alt"></i> 查看上周周报</button>
        <button id="screenshotToClipboardBtn" class="action-button"><i class="fas fa-clipboard"></i> 拷贝截图</button>
        <button id="screenshotDownloadBtn" class="action-button"><i class="fas fa-camera"></i> 下载截图</button>
        <button id="copyHtmlBtn" class="action-button"><i class="fas fa-copy"></i> 拷贝源码</button>
        <button id="downloadHtmlBtn" class="action-button"><i class="fas fa-download"></i> 下载报告</button>
    </div>
    <div id="feedback-message"></div> <div id="fullscreenModal" class="modal-overlay">
        <div class="modal-content card"> <button id="fullscreenCloseBtn" class="modal-close-btn" aria-label="关闭全屏">×</button>
            <h2><i class="fas fa-sitemap"></i> 核心概念关系图 (全屏)</h2>
            <div class="mindmap-controls">
                <button id="modalZoomInBtn"><i class="fas fa-search-plus"></i> 放大</button>
                <button id="modalZoomOutBtn"><i class="fas fa-search-minus"></i> 缩小</button>
                <button id="modalDownloadDiagramBtn"><i class="fas fa-download"></i> 下载导图</button>
            </div>
            <div class="mermaid-container" id="modalMermaidContainer">
                </div>
            <div id="mermaid-modal-feedback-message"></div>
        </div>
    </div>
    <script>
    // --- Mermaid Diagram JavaScript START ---
    // --- Global Variables for Mermaid ---
    let mainCurrentScale = 1;
    let modalCurrentScale = 1;
    let currentMindmapDefinition = ''; // Store the current definition

    // --- DOM Elements for Mermaid ---
    const mainZoomInBtn = document.getElementById('zoomInBtn');
    const mainZoomOutBtn = document.getElementById('zoomOutBtn');
    const mainDownloadDiagramBtn = document.getElementById('downloadDiagramBtn'); 
    const mainMermaidContainer = document.getElementById('mainMermaidContainer');
    const mermaidMainFeedbackMessage = document.getElementById('mermaid-main-feedback-message'); 
    const mainMindmapDiagramDiv = document.getElementById('mindmapDiagram'); 

    const fullscreenOpenBtn = document.getElementById('fullscreenOpenBtn');
    const fullscreenModal = document.getElementById('fullscreenModal');
    const fullscreenCloseBtn = document.getElementById('fullscreenCloseBtn');
    const modalMermaidContainer = document.getElementById('modalMermaidContainer');
    const modalZoomInBtn = document.getElementById('modalZoomInBtn');
    const modalZoomOutBtn = document.getElementById('modalZoomOutBtn');
    const modalDownloadDiagramBtn = document.getElementById('modalDownloadDiagramBtn'); 
    const mermaidModalFeedbackMessage = document.getElementById('mermaid-modal-feedback-message'); 

    // --- Mermaid Initialization ---
    if (typeof mermaid !== 'undefined') {
        mermaid.initialize({
            startOnLoad: false, 
            theme: 'base', 
            fontFamily: '"Inter", sans-serif',
            mindmap: { padding: 15, useMaxWidth: false } // Set useMaxWidth to false for better scaling control
        });
    } else {
        console.error("Mermaid library not loaded.");
        if(mermaidMainFeedbackMessage) mermaidMainFeedbackMessage.textContent = "错误：Mermaid库未能加载。";
    }
    

    // --- Helper Functions for Mermaid ---
    function showMermaidFeedback(element, message, type = 'info', duration = 3000) {
        if (element) {
            element.textContent = message;
            element.className = type; // success, error, info
            element.style.display = 'block';
            setTimeout(() => {
                element.textContent = '';
                element.className = '';
                element.style.display = 'none';
            }, duration);
        }
    }

    function applySvgScale(svgElement, scale) {
        if (svgElement) {
            svgElement.style.transform = `scale(${scale})`;
            svgElement.style.transformOrigin = 'center center';
        }
    }

    function makeDraggable(containerElement) {
        let isDragging = false;
        let startX, startY, scrollLeftStart, scrollTopStart;

        if (!containerElement) return;

        containerElement.addEventListener('mousedown', (e) => {
            if (e.button !== 0) return; 
            if (e.target.closest('button') || e.target.closest('a') || e.target.closest('[onclick]')) return;
            
            if (e.target === containerElement || e.target.closest('svg')) { 
                const verticalScrollbarVisible = containerElement.scrollHeight > containerElement.clientHeight;
                const horizontalScrollbarVisible = containerElement.scrollWidth > containerElement.clientWidth;
                const clickedOnVerticalScrollbar = verticalScrollbarVisible && e.offsetX >= containerElement.clientWidth - 17; 
                const clickedOnHorizontalScrollbar = horizontalScrollbarVisible && e.offsetY >= containerElement.clientHeight - 17;
                if (clickedOnVerticalScrollbar || clickedOnHorizontalScrollbar && e.target === containerElement) return; // Only prevent if clicking on scrollbar of container itself
            }


            isDragging = true;
            startX = e.pageX; startY = e.pageY;
            scrollLeftStart = containerElement.scrollLeft; scrollTopStart = containerElement.scrollTop;
            containerElement.classList.add('dragging');
        });

        document.addEventListener('mousemove', (e) => {
            if (!isDragging) return;
            e.preventDefault(); 
            const deltaX = e.pageX - startX; const deltaY = e.pageY - startY;
            containerElement.scrollLeft = scrollLeftStart - deltaX;
            containerElement.scrollTop = scrollTopStart - deltaY;
        });

        document.addEventListener('mouseup', (e) => {
            if (e.button !== 0 || !isDragging) return;
            isDragging = false;
            containerElement.classList.remove('dragging');
        });
       // Touch events for dragging on mobile
        containerElement.addEventListener('touchstart', (e) => {
            if (e.target.closest('button') || e.target.closest('a') || e.target.closest('[onclick]')) return;
            if (e.touches.length === 1) {
                isDragging = true;
                const touch = e.touches[0];
                startX = touch.pageX;
                startY = touch.pageY;
                scrollLeftStart = containerElement.scrollLeft;
                scrollTopStart = containerElement.scrollTop;
                containerElement.classList.add('dragging');
            }
        }, { passive: true }); 

        document.addEventListener('touchmove', (e) => {
            if (!isDragging || e.touches.length !== 1) return;
            // e.preventDefault(); // To prevent page scroll if dragging content
            const touch = e.touches[0];
            const deltaX = touch.pageX - startX;
            const deltaY = touch.pageY - startY;
            containerElement.scrollLeft = scrollLeftStart - deltaX;
            containerElement.scrollTop = scrollTopStart - deltaY;
        }/*, { passive: false }*/); 

        document.addEventListener('touchend', (e) => {
            if (!isDragging) return;
            isDragging = false;
            containerElement.classList.remove('dragging');
        });
    }
    
    async function downloadMermaidAsSVG(svgElement, baseFilename, feedbackElem) {
        if (svgElement && svgElement.innerHTML.trim() !== "") {
            try {
                const svgData = new XMLSerializer().serializeToString(svgElement);
                const blob = new Blob([svgData], { type: 'image/svg+xml;charset=utf-8' });
                const url = URL.createObjectURL(blob);
                const link = document.createElement('a');
                link.href = url;
                link.download = `${baseFilename}.svg`;
                document.body.appendChild(link);
                link.click();
                document.body.removeChild(link);
                URL.revokeObjectURL(url);
                showMermaidFeedback(feedbackElem, `${baseFilename}.svg 已下载!`, 'success');
            } catch (error) {
                console.error(`Error during SVG download for ${baseFilename}:`, error);
                showMermaidFeedback(feedbackElem, `下载 ${baseFilename}.svg 失败: ${error.message}`, 'error');
            }
        } else {
            showMermaidFeedback(feedbackElem, '无法下载：图表内容为空。', 'error');
        }
    }

    async function renderDiagram(definition, targetContainer, scaleVariableRef, feedbackElem, uniqueSvgId) {
        if (!targetContainer) {
            console.error("Target container for Mermaid diagram not found.");
            return null;
        }
        targetContainer.innerHTML = '<p style="text-align:center; padding:20px;">图表加载中...</p>';
        targetContainer.classList.remove('empty');

        if (!definition || definition.trim() === "" || definition.trim().toLowerCase() === "mindmap") {
            targetContainer.innerHTML = ''; 
            targetContainer.classList.add('empty'); 
            return null;
        }
        
        currentMindmapDefinition = definition; // Store the definition for fullscreen toggle

        try {
            if (typeof mermaid === 'undefined') throw new Error("Mermaid library is not available.");
            const {svg, bindFunctions} = await mermaid.render(uniqueSvgId, definition);
            targetContainer.innerHTML = svg;
            if (bindFunctions) bindFunctions(targetContainer);

            const svgElement = targetContainer.querySelector('svg');
            if (svgElement) {
                if (targetContainer === mainMermaidContainer) mainCurrentScale = 1;
                else if (targetContainer === modalMermaidContainer) modalCurrentScale = 1;
                
                applySvgScale(svgElement, scaleVariableRef.value); 
                makeDraggable(targetContainer); 
                return svgElement;
            } else {
                targetContainer.innerHTML = '';
                targetContainer.classList.add('empty');
                showMermaidFeedback(feedbackElem, '图表生成了，但未找到SVG内容。', 'error');
                return null;
            }
        } catch (error) {
            console.error("Error rendering Mermaid:", error);
            targetContainer.innerHTML = `<p style="color:red; text-align:center; padding:20px;">渲染图表时出错: ${error.message}</p>`;
            showMermaidFeedback(feedbackElem, `渲染图表时出错: ${error.message}`, 'error', 5000);
            return null;
        }
    }

    // --- Main Mindmap Logic ---
    if(mainZoomInBtn) mainZoomInBtn.addEventListener('click', () => {
        mainCurrentScale += 0.1;
        const svg = mainMermaidContainer.querySelector('svg');
        applySvgScale(svg, mainCurrentScale);
    });

    if(mainZoomOutBtn) mainZoomOutBtn.addEventListener('click', () => {
        if (mainCurrentScale > 0.2) { 
            mainCurrentScale -= 0.1;
            const svg = mainMermaidContainer.querySelector('svg');
            applySvgScale(svg, mainCurrentScale);
        }
    });

    if(mainDownloadDiagramBtn) mainDownloadDiagramBtn.addEventListener('click', () => {
        const svg = mainMermaidContainer.querySelector('svg');
        downloadMermaidAsSVG(svg, '核心讨论导图', mermaidMainFeedbackMessage);
    });

    // --- Fullscreen Modal Logic for Mermaid ---
    if(fullscreenOpenBtn) fullscreenOpenBtn.addEventListener('click', async () => {
        if (!currentMindmapDefinition || currentMindmapDefinition.trim() === "" || currentMindmapDefinition.trim().toLowerCase() === "mindmap") {
             showMermaidFeedback(mermaidMainFeedbackMessage, '请先生成一个有效的导图才能全屏查看。', 'info');
             return;
        }
        if(fullscreenModal) fullscreenModal.classList.add('active');
        document.body.classList.add('modal-active');
        modalCurrentScale = mainCurrentScale; 
        await renderDiagram(currentMindmapDefinition, modalMermaidContainer, {value: modalCurrentScale}, mermaidModalFeedbackMessage, 'modalGeneratedSvgId');
    });

    if(fullscreenCloseBtn) fullscreenCloseBtn.addEventListener('click', () => {
        if(fullscreenModal) fullscreenModal.classList.remove('active');
        document.body.classList.remove('modal-active');
        if(modalMermaidContainer) {
            modalMermaidContainer.innerHTML = ''; 
            modalMermaidContainer.classList.add('empty');
        }
    });

    if(modalZoomInBtn) modalZoomInBtn.addEventListener('click', () => {
        modalCurrentScale += 0.1;
        const svg = modalMermaidContainer.querySelector('svg');
        applySvgScale(svg, modalCurrentScale);
    });

    if(modalZoomOutBtn) modalZoomOutBtn.addEventListener('click', () => {
        if (modalCurrentScale > 0.2) {
            modalCurrentScale -= 0.1;
            const svg = modalMermaidContainer.querySelector('svg');
            applySvgScale(svg, modalCurrentScale);
        }
    });

    if(modalDownloadDiagramBtn) modalDownloadDiagramBtn.addEventListener('click', () => {
        const svg = modalMermaidContainer.querySelector('svg');
        downloadMermaidAsSVG(svg, '核心讨论导图-全屏', mermaidModalFeedbackMessage);
    });

    // --- Initial Setup for Mermaid ---
    async function initializeMainDiagram() {
        if (mainMindmapDiagramDiv && mainMermaidContainer) {
            const initialDefinition = mainMindmapDiagramDiv.textContent.trim();
            if (initialDefinition) {
                await renderDiagram(initialDefinition, mainMermaidContainer, { value: mainCurrentScale }, mermaidMainFeedbackMessage, 'initialMainDiagramSvg');
            } else {
                mainMermaidContainer.classList.add('empty'); 
            }
        } else {
             if(mermaidMainFeedbackMessage && !mainMermaidContainer) showMermaidFeedback(mermaidMainFeedbackMessage, '错误：导图容器未找到。', 'error');
        }
    }
    // --- Mermaid Diagram JavaScript END ---


    // --- Report Page JavaScript START ---
    // Helper function: Get CSS variable value
    function getCssVariable(variableName, defaultValue = null) {
        const value = getComputedStyle(document.documentElement).getPropertyValue(variableName).trim();
        return value || defaultValue;
    }

    function getWebpageNameForFilename() {
        const pageTitleTag = document.querySelector('title');
        let baseName = 'Raycast-AI群周报'; 
        if (pageTitleTag && pageTitleTag.textContent) {
            const fullTitle = pageTitleTag.textContent.trim();
            const titleParts = fullTitle.split(' - '); 
            if (titleParts.length > 0 && titleParts[0].trim() !== "" && titleParts[0].trim() !== "[在此处填写报告标题]") {
                baseName = titleParts[0].trim(); 
            }
        }
        return baseName;
    }

    function getDateStringForFilename() {
        const reportDateElement = document.querySelector('.main-card .date');
        let dateStr = "未指定日期"; 
        if (reportDateElement && reportDateElement.textContent) {
            const dateContent = reportDateElement.textContent.trim();
            if (dateContent && dateContent !== "[日期 - 例如：2025年5月19日]") { 
                dateStr = dateContent.replace(/\s-\s/g, '_至_').replace(/\s/g, ''); // Format date range for filename
            }
        }
        return dateStr;
    }
    
    function sanitizeFilename(filename) {
        return filename.replace(/[^a-z0-9\u4e00-\u9fa5_\-\.\(\)\[\]]/gi, '_').replace(/_+/g, '_');
    }

    const previousReportUrl = "在此处填写上周周报的URL"; 

    function showReportFeedbackMessage(message, type = 'info', duration = 3000) { 
        const feedbackElement = document.getElementById('feedback-message'); 
        if (feedbackElement) {
            feedbackElement.textContent = message;
            feedbackElement.className = type; 
            setTimeout(() => {
                feedbackElement.textContent = '';
                feedbackElement.className = '';
            }, duration);
        }
    }
    
    async function captureScreenshot(elementToCapture) {
        await document.fonts.ready; 
        return html2canvas(elementToCapture, { 
            useCORS: true, 
            scale: window.devicePixelRatio || 1, 
            logging: false, 
            backgroundColor: getCssVariable('--bg-primary', '#f5f4ee'), 
            scrollX: -window.scrollX, 
            scrollY: -window.scrollY,
            windowWidth: document.documentElement.scrollWidth,
            windowHeight: document.documentElement.scrollHeight,
            onclone: function(clonedDoc) {
                const highlightElements = clonedDoc.querySelectorAll('.highlight-keyword');
                highlightElements.forEach(el => {
                    el.style.display = 'inline';
                    el.style.padding = '1px 2px';
                    el.style.lineHeight = '1.2';
                    el.style.boxDecorationBreak = 'clone';
                    el.style.webkitBoxDecorationBreak = 'clone';
                });
            }
        });
    }

    const screenshotToClipboardBtn = document.getElementById('screenshotToClipboardBtn');
    if(screenshotToClipboardBtn) screenshotToClipboardBtn.addEventListener('click', async function() {
        const reportContent = document.getElementById('report-content-wrapper');
        if (!reportContent) {
            showReportFeedbackMessage('截图错误: 未找到报告内容。', 'error');
            return;
        }
        const actionButtons = document.querySelector('.action-buttons-container');
        const feedbackMsgElement = document.getElementById('feedback-message');
        const originalButtonText = this.innerHTML;
        this.innerHTML = '<i class="fas fa-spinner fa-spin"></i> 处理中...';
        this.disabled = true;
        if(actionButtons) actionButtons.style.visibility = 'hidden'; 
        if(feedbackMsgElement) feedbackMsgElement.style.visibility = 'hidden';

        try {
            const canvas = await captureScreenshot(reportContent);
            canvas.toBlob(async function(blob) {
                if (blob) {
                    try {
                        if (navigator.clipboard && navigator.clipboard.write) {
                            await navigator.clipboard.write([
                                new ClipboardItem({ 'image/png': blob })
                            ]);
                            showReportFeedbackMessage('截图已拷贝到剪贴板!', 'success');
                        } else {
                             // Fallback for browsers that don't support navigator.clipboard.write with blobs directly
                            const dataUrl = canvas.toDataURL('image/png');
                            const img = document.createElement('img');
                            img.src = dataUrl;
                            const textarea = document.createElement('textarea');
                            textarea.value = dataUrl; // Not ideal, but a fallback
                            document.body.appendChild(textarea);
                            textarea.select();
                            try {
                                document.execCommand('copy');
                                showReportFeedbackMessage('截图数据URL已拷贝。请尝试粘贴到支持图片的应用。', 'info', 5000);
                            } catch (err) {
                                showReportFeedbackMessage('截图已生成，但您的浏览器不支持直接拷贝图片。请尝试下载截图。', 'error', 5000);
                            }
                            document.body.removeChild(textarea);
                        }
                    } catch (copyError) {
                        console.error('拷贝到剪贴板失败:', copyError);
                        showReportFeedbackMessage('拷贝截图到剪贴板失败: ' + copyError.message, 'error', 5000);
                    }
                } else {
                    throw new Error('无法将Canvas转换为Blob。');
                }
            }, 'image/png');
        } catch (error) {
            console.error('截图捕获失败:', error);
            showReportFeedbackMessage('截图捕获失败: ' + error.message, 'error');
        } finally {
            if(actionButtons) actionButtons.style.visibility = 'visible'; 
            if(feedbackMsgElement) feedbackMsgElement.style.visibility = 'visible'; 
            this.innerHTML = originalButtonText;
            this.disabled = false;
        }
    });

    const screenshotDownloadBtn = document.getElementById('screenshotDownloadBtn');
    if(screenshotDownloadBtn) screenshotDownloadBtn.addEventListener('click', async function() {
        const reportContent = document.getElementById('report-content-wrapper');
        if (!reportContent) {
            showReportFeedbackMessage('截图错误: 未找到报告内容。', 'error');
            return;
        }
        const actionButtons = document.querySelector('.action-buttons-container');
        const feedbackMsgElement = document.getElementById('feedback-message');
        const originalButtonText = this.innerHTML;
        this.innerHTML = '<i class="fas fa-spinner fa-spin"></i> 生成中...';
        this.disabled = true;
        if(actionButtons) actionButtons.style.visibility = 'hidden';
        if(feedbackMsgElement) feedbackMsgElement.style.visibility = 'hidden';

        try {
            const canvas = await captureScreenshot(reportContent);
            const image = canvas.toDataURL('image/png');
            const link = document.createElement('a');
            
            const webpageName = getWebpageNameForFilename();
            const dateString = getDateStringForFilename();
            let filename = sanitizeFilename(webpageName + '-' + dateString) + '.png';

            link.href = image;
            link.download = filename;
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
            showReportFeedbackMessage('截图已下载!', 'success');
        } catch (error) {
            console.error('下载截图失败:', error);
            showReportFeedbackMessage('下载截图失败: ' + error.message, 'error');
        } finally {
            if(actionButtons) actionButtons.style.visibility = 'visible';
            if(feedbackMsgElement) feedbackMsgElement.style.visibility = 'visible';
            this.innerHTML = originalButtonText;
            this.disabled = false;
        }
    });
    
    const downloadHtmlBtn = document.getElementById('downloadHtmlBtn');
    if(downloadHtmlBtn) downloadHtmlBtn.addEventListener('click', function() {
        try {
            const htmlContent = document.documentElement.outerHTML;
            const blob = new Blob([htmlContent], { type: 'text/html;charset=utf-8' });
            const link = document.createElement('a');
            
            const webpageName = getWebpageNameForFilename();
            const dateString = getDateStringForFilename();
            let filename = sanitizeFilename(webpageName + '-' + dateString) + '.html';
            
            link.href = URL.createObjectURL(blob);
            link.download = filename;
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
            URL.revokeObjectURL(link.href); 
            showReportFeedbackMessage('HTML报告已下载!', 'success');
        } catch (error) {
            console.error('下载HTML失败:', error);
            showReportFeedbackMessage('下载HTML失败: ' + error.message, 'error');
        }
    });

    const copyHtmlBtn = document.getElementById('copyHtmlBtn');
    if(copyHtmlBtn) copyHtmlBtn.addEventListener('click', function() {
        const htmlContent = document.documentElement.outerHTML;
        const Gthis = this; 
        const originalButtonHTML = Gthis.innerHTML; 
        const textarea = document.createElement('textarea');
        textarea.value = htmlContent;
        textarea.style.position = 'fixed'; 
        textarea.style.top = '-9999px'; 
        textarea.style.left = '-9999px';
        document.body.appendChild(textarea);
        try {
            textarea.select();
            textarea.setSelectionRange(0, textarea.value.length); 
            if (document.execCommand('copy')) {
                Gthis.innerHTML = '<i class="fas fa-check"></i> 已拷贝!';
                showReportFeedbackMessage('HTML已拷贝到剪贴板!', 'success', 2000);
            } else {
                Gthis.innerHTML = '<i class="fas fa-times"></i> 拷贝失败';
                showReportFeedbackMessage('拷贝失败。您的浏览器可能不支持此操作。', 'error', 2000);
            }
        } catch (err) {
            Gthis.innerHTML = '<i class="fas fa-times"></i> 拷贝出错';
            showReportFeedbackMessage('拷贝出错: ' + err.message, 'error', 2000);
            console.error('拷贝HTML源码出错:', err);
        } finally {
            setTimeout(function() { 
                Gthis.innerHTML = originalButtonHTML; 
            }, 2000);
            document.body.removeChild(textarea);
        }
    });

    const viewPreviousReportBtn = document.getElementById('viewPreviousReportBtn');
    if(viewPreviousReportBtn) viewPreviousReportBtn.addEventListener('click', function() {
        const urlToOpen = previousReportUrl.trim();
        const placeholderUrlText = "在此处填写上周周报的URL"; 
        if (urlToOpen && urlToOpen !== placeholderUrlText && (urlToOpen.startsWith('http://') || urlToOpen.startsWith('https://') || !urlToOpen.includes('://'))) {
            let finalUrl = urlToOpen;
            const newWindow = window.open(finalUrl, '_blank'); 
            if (!newWindow || newWindow.closed || typeof newWindow.closed == 'undefined') {
                showReportFeedbackMessage('无法打开新窗口。请检查您的弹出窗口拦截设置。', 'error', 5000);
            }
        } else {
            showReportFeedbackMessage('上周周报的URL未配置或无效。请检查脚本中的 previousReportUrl 变量，并确保它是一个有效的网址或相对路径。', 'error', 5000);
        }
    });

    function adjustActionButtonsLayout() {
        const actionButtonsContainer = document.querySelector('.action-buttons-container');
        if (actionButtonsContainer) {
            if (window.innerWidth <= 768) { 
                actionButtonsContainer.style.display = 'flex';
                actionButtonsContainer.style.flexWrap = 'wrap';
                actionButtonsContainer.style.justifyContent = 'center';
            } else { 
                actionButtonsContainer.style.display = 'block'; 
                actionButtonsContainer.style.flexWrap = 'nowrap'; 
            }
        }
    }
    
    // --- Event Listeners Call on Load ---
    window.addEventListener('load', () => {
        initializeMainDiagram(); // Initialize Mermaid diagram
        adjustActionButtonsLayout(); // Adjust report buttons layout
    });
    window.addEventListener('resize', adjustActionButtonsLayout); // Adjust on resize as well

    // --- Report Page JavaScript END ---
</script>


</body></html>