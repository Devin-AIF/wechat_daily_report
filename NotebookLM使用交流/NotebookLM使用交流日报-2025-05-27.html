<html lang="zh-CN" style=""><head>
    <style id="__________cytoscape_stylesheet">.__________cytoscape_container { position: relative; }</style><meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NotebookLMä½¿ç”¨äº¤æµæ—¥æŠ¥ - 2025-05-27</title>
    <link rel="stylesheet" href="https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/tailwindcss/2.2.19/tailwind.min.css">
    <link rel="stylesheet" href="https://lf6-cdn-tos.bytecdntp.com/cdn/expire-100-M/font-awesome/6.0.0/css/all.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&amp;display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js" xintegrity="sha512-BNaRQnYJYiPSqHHDb58B0yaPfCu+Wgds8Gp/gU33kqBtgNS4tSPHuGibyoVBL5rLesXWW/sGuLhYFChxgYnz2Q==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js"></script>
    <style>
        :root {
            /* æç®€ä¸»ä¹‰é£æ ¼é…è‰² (from report) */
            --bg-primary: #f5f4ee; /* ç•¥æš–çš„ç±³ç™½è‰² */
            --bg-secondary: #faf9f6; /* æ›´æµ…çš„å¡ç‰‡èƒŒæ™¯è‰² */
            --bg-tertiary: #f1f3f5; /* ç¬¬ä¸‰èƒŒæ™¯è‰²ï¼Œç”¨äºæ ‡ç­¾ç­‰ */
            --text-primary: #212529; /* ä¸»è¦æ–‡å­—é¢œè‰² */
            --text-secondary: #495057; /* æ¬¡è¦æ–‡å­—é¢œè‰² */
            --accent-primary: #ff8906; /* ä¸»è¦å¼ºè°ƒè‰² - æ©™è‰² */
            --accent-secondary: #f76707; /* æ¬¡è¦å¼ºè°ƒè‰² - æ·±æ©™è‰² */
            --accent-tertiary: #e8590c; /* ç¬¬ä¸‰å¼ºè°ƒè‰² - ç„¦æ©™è‰² */
            --accent-blue: #339af0;     /* ç‰¹å®šå…ƒç´ çš„è“è‰²å¼ºè°ƒ */
            --accent-purple: #7048e8; /* è¯äº‘çš„ç´«è‰²å¼ºè°ƒ */
            --accent-cyan: #22b8cf;     /* è¯äº‘çš„é’è‰²å¼ºè°ƒ */
            --highlight-keyword-bg: #ffe8cc; /* å…³é”®è¯é«˜äº®èƒŒæ™¯ */
            --highlight-name-color: #7048e8; /* äººåé«˜äº®é¢œè‰² */
            --card-padding: 24px; /* å¡ç‰‡å†…è¾¹è· */
            --grid-gap: 16px; /* ç½‘æ ¼é—´è· */
            --card-radius: 12px; /* å¡ç‰‡åœ†è§’ */
            --card-shadow: 0 4px 6px rgba(0, 0, 0, 0.05); /* å¡ç‰‡é˜´å½± */
            --font-family: 'Inter', 'SF Pro Display', 'Segoe UI', sans-serif; /* å®šä¹‰å­—ä½“å˜é‡ */
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: var(--font-family); /* ä½¿ç”¨å­—ä½“å˜é‡ */
            background-color: var(--bg-primary);
            color: var(--text-primary);
            line-height: 1.6;
            font-size: 16px;
            width: 100%;
            max-width: 1000px; /* å†…å®¹æœ€å¤§å®½åº¦ */
            margin: 0 auto; /* å†…å®¹å±…ä¸­ */
            padding: 20px; /* å†…å®¹å‘¨å›´å†…è¾¹è· */
        }
        body.modal-active {
            overflow: hidden; /* Prevent body scroll when modal is open */
        }

        h1, h2, h3, h4 {
            font-weight: 600;
            letter-spacing: 0.5px;
        }

        h1 {
            font-size: 2.5rem; /* ä¸»å¡ç‰‡å¤§æ ‡é¢˜ */
            margin-bottom: 0.5rem;
            color: var(--accent-primary);
        }

        h2 { /* H2é€šç”¨æ ·å¼, ä¹Ÿç”¨äºä¸»é¢˜å¡ç‰‡ */
            font-size: 1.75rem; /* ç‰ˆå—æ ‡é¢˜ */
            margin-bottom: 1rem;
            color: var(--accent-primary); /* åŒºå—å’Œä¸»é¢˜å¡ç‰‡æ ‡é¢˜é¢œè‰² */
        }

        h3 { /* ç”¨äºå­æ ‡é¢˜æˆ–ç‰¹å®šå…ƒç´ ï¼Œå¦‚ç»Ÿè®¡å¡ç‰‡ */
            font-size: 1.25rem; /* å­ç‰ˆå—æ ‡é¢˜ */
            margin-bottom: 0.75rem;
            color: var(--accent-blue); /* å­æ ‡é¢˜ä½¿ç”¨è“è‰²ä»¥å½¢æˆå¯¹æ¯” */
        }

        .grid-container {
            display: grid;
            grid-template-columns: repeat(12, 1fr); /* 12åˆ—ç½‘æ ¼ç³»ç»Ÿ */
            grid-auto-rows: minmax(100px, auto); /* è¡Œé«˜æ ¹æ®å†…å®¹è‡ªåŠ¨è°ƒæ•´, è‡³å°‘100px */
            gap: var(--grid-gap);
            margin-top: 20px;
            grid-template-areas: /* æ›´æ–°çš„ç½‘æ ¼åŒºåŸŸ */
                "main      main      main      main      main      main      main      main      main      main      main      main"
                "topics    topics    topics    topics    topics    topics    topics    topics    topics    topics    topics    topics"
                "mindmap   mindmap   mindmap   mindmap   mindmap   mindmap   mindmap   mindmap   mindmap   mindmap   mindmap   mindmap"
                "quote     quote     quote     quote     quote     quote     links     links     links     links     links     links"
                "stats     stats     stats     stats     stats     stats     stats     wordcloud wordcloud wordcloud wordcloud wordcloud";
        }

        .card {
            background-color: var(--bg-secondary);
            border-radius: var(--card-radius);
            padding: var(--card-padding);
            box-shadow: var(--card-shadow);
            position: relative; /* ç”¨äºå›¾æ ‡å®šä½å’Œä¼ªå…ƒç´  */
            overflow: hidden; /* ç¡®ä¿ä¼ªå…ƒç´ ä¸è¶…å‡ºå¡ç‰‡åœ†è§’ */
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            display: flex; /* ä¸ºå¡ç‰‡å†…flexå¸ƒå±€æ·»åŠ  */
            flex-direction: column; /* å‚ç›´å †å é¡¹ç›® */
        }

        .card:hover {
            transform: translateY(-5px); /* é¼ æ ‡æ‚¬åœæ—¶è½»å¾®ä¸Šæµ®æ•ˆæœ */
            box-shadow: 0 8px 15px rgba(0, 0, 0, 0.1); /* é¼ æ ‡æ‚¬åœæ—¶å¢å¼ºé˜´å½± */
        }

        /* å¡ç‰‡é¡¶éƒ¨å¼ºè°ƒè¾¹æ¡† */
        .card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 3px;
            background: var(--accent-primary);
        }

        /* å¡ç‰‡å³ä¸‹è§’è£…é¥°æ€§å›¾æ ‡ */
        .card-icon {
            position: absolute;
            bottom: var(--card-padding);
            right: var(--card-padding);
            font-size: 4rem;
            opacity: 0.07;
            color: var(--accent-primary);
            z-index: 0; /* Ensure it's behind content if necessary */
        }

        /* ç½‘æ ¼åŒºåŸŸåˆ†é… */
        .main-card { grid-area: main; }
        .topic-cards-wrapper {
            grid-area: topics;
            display: grid;
            grid-template-columns: repeat(12, 1fr);
            gap: var(--grid-gap);
        }
        .mindmap-card-container { grid-area: mindmap; } /* Container for the mindmap card */
        .quote-card { grid-area: quote; }
        .links-card { grid-area: links; }
        .stats-card { grid-area: stats; }
        .wordcloud-card { grid-area: wordcloud; }

        .topic-card {
            grid-column: span 6; /* é»˜è®¤å æ®6åˆ— */
            min-height: 250px;
        }
        .topic-card > .topic-card-content-wrapper {
            flex-grow: 1; 
            padding-bottom: 1rem; 
        }
        .topic-cards-wrapper > .topic-card:nth-last-child(1):nth-child(odd) {
            grid-column: span 12;
        }

        .main-card h1 { text-align: center; }
        .main-card .date { text-align: center; }
        .date { font-size: 1.1rem; color: var(--text-secondary); margin-bottom: 1rem; }
        .meta-info { display: flex; flex-wrap: wrap; gap: 15px; margin-bottom: 1rem; justify-content: center; }
        .meta-info span { background-color: var(--bg-tertiary); padding: 5px 10px; border-radius: 20px; font-size: 0.9rem; color: var(--accent-blue); }
        .summary { margin-top: 1rem; line-height: 1.7; text-align: left; }
        .topic-category { display: inline-block; background-color: var(--accent-tertiary); color: var(--bg-primary); padding: 3px 8px; border-radius: 4px; font-size: 0.8rem; margin-bottom: 0.5rem; }
        .topic-keywords { display: flex; flex-wrap: wrap; gap: 8px; margin-top: 0.75rem; margin-bottom: 0.75rem; }
        .keyword { background-color: var(--bg-tertiary); color: var(--accent-primary); padding: 3px 8px; border-radius: 4px; font-size: 0.8rem; }
        .highlight-keyword { background-color: var(--highlight-keyword-bg); padding: 1px 2px; border-radius: 2px; font-weight: 500; display: inline; line-height: 1.2; box-decoration-break: clone; -webkit-box-decoration-break: clone; }
        .highlight-name { color: var(--highlight-name-color); font-weight: 500; }
        .topic-mentions { font-size: 0.9rem; color: var(--text-secondary); }
        .quote { position: relative; padding-left: 20px; margin: 10px 0; font-style: italic; color: var(--text-secondary); }
        .quote::before { content: '"'; position: absolute; left: 0; top: 0; font-size: 1.5rem; color: var(--accent-tertiary); }
        .quote-author { text-align: right; font-size: 0.9rem; color: var(--accent-tertiary); margin-top: 5px; }
        .link-item { display: flex; align-items: center; margin-bottom: 10px; padding: 8px; border-radius: 6px; background-color: var(--bg-tertiary); transition: background-color 0.2s ease; text-decoration: none; }
        .link-item:hover { background-color: rgba(51, 154, 240, 0.1); }
        .link-item a { text-decoration: none; color: inherit; display: flex; align-items: center; width: 100%; }
        .link-item a:hover .link-title { text-decoration: underline; color: var(--accent-blue); }
        .link-icon { margin-right: 10px; color: var(--accent-blue); }
        .link-title { flex-grow: 1; color: var(--text-primary); }
        .link-title.is-link { color: var(--accent-blue); }
        .link-title.is-link:hover { text-decoration: underline; }
        .user-stats-table { width: 100%; border-collapse: collapse; margin-top: 0.5rem; }
        .user-stats-table th { text-align: center; padding: 0.75rem 0.5rem; border-bottom: 2px solid var(--accent-primary); color: var(--text-primary); font-weight: 600; font-size: 0.9rem; }
        .user-stats-table td { padding: 0.75rem 0.5rem; border-bottom: 1px solid var(--bg-tertiary); color: var(--text-secondary); font-size: 0.85rem; vertical-align: top; text-align: left; }
        .user-stats-table .user-name-col { width: 25%; font-weight: 500; word-break: break-all; }
        .user-stats-table .message-count-col { text-align: center; width: 15%; white-space: nowrap; }
        .user-stats-table .contribution-col { width: 60%; word-break: break-all; }
        .user-stats-table tr:last-child td { border-bottom: none; }
        .wordcloud { display: flex; flex-wrap: wrap; justify-content: center; gap: 10px; padding: 20px 0; }
        .wordcloud-item { padding: 5px 10px; border-radius: 4px; font-weight: 500; transition: transform 0.2s ease; }
        .wordcloud-item:hover { transform: scale(1.1); }
        .size-1 { font-size: 0.9rem; color: var(--text-secondary); }
        .size-2 { font-size: 1.1rem; color: var(--accent-cyan); }
        .size-3 { font-size: 1.3rem; color: var(--accent-blue); }
        .size-4 { font-size: 1.5rem; color: var(--accent-purple); }
        .size-5 { font-size: 1.8rem; color: var(--accent-tertiary); }
        .action-buttons-container { text-align: center; margin: 20px 0; padding-bottom: 20px; }
        .action-button { background-color: var(--accent-primary); color: white; border: none; padding: 10px 20px; border-radius: var(--card-radius); font-size: 1rem; font-weight: 500; cursor: pointer; transition: background-color 0.3s ease, transform 0.2s ease; margin: 5px 10px; box-shadow: var(--card-shadow); display: inline-flex; align-items: center; justify-content: center; }
        .action-button:hover { background-color: var(--accent-secondary); transform: translateY(-2px); }
        .action-button i, .action-button .fas { margin-right: 8px; }
        .footer { margin-top: 30px; text-align: center; color: var(--text-secondary); font-size: 0.9rem; }
        #report-content-wrapper .footer { margin-top: 30px; padding-bottom: 20px; }

        /* Mermaid Diagram Specific Styles */
        .mindmap-card { /* This class is applied to the card holding the mindmap */
            min-height: 400px; /* Adjust as needed */
            /* max-width: 900px; /* Let grid control width, or set if needed */
        }
        .mindmap-card h2 i { margin-right: 8px; }
        .mindmap-controls { display: flex; gap: 10px; margin-bottom: 15px; align-items: center; flex-wrap: wrap; }
        .mindmap-controls button { background-color: var(--accent-blue); color: white; border: none; padding: 8px 12px; border-radius: var(--card-radius); font-size: 0.9rem; cursor: pointer; transition: background-color 0.2s ease; font-weight: 500; display: inline-flex; align-items: center; justify-content: center; }
        .mindmap-controls button:hover { background-color: #228be6; /* Darker blue for hover */ }
        .mindmap-controls button i { margin-right: 5px; }
        .mindmap-controls .fullscreen-toggle-btn { margin-left: auto; }
        .mermaid-container { flex-grow: 1; display: flex; justify-content: center; align-items: center; overflow: auto; background-color: #fff; border-radius: 8px; padding: 10px; border: 1px solid var(--bg-tertiary); min-height: 300px; cursor: grab; }
        .mermaid-container.dragging { cursor: grabbing; }
        .mermaid-container:empty::before { content: "åœ¨æ­¤å¤„ç”Ÿæˆæˆ–ç²˜è´´Mermaidå¯¼å›¾ä»£ç ã€‚"; color: var(--text-secondary); font-style: italic; text-align: center; padding: 20px; }
        .mermaid-container svg { max-width: none; height: auto; display: block; transition: transform 0.2s ease-out; }

        /* Feedback messages for Mermaid */
        #mermaid-main-feedback-message, #mermaid-modal-feedback-message { text-align: center; margin-top: 15px; padding: 8px; border-radius: 4px; font-weight: 500; font-size: 0.9rem; display: none; }
        #mermaid-main-feedback-message.success, #mermaid-modal-feedback-message.success { color: #155724; background-color: #d4edda; border: 1px solid #c3e6cb; display: block; }
        #mermaid-main-feedback-message.error, #mermaid-modal-feedback-message.error { color: #721c24; background-color: #f8d7da; border: 1px solid #f5c6cb; display: block; }
        #mermaid-main-feedback-message.info, #mermaid-modal-feedback-message.info { color: #0c5460; background-color: #d1ecf1; border: 1px solid #bee5eb; display: block; }
        
        /* Report's own feedback message styling */
        #feedback-message { text-align: center; margin-top: 10px; font-weight: 500; }
        #feedback-message.success { color: green; }
        #feedback-message.error { color: red; }

        /* Fullscreen Modal Styles for Mermaid */
        .modal-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0, 0, 0, 0.75); display: none; justify-content: center; align-items: center; z-index: 1000; padding: 20px; }
        .modal-overlay.active { display: flex; }
        .modal-content { /* This class is also used by the Mermaid modal's inner card */
            width: 95%; height: 90%; max-width: 1200px; 
            /* display: flex; flex-direction: column; /* Already part of .card */
        }
        .modal-close-btn { position: absolute; top: 15px; right: 20px; background: none; border: none; font-size: 2.2rem; color: var(--text-secondary); cursor: pointer; line-height: 1; padding: 5px; z-index: 1010; }
        .modal-close-btn:hover { color: var(--text-primary); }
        #modalMermaidContainer { flex-grow: 1; min-height: 0; /* Ensure it uses space within modal-content */ }
        #modalMermaidContainer:empty::before { content: "å¯¼å›¾å†…å®¹å°†åœ¨æ­¤æ˜¾ç¤ºã€‚"; color: var(--text-secondary); font-style: italic; text-align: center; padding: 20px; display: flex; justify-content: center; align-items: center; height: 100%; }

        @keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
        .card { animation: fadeIn 0.5s ease forwards; }
        .main-card { animation-delay: 0.1s; }
        .topic-cards-wrapper .topic-card:nth-child(1) { animation-delay: 0.2s; }
        .topic-cards-wrapper .topic-card:nth-child(2) { animation-delay: 0.3s; }
        .topic-cards-wrapper .topic-card:nth-child(3) { animation-delay: 0.4s; }
        .topic-cards-wrapper .topic-card:nth-child(4) { animation-delay: 0.5s; }
        .mindmap-card-container .card { animation-delay: 0.6s; } /* Mindmap card animation */
        .quote-card { animation-delay: 0.7s; }
        .links-card { animation-delay: 0.8s; }
        .stats-card { animation-delay: 0.9s; }
        .wordcloud-card { animation-delay: 1.0s; }
        #report-content-wrapper .footer { animation: fadeIn 0.5s ease forwards; animation-delay: 1.1s; } /* Footer animation */
        .action-buttons-container { animation: fadeIn 0.5s ease forwards; animation-delay: 1.2s; } /* Buttons animation */


        @media (max-width: 768px) {
            body { padding: 10px; font-size: 14px; }
            h1 { font-size: 1.8rem; }
            h2 { font-size: 1.4rem; }
            h3 { font-size: 1.1rem; }
            .grid-container {
                grid-template-columns: 1fr;
                grid-template-areas:
                    "main"
                    "topics"
                    "mindmap"
                    "quote"
                    "links"
                    "stats"
                    "wordcloud";
            }
            .topic-cards-wrapper { grid-template-columns: 1fr; }
            .topic-card { grid-column: 1 / -1; min-height: auto; }
            .topic-card > .topic-card-content-wrapper { padding-bottom: 1rem; }
            .topic-mentions { position: static; margin-top: 10px; margin-bottom: 10px; text-align: left; }
            .card-icon { font-size: 2.5rem; opacity:0.05; /* position: relative; margin-top: auto; margin-left: auto; padding-top: 10px; bottom:15px; right:15px; (Original card-icon positioning is fine for most cards)*/ }
            .mindmap-card .card-icon { bottom: 15px; right: 15px; /* Ensure mindmap card icon is positioned like others */ }

            .user-stats-table th, .user-stats-table td { padding: 0.5rem 0.25rem; font-size: 0.8rem; }
            .user-stats-table td { text-align: left; }
            .user-stats-table .message-count-col { text-align: center; }
            .action-button { padding: 8px 15px; font-size: 0.9rem; }
            .action-buttons-container { display: flex; flex-wrap: wrap; justify-content: center; gap: 10px; }
            .action-buttons-container .action-button { width: calc(50% - 10px); min-width: 180px; margin: 5px 0; }
            
            /* Mermaid specific responsive */
            .mindmap-card .card { padding: 15px; }
            .mindmap-controls button { font-size: 0.8rem; padding: 6px 10px; }
            .modal-content { width: 100%; height: 95%; }
            .modal-close-btn { font-size: 1.8rem; top:10px; right:10px;}
        }
        @media (max-width: 480px) {
            .action-buttons-container .action-button { width: 80%; }
            .user-stats-table { display: block; overflow-x: auto; }
            .user-stats-table th, .user-stats-table td { white-space: normal; }
            .user-stats-table thead, .user-stats-table tbody, .user-stats-table tr { display: block; }
            .user-stats-table tr { border-bottom: 1px solid var(--bg-tertiary); }
            .user-stats-table th { display: none; }
            .user-stats-table td { display: block; text-align: left; border-bottom: none; padding-left: 0.5rem; }
            .user-stats-table td.message-count-col { text-align: left; }
            .user-stats-table td::before { content: attr(data-label); font-weight: bold; display: inline-block; width: 100px; margin-right: 10px; color: var(--text-primary); text-align: left; }
            .user-stats-table tr:last-child { border-bottom: none; }
        }
    </style>
</head>
<body style="">
    <div id="report-content-wrapper">
        <div class="grid-container">
            <div class="card main-card">
                <h1 contenteditable="true">NotebookLMä½¿ç”¨äº¤æµæ—¥æŠ¥</h1>
                <div class="date">2025-05-27</div>
                <div class="meta-info">
                    <span><i class="fas fa-comment"></i> æ¶ˆæ¯æ•°: çº¦15æ¡</span>
                    <span><i class="fas fa-users"></i> æ´»è·ƒç”¨æˆ·: çº¦10äºº</span>
                    <span><i class="fas fa-fire"></i> çƒ­ç‚¹è¯é¢˜: 3</span>
                </div>
                <p class="summary">ä»Šæ—¥NotebookLMä½¿ç”¨äº¤æµç¾¤èŠå†…å®¹è¾ƒå°‘ä½†è´¨é‡è¾ƒé«˜ï¼Œä¸»è¦å›´ç»•NotebookLMçš„åœ°åŒºé™åˆ¶é—®é¢˜ã€éŸ³é¢‘å¤„ç†åŠŸèƒ½ä»¥åŠèµ„æºåˆ†äº«å±•å¼€ã€‚ç¾¤å‹è®¨è®ºäº†NotebookLMæç¤ºæ‰€å¤„åœ°åŒºå’Œè´¦æˆ·å—é™çš„è§£å†³æ–¹æ¡ˆï¼Œåˆ†äº«äº†ä½¿ç”¨NotebookLMå¤„ç†ä¸­æ–‡éŸ³é¢‘æ—¶å‡ºç°ç¹ä½“å­—çš„é—®é¢˜åŠè§£å†³æ–¹æ³•ï¼Œè¿˜æœ‰ç¾¤å‹åˆ†äº«äº†ä¸€æ®µ92åˆ†é’Ÿçš„ä¸­å›½å²éŸ³é¢‘èµ„æºã€‚æ­¤å¤–ï¼Œç¾¤å‹ä»¬å¯¹æ˜¨æ—¥åˆ†äº«çš„ç¾¤èŠæ—¥æŠ¥å’Œå‘¨æŠ¥é“¾æ¥è¡¨ç¤ºäº†èµèµï¼Œå¹¶å¯¹å®‰å¾·é²åˆ†äº«çš„NotebookLMéŸ³é¢‘å¤„ç†æ•ˆæœè¿›è¡Œäº†è®¨è®ºï¼Œè®¤ä¸ºå…¶è‹±æ–‡å¤„ç†æ•ˆæœä¼˜äºä¸­æ–‡ã€‚æ€»ä½“æ¥çœ‹ï¼Œä»Šæ—¥ç¾¤èŠè™½ç„¶æ¶ˆæ¯é‡ä¸å¤§ï¼Œä½†å†…å®¹æ¶µç›–äº†NotebookLMçš„å®é™…ä½¿ç”¨é—®é¢˜å’Œèµ„æºåˆ†äº«ï¼Œå¯¹ç¾¤å‹è§£å†³å®é™…é—®é¢˜æä¾›äº†å¸®åŠ©ã€‚</p>
                <i class="fas fa-microchip card-icon"></i>
            </div>

            <div class="topic-cards-wrapper">
                <div class="card topic-card">
                    <div class="topic-card-content-wrapper"> 
                        <h2 contenteditable="true"><i class="fas fa-map-marker-alt"></i> NotebookLMåœ°åŒºé™åˆ¶é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ</h2>
                        <div class="topic-category">ä½¿ç”¨é—®é¢˜</div>
                        <p>ä»Šæ—¥æœ‰ç¾¤å‹æå‡ºäº†ä½¿ç”¨NotebookLMæ—¶é‡åˆ°çš„<span class="highlight-keyword">åœ°åŒº</span>å’Œ<span class="highlight-keyword">è´¦æˆ·é™åˆ¶</span>é—®é¢˜ï¼Œè¯¢é—®è§£å†³æ–¹æ¡ˆã€‚ç¾¤å‹<span class="highlight-name">@é¾™è² | AIå…¨åŸŸè¥é”€å¢é•¿è‡ªåŠ¨åŒ–</span>ç»™å‡ºäº†ç®€æ´æ˜äº†çš„è§£å†³æ–¹æ¡ˆâ€”â€”â€œ<span class="highlight-keyword">æ¢IP</span>å°±å¥½äº†â€ã€‚è¿™ä¸€è®¨è®ºåæ˜ äº†å›½å†…ç”¨æˆ·åœ¨ä½¿ç”¨å›½é™…AIå·¥å…·æ—¶å¸¸é‡åˆ°çš„åœ°åŒºé™åˆ¶é—®é¢˜ã€‚</p>
                        <div class="topic-keywords">
                            <span class="keyword">åœ°åŒºé™åˆ¶</span>
                            <span class="keyword">è´¦æˆ·é™åˆ¶</span>
                            <span class="keyword">IPåœ°å€</span>
                            <span class="keyword">è§£å†³æ–¹æ¡ˆ</span>
                        </div>
                        <div class="topic-mentions"><i class="fas fa-bullhorn"></i> æåŠæ¬¡æ•°: N/A</div>
                    </div>
                    <i class="fas fa-tools card-icon"></i> 
                </div>
                <div class="card topic-card">
                    <div class="topic-card-content-wrapper"> 
                        <h2 contenteditable="true"><i class="fas fa-microphone-alt"></i> NotebookLMéŸ³é¢‘å¤„ç†åŠŸèƒ½ä¸è¯­è¨€è¾“å‡ºé—®é¢˜</h2>
                        <div class="topic-category">åŠŸèƒ½è®¨è®º</div>
                        <p>ç¾¤å‹<span class="highlight-name">@å®‰å¾·é²</span>åˆ†äº«äº†NotebookLMå¤„ç†éŸ³é¢‘çš„æ•ˆæœï¼ŒæŒ‡å‡º<span class="highlight-keyword">è‹±æ–‡éŸ³é¢‘</span>æ•ˆæœå¥½ï¼Œä½†<span class="highlight-keyword">ä¸­æ–‡éŸ³é¢‘</span>å¤„ç†å­˜åœ¨é—®é¢˜ï¼Œå¦‚â€œä¸­æ–‡æœ‰äº›åå­—å¾ˆå¥‡æ€ªâ€ã€‚<span class="highlight-name">@å‡Œæ«</span>é‡åˆ°å¯¼å…¥éŸ³é¢‘åæ–‡æœ¬è¢«è½¬æˆ<span class="highlight-keyword">ç¹ä½“å­—</span>çš„é—®é¢˜ã€‚<span class="highlight-name">@mingxuan</span>å»ºè®®å°è¯•å°†è¾“å‡ºè¯­è¨€æ”¹ä¸º<span class="highlight-keyword">ç®€ä½“ä¸­æ–‡</span>ã€‚</p>
                        <div class="topic-keywords">
                            <span class="keyword">éŸ³é¢‘å¤„ç†</span>
                            <span class="keyword">ä¸­æ–‡</span>
                            <span class="keyword">è‹±æ–‡</span>
                            <span class="keyword">ç¹ä½“å­—</span>
                            <span class="keyword">ç®€ä½“ä¸­æ–‡</span>
                            <span class="keyword">è¾“å‡ºè¯­è¨€</span>
                        </div>
                        <div class="topic-mentions"><i class="fas fa-bullhorn"></i> æåŠæ¬¡æ•°: N/A</div>
                    </div>
                    <i class="fas fa-cogs card-icon"></i> 
                </div>
                <div class="card topic-card">
                    <div class="topic-card-content-wrapper"> 
                        <h2 contenteditable="true"><i class="fas fa-headphones"></i> ä¼˜è´¨éŸ³é¢‘èµ„æºåˆ†äº«ä¸å­¦ä¹ ç´ ææ¨è</h2>
                        <div class="topic-category">èµ„æºåˆ†äº«</div>
                        <p><span class="highlight-name">@CoCoğŸ¤æ¤°å­</span>åœ¨ç¾¤å†…åˆ†äº«äº†ä¸€æ®µ92åˆ†é’Ÿçš„<span class="highlight-keyword">ä¸­å›½å²éŸ³é¢‘èµ„æº</span>ï¼Œæ ‡é¢˜ä¸ºâ€œå¥½çœ‹åˆ°ç¡ä¸ç€çš„ä¸­å›½å²ï½œå”å®‹æ˜æ¸…è‘—åå†å²äººç‰©å’Œäº‹ä»¶ï½œé€Ÿå¬å…¨æœ¬â€ã€‚è¿™ç±»é«˜è´¨é‡çš„éŸ³é¢‘èµ„æºå¯ä½œä¸ºå­¦ä¹ å†…å®¹ï¼Œä¹Ÿå¯ä½œä¸ºNotebookLMéŸ³é¢‘å¤„ç†å’Œåˆ†æçš„ç´ æã€‚</p>
                        <div class="topic-keywords">
                            <span class="keyword">éŸ³é¢‘èµ„æº</span>
                            <span class="keyword">ä¸­å›½å²</span>
                            <span class="keyword">å­¦ä¹ ç´ æ</span>
                            <span class="keyword">NotebookLMç´ æ</span>
                        </div>
                        <div class="topic-mentions"><i class="fas fa-bullhorn"></i> æåŠæ¬¡æ•°: N/A</div>
                    </div>
                    <i class="fas fa-book-open card-icon"></i> 
                </div>
            </div>
            
            <div class="mindmap-card-container card"> <div class="mindmap-card"> 
                    <h2><i class="fas fa-sitemap"></i> æ ¸å¿ƒæ¦‚å¿µå…³ç³»å›¾</h2>
                    <div class="mindmap-controls">
                        <button id="zoomInBtn"><i class="fas fa-search-plus"></i> æ”¾å¤§</button>
                        <button id="zoomOutBtn"><i class="fas fa-search-minus"></i> ç¼©å°</button>
                        <button id="downloadDiagramBtn"><i class="fas fa-download"></i> ä¸‹è½½å¯¼å›¾</button>
                        <button id="fullscreenOpenBtn" class="fullscreen-toggle-btn"><i class="fas fa-expand"></i> å…¨å±</button> 
                    </div>
                    <div class="mermaid-container" id="mainMermaidContainer"><svg aria-roledescription="mindmap" role="graphics-document document" viewBox="0 0 959.44482421875 530.9085083007812" style="max-width: 959.445px; transform: scale(1); transform-origin: center center;" xmlns="http://www.w3.org/2000/svg" width="100%" id="initialMainDiagramSvg"><style>#initialMainDiagramSvg{font-family:"Inter",sans-serif;font-size:16px;fill:#333;}#initialMainDiagramSvg .error-icon{fill:hsl(220.5882352941, 100%, 98.3333333333%);}#initialMainDiagramSvg .error-text{fill:rgb(8.5000000002, 5.7500000001, 0);stroke:rgb(8.5000000002, 5.7500000001, 0);}#initialMainDiagramSvg .edge-thickness-normal{stroke-width:2px;}#initialMainDiagramSvg .edge-thickness-thick{stroke-width:3.5px;}#initialMainDiagramSvg .edge-pattern-solid{stroke-dasharray:0;}#initialMainDiagramSvg .edge-pattern-dashed{stroke-dasharray:3;}#initialMainDiagramSvg .edge-pattern-dotted{stroke-dasharray:2;}#initialMainDiagramSvg .marker{fill:#0b0b0b;stroke:#0b0b0b;}#initialMainDiagramSvg .marker.cross{stroke:#0b0b0b;}#initialMainDiagramSvg svg{font-family:"Inter",sans-serif;font-size:16px;}#initialMainDiagramSvg .edge{stroke-width:3;}#initialMainDiagramSvg .section--1 rect,#initialMainDiagramSvg .section--1 path,#initialMainDiagramSvg .section--1 circle,#initialMainDiagramSvg .section--1 polygon,#initialMainDiagramSvg .section--1 path{fill:hsl(40.5882352941, 100%, 68.3333333333%);}#initialMainDiagramSvg .section--1 text{fill:#333;}#initialMainDiagramSvg .node-icon--1{font-size:40px;color:#333;}#initialMainDiagramSvg .section-edge--1{stroke:hsl(40.5882352941, 100%, 68.3333333333%);}#initialMainDiagramSvg .edge-depth--1{stroke-width:17;}#initialMainDiagramSvg .section--1 line{stroke:rgb(0, 52.2500000001, 161.5000000002);stroke-width:3;}#initialMainDiagramSvg .disabled,#initialMainDiagramSvg .disabled circle,#initialMainDiagramSvg .disabled text{fill:lightgray;}#initialMainDiagramSvg .disabled text{fill:#efefef;}#initialMainDiagramSvg .section-0 rect,#initialMainDiagramSvg .section-0 path,#initialMainDiagramSvg .section-0 circle,#initialMainDiagramSvg .section-0 polygon,#initialMainDiagramSvg .section-0 path{fill:hsl(-79.4117647059, 100%, 68.3333333333%);}#initialMainDiagramSvg .section-0 text{fill:#333;}#initialMainDiagramSvg .node-icon-0{font-size:40px;color:#333;}#initialMainDiagramSvg .section-edge-0{stroke:hsl(-79.4117647059, 100%, 68.3333333333%);}#initialMainDiagramSvg .edge-depth-0{stroke-width:14;}#initialMainDiagramSvg .section-0 line{stroke:rgb(52.2500000001, 161.5000000002, 0);stroke-width:3;}#initialMainDiagramSvg .disabled,#initialMainDiagramSvg .disabled circle,#initialMainDiagramSvg .disabled text{fill:lightgray;}#initialMainDiagramSvg .disabled text{fill:#efefef;}#initialMainDiagramSvg .section-1 rect,#initialMainDiagramSvg .section-1 path,#initialMainDiagramSvg .section-1 circle,#initialMainDiagramSvg .section-1 polygon,#initialMainDiagramSvg .section-1 path{fill:hsl(220.5882352941, 100%, 73.3333333333%);}#initialMainDiagramSvg .section-1 text{fill:#333;}#initialMainDiagramSvg .node-icon-1{font-size:40px;color:#333;}#initialMainDiagramSvg .section-edge-1{stroke:hsl(220.5882352941, 100%, 73.3333333333%);}#initialMainDiagramSvg .edge-depth-1{stroke-width:11;}#initialMainDiagramSvg .section-1 line{stroke:rgb(136.0000000002, 92.0000000001, 0);stroke-width:3;}#initialMainDiagramSvg .disabled,#initialMainDiagramSvg .disabled circle,#initialMainDiagramSvg .disabled text{fill:lightgray;}#initialMainDiagramSvg .disabled text{fill:#efefef;}#initialMainDiagramSvg .section-2 rect,#initialMainDiagramSvg .section-2 path,#initialMainDiagramSvg .section-2 circle,#initialMainDiagramSvg .section-2 polygon,#initialMainDiagramSvg .section-2 path{fill:hsl(70.5882352941, 100%, 68.3333333333%);}#initialMainDiagramSvg .section-2 text{fill:#333;}#initialMainDiagramSvg .node-icon-2{font-size:40px;color:#333;}#initialMainDiagramSvg .section-edge-2{stroke:hsl(70.5882352941, 100%, 68.3333333333%);}#initialMainDiagramSvg .edge-depth-2{stroke-width:8;}#initialMainDiagramSvg .section-2 line{stroke:rgb(28.5, 0, 161.5000000002);stroke-width:3;}#initialMainDiagramSvg .disabled,#initialMainDiagramSvg .disabled circle,#initialMainDiagramSvg .disabled text{fill:lightgray;}#initialMainDiagramSvg .disabled text{fill:#efefef;}#initialMainDiagramSvg .section-3 rect,#initialMainDiagramSvg .section-3 path,#initialMainDiagramSvg .section-3 circle,#initialMainDiagramSvg .section-3 polygon,#initialMainDiagramSvg .section-3 path{fill:hsl(100.5882352941, 100%, 68.3333333333%);}#initialMainDiagramSvg .section-3 text{fill:#333;}#initialMainDiagramSvg .node-icon-3{font-size:40px;color:#333;}#initialMainDiagramSvg .section-edge-3{stroke:hsl(100.5882352941, 100%, 68.3333333333%);}#initialMainDiagramSvg .edge-depth-3{stroke-width:5;}#initialMainDiagramSvg .section-3 line{stroke:rgb(109.2500000001, 0, 161.5000000002);stroke-width:3;}#initialMainDiagramSvg .disabled,#initialMainDiagramSvg .disabled circle,#initialMainDiagramSvg .disabled text{fill:lightgray;}#initialMainDiagramSvg .disabled text{fill:#efefef;}#initialMainDiagramSvg .section-4 rect,#initialMainDiagramSvg .section-4 path,#initialMainDiagramSvg .section-4 circle,#initialMainDiagramSvg .section-4 polygon,#initialMainDiagramSvg .section-4 path{fill:hsl(130.5882352941, 100%, 68.3333333333%);}#initialMainDiagramSvg .section-4 text{fill:#333;}#initialMainDiagramSvg .node-icon-4{font-size:40px;color:#333;}#initialMainDiagramSvg .section-edge-4{stroke:hsl(130.5882352941, 100%, 68.3333333333%);}#initialMainDiagramSvg .edge-depth-4{stroke-width:2;}#initialMainDiagramSvg .section-4 line{stroke:rgb(161.5000000002, 0, 133.0000000002);stroke-width:3;}#initialMainDiagramSvg .disabled,#initialMainDiagramSvg .disabled circle,#initialMainDiagramSvg .disabled text{fill:lightgray;}#initialMainDiagramSvg .disabled text{fill:#efefef;}#initialMainDiagramSvg .section-5 rect,#initialMainDiagramSvg .section-5 path,#initialMainDiagramSvg .section-5 circle,#initialMainDiagramSvg .section-5 polygon,#initialMainDiagramSvg .section-5 path{fill:hsl(160.5882352941, 100%, 68.3333333333%);}#initialMainDiagramSvg .section-5 text{fill:#333;}#initialMainDiagramSvg .node-icon-5{font-size:40px;color:#333;}#initialMainDiagramSvg .section-edge-5{stroke:hsl(160.5882352941, 100%, 68.3333333333%);}#initialMainDiagramSvg .edge-depth-5{stroke-width:-1;}#initialMainDiagramSvg .section-5 line{stroke:rgb(161.5000000002, 0, 52.2500000001);stroke-width:3;}#initialMainDiagramSvg .disabled,#initialMainDiagramSvg .disabled circle,#initialMainDiagramSvg .disabled text{fill:lightgray;}#initialMainDiagramSvg .disabled text{fill:#efefef;}#initialMainDiagramSvg .section-6 rect,#initialMainDiagramSvg .section-6 path,#initialMainDiagramSvg .section-6 circle,#initialMainDiagramSvg .section-6 polygon,#initialMainDiagramSvg .section-6 path{fill:hsl(190.5882352941, 100%, 68.3333333333%);}#initialMainDiagramSvg .section-6 text{fill:#333;}#initialMainDiagramSvg .node-icon-6{font-size:40px;color:#333;}#initialMainDiagramSvg .section-edge-6{stroke:hsl(190.5882352941, 100%, 68.3333333333%);}#initialMainDiagramSvg .edge-depth-6{stroke-width:-4;}#initialMainDiagramSvg .section-6 line{stroke:rgb(161.5000000002, 28.5, 0);stroke-width:3;}#initialMainDiagramSvg .disabled,#initialMainDiagramSvg .disabled circle,#initialMainDiagramSvg .disabled text{fill:lightgray;}#initialMainDiagramSvg .disabled text{fill:#efefef;}#initialMainDiagramSvg .section-7 rect,#initialMainDiagramSvg .section-7 path,#initialMainDiagramSvg .section-7 circle,#initialMainDiagramSvg .section-7 polygon,#initialMainDiagramSvg .section-7 path{fill:hsl(250.5882352941, 100%, 75%);}#initialMainDiagramSvg .section-7 text{fill:#333;}#initialMainDiagramSvg .node-icon-7{font-size:40px;color:#333;}#initialMainDiagramSvg .section-edge-7{stroke:hsl(250.5882352941, 100%, 75%);}#initialMainDiagramSvg .edge-depth-7{stroke-width:-7;}#initialMainDiagramSvg .section-7 line{stroke:rgb(105, 127.5, 0);stroke-width:3;}#initialMainDiagramSvg .disabled,#initialMainDiagramSvg .disabled circle,#initialMainDiagramSvg .disabled text{fill:lightgray;}#initialMainDiagramSvg .disabled text{fill:#efefef;}#initialMainDiagramSvg .section-8 rect,#initialMainDiagramSvg .section-8 path,#initialMainDiagramSvg .section-8 circle,#initialMainDiagramSvg .section-8 polygon,#initialMainDiagramSvg .section-8 path{fill:hsl(310.5882352941, 100%, 68.3333333333%);}#initialMainDiagramSvg .section-8 text{fill:#333;}#initialMainDiagramSvg .node-icon-8{font-size:40px;color:#333;}#initialMainDiagramSvg .section-edge-8{stroke:hsl(310.5882352941, 100%, 68.3333333333%);}#initialMainDiagramSvg .edge-depth-8{stroke-width:-10;}#initialMainDiagramSvg .section-8 line{stroke:rgb(0, 161.5000000002, 28.5);stroke-width:3;}#initialMainDiagramSvg .disabled,#initialMainDiagramSvg .disabled circle,#initialMainDiagramSvg .disabled text{fill:lightgray;}#initialMainDiagramSvg .disabled text{fill:#efefef;}#initialMainDiagramSvg .section-9 rect,#initialMainDiagramSvg .section-9 path,#initialMainDiagramSvg .section-9 circle,#initialMainDiagramSvg .section-9 polygon,#initialMainDiagramSvg .section-9 path{fill:hsl(340.5882352941, 100%, 68.3333333333%);}#initialMainDiagramSvg .section-9 text{fill:#333;}#initialMainDiagramSvg .node-icon-9{font-size:40px;color:#333;}#initialMainDiagramSvg .section-edge-9{stroke:hsl(340.5882352941, 100%, 68.3333333333%);}#initialMainDiagramSvg .edge-depth-9{stroke-width:-13;}#initialMainDiagramSvg .section-9 line{stroke:rgb(0, 161.5000000002, 109.2500000001);stroke-width:3;}#initialMainDiagramSvg .disabled,#initialMainDiagramSvg .disabled circle,#initialMainDiagramSvg .disabled text{fill:lightgray;}#initialMainDiagramSvg .disabled text{fill:#efefef;}#initialMainDiagramSvg .section-10 rect,#initialMainDiagramSvg .section-10 path,#initialMainDiagramSvg .section-10 circle,#initialMainDiagramSvg .section-10 polygon,#initialMainDiagramSvg .section-10 path{fill:hsl(10.5882352941, 100%, 68.3333333333%);}#initialMainDiagramSvg .section-10 text{fill:#333;}#initialMainDiagramSvg .node-icon-10{font-size:40px;color:#333;}#initialMainDiagramSvg .section-edge-10{stroke:hsl(10.5882352941, 100%, 68.3333333333%);}#initialMainDiagramSvg .edge-depth-10{stroke-width:-16;}#initialMainDiagramSvg .section-10 line{stroke:rgb(0, 133.0000000002, 161.5000000002);stroke-width:3;}#initialMainDiagramSvg .disabled,#initialMainDiagramSvg .disabled circle,#initialMainDiagramSvg .disabled text{fill:lightgray;}#initialMainDiagramSvg .disabled text{fill:#efefef;}#initialMainDiagramSvg .section-root rect,#initialMainDiagramSvg .section-root path,#initialMainDiagramSvg .section-root circle,#initialMainDiagramSvg .section-root polygon{fill:hsl(40.5882352941, 100%, 68.3333333333%);}#initialMainDiagramSvg .section-root text{fill:#333;}#initialMainDiagramSvg .icon-container{height:100%;display:flex;justify-content:center;align-items:center;}#initialMainDiagramSvg .edge{fill:none;}#initialMainDiagramSvg .mindmap-node-label{dy:1em;alignment-baseline:middle;text-anchor:middle;dominant-baseline:middle;text-align:center;}#initialMainDiagramSvg :root{--mermaid-font-family:"Inter",sans-serif;}</style><g></g><g class="mindmap-edges"><path class="edge section-edge-0 edge-depth-1" d="M 255.30832415239408,251.67129149173456 L 165.251120191954,260.01034045171224 L75.1939162315139,268.3493894116899"></path><path class="edge section-edge-0 edge-depth-0" d="M 517.0112023590422,260.0058636355785 L 401.12200650841334,255.4421759296468 L285.2328106577845,250.87848822371507"></path><path class="edge section-edge-1 edge-depth-1" d="M 602.1192795500558,155.12019352026465 L 502.9978952665158,138.0317844752248 L403.87651098297573,120.943375430185"></path><path class="edge section-edge-1 edge-depth-1" d="M 631.1762075000586,153.0615566149438 L 728.7785817183616,121.56194327419419 L826.3809559366646,90.06232993344456"></path><path class="edge section-edge-1 edge-depth-1" d="M 615.631663942786,142.72240440737752 L 612.079985160233,100.90929111629028 L608.5283063776801,59.09617782520303"></path><path class="edge section-edge-1 edge-depth-1" d="M 630.8751068613552,163.12114494586012 L 729.6730339018098,201.671752607058 L828.4709609422645,240.22236026825593"></path><path class="edge section-edge-1 edge-depth-0" d="M 541.5444216233444,249.02475434170873 L 574.4504017462904,209.13234232676695 L607.3563818692363,169.23993031182516"></path><path class="edge section-edge-2 edge-depth-1" d="M 576.4289020303133,376.23912901187066 L 684.0922552517734,393.16018816000576 L791.7556084732335,410.08124730814086"></path><path class="edge section-edge-2 edge-depth-1" d="M 560.0496372073017,388.82875935168704 L 555.7062516750498,430.3343732225925 L551.3628661427979,471.83998709349794"></path><path class="edge section-edge-2 edge-depth-1" d="M 546.7435971180639,375.9017836053676 L 435.82369412901994,390.7602550328935 L324.90379113997585,405.6187264604194"></path><path class="edge section-edge-2 edge-depth-0" d="M 535.7920298951899,275.10876457250646 L 546.8051918666683,317.25316190228693 L557.8183538381468,359.3975592320674"></path></g><g class="mindmap-nodes"><g transform="translate(436.3394288829187, 230.1461031838928)" class="mindmap-node section--1 section-root"><g transform="translate(95.66015625, 30.449999237060545)"><circle r="95.66015625" class="node-bkg node-circle" id="node-0"></circle></g><g transform="translate(95.66015625, 7.5)" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" dy="1em"><g><rect class="background"></rect><text y="-10.1"><tspan dy="1.1em" y="-0.1em" x="0" class="text-outer-tspan"><tspan font-weight="normal" class="text-inner-tspan" font-style="normal">NotebookLMäº¤æµæ—¥æŠ¥</tspan></tspan><tspan dy="1.1em" y="1em" x="0" class="text-outer-tspan"><tspan font-weight="normal" class="text-inner-tspan" font-style="normal">2025-05-27</tspan></tspan></text></g></g></g><g transform="translate(159.24442788390797, 220.28824943834024)" class="mindmap-node section-0"><g><rect width="222" ry="30" rx="30" height="60" class="node-bkg node-rounded-rect" id="node-1"></rect></g><g transform="translate(136, 15.850000000000001)" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" dy="1em"><g><rect class="background"></rect><text y="-10.1"><tspan dy="1.1em" y="-0.1em" x="0" class="text-outer-tspan"><tspan font-weight="normal" class="text-inner-tspan" font-style="normal">åœ°åŒºé™åˆ¶ä¸è§£å†³</tspan></tspan></text></g></g><foreignObject style="text-align: center;margin-top:0.8500000000000014px;" height="60" width="60px"><div xmlns="http://www.w3.org/1999/xhtml" class="icon-container"><i class="node-icon-0 fas fa-map-marker-alt"></i></div></foreignObject></g><g transform="translate(15, 240.58243146508423)" class="mindmap-node section-0"><g><rect width="90.515625" ry="30" rx="30" height="58.3" class="node-bkg node-rounded-rect" id="node-2"></rect></g><g transform="translate(45.2578125, 15)" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" dy="1em"><g><rect class="background"></rect><text y="-10.1"><tspan dy="1.1em" y="-0.1em" x="0" class="text-outer-tspan"><tspan font-weight="normal" class="text-inner-tspan" font-style="normal">æ¢IP</tspan></tspan></text></g></g></g><g transform="translate(513.901218359662, 127.66858223258055)" class="mindmap-node section-1"><g><rect width="206" ry="30" rx="30" height="60" class="node-bkg node-rounded-rect" id="node-3"></rect></g><g transform="translate(128, 15.850000000000001)" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" dy="1em"><g><rect class="background"></rect><text y="-10.1"><tspan dy="1.1em" y="-0.1em" x="0" class="text-outer-tspan"><tspan font-weight="normal" class="text-inner-tspan" font-style="normal">éŸ³é¢‘å¤„ç†åŠŸèƒ½</tspan></tspan></text></g></g><foreignObject style="text-align: center;margin-top:0.8500000000000014px;" height="60" width="60px"><div xmlns="http://www.w3.org/1999/xhtml" class="icon-container"><i class="node-icon-1 fas fa-microphone-alt"></i></div></foreignObject></g><g transform="translate(319.09457217336956, 89.2449867178691)" class="mindmap-node section-1"><g><rect width="140" ry="30" rx="30" height="58.3" class="node-bkg node-rounded-rect" id="node-4"></rect></g><g transform="translate(70, 15)" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" dy="1em"><g><rect class="background"></rect><text y="-10.1"><tspan dy="1.1em" y="-0.1em" x="0" class="text-outer-tspan"><tspan font-weight="normal" class="text-inner-tspan" font-style="normal">è‹±æ–‡æ•ˆæœå¥½</tspan></tspan></text></g></g></g><g transform="translate(762.6559450770611, 56.30530431580781)" class="mindmap-node section-1"><g><rect width="156" ry="30" rx="30" height="58.3" class="node-bkg node-rounded-rect" id="node-5"></rect></g><g transform="translate(78, 15)" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" dy="1em"><g><rect class="background"></rect><text y="-10.1"><tspan dy="1.1em" y="-0.1em" x="0" class="text-outer-tspan"><tspan font-weight="normal" class="text-inner-tspan" font-style="normal">ä¸­æ–‡åå­—å¥‡æ€ª</tspan></tspan></text></g></g></g><g transform="translate(521.258751960804, 15)" class="mindmap-node section-1"><g><rect width="172" ry="30" rx="30" height="58.3" class="node-bkg node-rounded-rect" id="node-6"></rect></g><g transform="translate(86, 15)" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" dy="1em"><g><rect class="background"></rect><text y="-10.1"><tspan dy="1.1em" y="-0.1em" x="0" class="text-outer-tspan"><tspan font-weight="normal" class="text-inner-tspan" font-style="normal">ç¹ä½“å­—è¾“å‡ºé—®é¢˜</tspan></tspan></text></g></g></g><g transform="translate(740.4448494439577, 207.72492374447495)" class="mindmap-node section-1"><g><rect width="204" ry="30" rx="30" height="75.89999847412109" class="node-bkg node-rounded-rect" id="node-7"></rect></g><g transform="translate(102, 15)" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" dy="1em"><g><rect class="background"></rect><text y="-10.1"><tspan dy="1.1em" y="-0.1em" x="0" class="text-outer-tspan"><tspan font-weight="normal" class="text-inner-tspan" font-style="normal">è§£å†³æ–¹æ³•:</tspan></tspan><tspan dy="1.1em" y="1em" x="0" class="text-outer-tspan"><tspan font-weight="normal" class="text-inner-tspan" font-style="normal">è¾“å‡ºè¯­è¨€æ”¹ç®€ä½“ä¸­æ–‡</tspan></tspan></text></g></g></g><g transform="translate(474.610798600418, 343.9102213836205)" class="mindmap-node section-2"><g><rect width="174" ry="30" rx="30" height="60" class="node-bkg node-rounded-rect" id="node-8"></rect></g><g transform="translate(112, 15.850000000000001)" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" dy="1em"><g><rect class="background"></rect><text y="-10.1"><tspan dy="1.1em" y="-0.1em" x="0" class="text-outer-tspan"><tspan font-weight="normal" class="text-inner-tspan" font-style="normal">èµ„æºåˆ†äº«</tspan></tspan></text></g></g><foreignObject style="text-align: center;margin-top:0.8500000000000014px;" height="60" width="60px"><div xmlns="http://www.w3.org/1999/xhtml" class="icon-container"><i class="node-icon-2 fas fa-headphones"></i></div></foreignObject></g><g transform="translate(702.6479306531288, 383.260154936391)" class="mindmap-node section-2"><g><rect width="207.8515625" ry="30" rx="30" height="58.3" class="node-bkg node-rounded-rect" id="node-9"></rect></g><g transform="translate(103.92578125, 15)" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" dy="1em"><g><rect class="background"></rect><text y="-10.1"><tspan dy="1.1em" y="-0.1em" x="0" class="text-outer-tspan"><tspan font-weight="normal" class="text-inner-tspan" font-style="normal">ä¸­å›½å²éŸ³é¢‘</tspan><tspan font-weight="normal" class="text-inner-tspan" font-style="normal"> (92åˆ†é’Ÿ)</tspan></tspan></text></g></g></g><g transform="translate(487.80170474968156, 457.6085250615645)" class="mindmap-node section-2"><g><rect width="124" ry="30" rx="30" height="58.3" class="node-bkg node-rounded-rect" id="node-10"></rect></g><g transform="translate(62, 15)" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" dy="1em"><g><rect class="background"></rect><text y="-10.1"><tspan dy="1.1em" y="-0.1em" x="0" class="text-outer-tspan"><tspan font-weight="normal" class="text-inner-tspan" font-style="normal">å­¦ä¹ ç´ æ</tspan></tspan></text></g></g></g><g transform="translate(199.3764334076218, 378.4602886821665)" class="mindmap-node section-2"><g><rect width="221.3203125" ry="30" rx="30" height="58.3" class="node-bkg node-rounded-rect" id="node-11"></rect></g><g transform="translate(110.66015625, 15)" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" dy="1em"><g><rect class="background"></rect><text y="-10.1"><tspan dy="1.1em" y="-0.1em" x="0" class="text-outer-tspan"><tspan font-weight="normal" class="text-inner-tspan" font-style="normal">NotebookLMæµ‹è¯•ç´ æ</tspan></tspan></text></g></g></g></g></svg></div>
                    <div id="mermaid-main-feedback-message"></div>
                    <i class="fas fa-project-diagram card-icon"></i>
                </div>
            </div>
            <div class="card quote-card">
                <h2 contenteditable="false"><i class="fas fa-quote-left"></i> ç²¾å½©å¼•ç”¨</h2>
                <div class="quote">
                    "æ¢ipå°±å¥½äº†ï¼Œè¿™ä¹ˆç®€å•çš„äº‹"
                    <div class="quote-author">- @é¾™è² | AIå…¨åŸŸè¥é”€å¢é•¿è‡ªåŠ¨åŒ–</div>
                </div>
                <div class="quote">
                    "really nice"
                    <div class="quote-author">- @å®‰å¾·é²</div>
                </div>
                <div class="quote">
                    "ä¸­æ–‡éŸ³å£°ä¸è¡Œï¼Œè‹±æ–‡ç›¸å½“å¥½"
                    <div class="quote-author">- @å‘é˜³ä¹”æœ¨</div>
                </div>
                 <div class="quote">
                    "ä¸­æ–‡æœ‰äº›åå­—å¾ˆå¥‡æ€ª"
                    <div class="quote-author">- @å®‰å¾·é²</div>
                </div>
                 <div class="quote">
                    "92åˆ†é’Ÿçš„ä¸­å›½å²ï¼Œæ¬¢è¿å¤§å®¶æ”¶å¬ã€‚"
                    <div class="quote-author">- @CoCoğŸ¤æ¤°å­</div>
                </div>
                <i class="fas fa-comment-dots card-icon"></i> 
            </div>

            <div class="card links-card">
                <h2 contenteditable="false"><i class="fas fa-link"></i> é‡è¦é“¾æ¥ä¸èµ„æº</h2>
                <div class="link-item">
                    <a href="https://xima.tv/1_VZcw0N?_sonic=0" target="_blank">
                        <i class="fas fa-external-link-alt link-icon"></i> 
                        <span class="link-title is-link">ä¸­å›½å²éŸ³é¢‘èµ„æº (92åˆ†é’Ÿ - å¥½çœ‹åˆ°ç¡ä¸ç€çš„ä¸­å›½å²)</span>
                    </a>
                </div>
                <i class="fas fa-share-alt card-icon"></i> 
            </div>

            <div class="card stats-card">
                <h2 contenteditable="false"><i class="fas fa-chart-line"></i> æ´»è·ƒä¹‹æ˜Ÿ</h2>
                <table class="user-stats-table">
                    <thead>
                        <tr>
                            <th class="user-name-col">ç”¨æˆ·</th>
                            <th class="message-count-col">å‘è¨€æ•°</th>
                            <th class="contribution-col">ä¸»è¦è´¡çŒ®</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td data-label="ç”¨æˆ·" class="user-name-col">@å®‰å¾·é²</td>
                            <td data-label="å‘è¨€æ•°" class="message-count-col">3</td>
                            <td data-label="ä¸»è¦è´¡çŒ®" class="contribution-col">åˆ†äº«äº†NotebookLMéŸ³é¢‘å¤„ç†æ•ˆæœå¹¶å‚ä¸è®¨è®º</td>
                        </tr>
                        <tr>
                            <td data-label="ç”¨æˆ·" class="user-name-col">@å‘é˜³ä¹”æœ¨</td>
                            <td data-label="å‘è¨€æ•°" class="message-count-col">2</td>
                            <td data-label="ä¸»è¦è´¡çŒ®" class="contribution-col">ç‚¹è¯„äº†NotebookLMçš„éŸ³é¢‘å¤„ç†èƒ½åŠ›</td>
                        </tr>
                        <tr>
                            <td data-label="ç”¨æˆ·" class="user-name-col">@å‡Œæ«</td>
                            <td data-label="å‘è¨€æ•°" class="message-count-col">3</td>
                            <td data-label="ä¸»è¦è´¡çŒ®" class="contribution-col">æå‡ºå¹¶è®¨è®ºäº†NotebookLMéŸ³é¢‘è¾“å‡ºç¹ä½“å­—çš„é—®é¢˜</td>
                        </tr>
                        <tr>
                            <td data-label="ç”¨æˆ·" class="user-name-col">@CoCoğŸ¤æ¤°å­</td>
                            <td data-label="å‘è¨€æ•°" class="message-count-col">2</td>
                            <td data-label="ä¸»è¦è´¡çŒ®" class="contribution-col">åˆ†äº«äº†ä¼˜è´¨éŸ³é¢‘å­¦ä¹ èµ„æº</td>
                        </tr>
                        <tr>
                            <td data-label="ç”¨æˆ·" class="user-name-col">@é¾™è²</td>
                            <td data-label="å‘è¨€æ•°" class="message-count-col">2</td>
                            <td data-label="ä¸»è¦è´¡çŒ®" class="contribution-col">æä¾›äº†NotebookLMåœ°åŒºé™åˆ¶çš„è§£å†³æ–¹æ¡ˆ</td>
                        </tr>
                    </tbody>
                </table>
                <i class="fas fa-user-friends card-icon"></i> 
            </div>

            <div class="card wordcloud-card">
                <h2 contenteditable="false"><i class="fas fa-cloud"></i> è¯äº‘</h2>
                <div class="wordcloud">
                    <span class="wordcloud-item size-5">NotebookLM</span>
                    <span class="wordcloud-item size-5">éŸ³é¢‘</span>
                    <span class="wordcloud-item size-4">ä¸­æ–‡</span>
                    <span class="wordcloud-item size-4">è‹±æ–‡</span>
                    <span class="wordcloud-item size-3">ç¹ä½“å­—</span>
                    <span class="wordcloud-item size-3">åœ°åŒºé™åˆ¶</span>
                    <span class="wordcloud-item size-3">IP</span>
                    <span class="wordcloud-item size-2">ä¸­å›½å²</span>
                    <span class="wordcloud-item size-2">è¾“å‡ºè¯­è¨€</span>
                    <span class="wordcloud-item size-2">ç®€ä½“ä¸­æ–‡</span>
                    <span class="wordcloud-item size-1">åå­—</span>
                    <span class="wordcloud-item size-1">æ•ˆæœ</span>
                    <span class="wordcloud-item size-1">è§£å†³æ–¹æ¡ˆ</span>
                    <span class="wordcloud-item size-1">èµ„æºåˆ†äº«</span>
                    <span class="wordcloud-item size-1">éŸ³å£°</span>
                </div>
                <i class="fas fa-tags card-icon"></i> 
            </div>
        </div> 
        
        <div class="footer">
            <p>æ•°æ®æ¥æºï¼šNotebookLMä½¿ç”¨äº¤æµç¾¤èŠè®°å½• | ç”Ÿæˆæ—¥æœŸï¼š2025-05-27 | ç»Ÿè®¡å‘¨æœŸï¼š2025-05-27 å…¨å¤©</p>
            <p>æœ¬æŠ¥å‘Šç”±AIè¾…åŠ©ç”Ÿæˆï¼Œä»…ä¾›å‚è€ƒï¼Œä¸ä»£è¡¨æ‰€æœ‰ç¾¤æˆå‘˜è§‚ç‚¹ã€‚</p>
        </div>
    </div> 

    <div class="action-buttons-container" style="display: block; flex-wrap: nowrap;">
        <button id="viewPreviousReportBtn" class="action-button"><i class="fas fa-calendar-alt"></i> æŸ¥çœ‹æ˜¨æ—¥æ—¥æŠ¥</button>
        <button id="screenshotToClipboardBtn" class="action-button"><i class="fas fa-clipboard"></i> æ‹·è´æˆªå›¾</button>
        <button id="screenshotDownloadBtn" class="action-button"><i class="fas fa-camera"></i> ä¸‹è½½æˆªå›¾</button>
        <button id="copyHtmlBtn" class="action-button"><i class="fas fa-copy"></i> æ‹·è´æºç </button>
        <button id="downloadHtmlBtn" class="action-button"><i class="fas fa-download"></i> ä¸‹è½½æŠ¥å‘Š</button>
    </div>
    <div id="feedback-message"></div> <div id="fullscreenModal" class="modal-overlay">
        <div class="modal-content card"> <button id="fullscreenCloseBtn" class="modal-close-btn" aria-label="å…³é—­å…¨å±">Ã—</button>
            <h2><i class="fas fa-sitemap"></i> æ ¸å¿ƒæ¦‚å¿µå…³ç³»å›¾ (å…¨å±)</h2>
            <div class="mindmap-controls">
                <button id="modalZoomInBtn"><i class="fas fa-search-plus"></i> æ”¾å¤§</button>
                <button id="modalZoomOutBtn"><i class="fas fa-search-minus"></i> ç¼©å°</button>
                <button id="modalDownloadDiagramBtn"><i class="fas fa-download"></i> ä¸‹è½½å¯¼å›¾</button>
            </div>
            <div class="mermaid-container" id="modalMermaidContainer">
                </div>
            <div id="mermaid-modal-feedback-message"></div>
        </div>
    </div>
    <script>
    // --- Mermaid Diagram JavaScript START ---
    // --- Global Variables for Mermaid ---
    let mainCurrentScale = 1;
    let modalCurrentScale = 1;
    let currentMindmapDefinition = ''; // Store the current definition

    // --- DOM Elements for Mermaid ---
    const mainZoomInBtn = document.getElementById('zoomInBtn');
    const mainZoomOutBtn = document.getElementById('zoomOutBtn');
    const mainDownloadDiagramBtn = document.getElementById('downloadDiagramBtn'); // Renamed from downloadBtn
    const mainMermaidContainer = document.getElementById('mainMermaidContainer');
    const mermaidMainFeedbackMessage = document.getElementById('mermaid-main-feedback-message'); // Renamed
    const mainMindmapDiagramDiv = document.getElementById('mindmapDiagram'); 

    const fullscreenOpenBtn = document.getElementById('fullscreenOpenBtn');
    const fullscreenModal = document.getElementById('fullscreenModal');
    const fullscreenCloseBtn = document.getElementById('fullscreenCloseBtn');
    const modalMermaidContainer = document.getElementById('modalMermaidContainer');
    const modalZoomInBtn = document.getElementById('modalZoomInBtn');
    const modalZoomOutBtn = document.getElementById('modalZoomOutBtn');
    const modalDownloadDiagramBtn = document.getElementById('modalDownloadDiagramBtn'); // Renamed
    const mermaidModalFeedbackMessage = document.getElementById('mermaid-modal-feedback-message'); // Renamed

    // --- Mermaid Initialization ---
    if (typeof mermaid !== 'undefined') {
        mermaid.initialize({
            startOnLoad: false, // Will render manually after content is set
            theme: 'base', // Options: 'default', 'forest', 'dark', 'neutral', 'base'
            fontFamily: '"Inter", sans-serif',
            mindmap: { padding: 15 }
            // For other diagram types, you might add specific configs here
            // e.g., sequence: { actorMargin: 50 }
        });
    } else {
        console.error("Mermaid library not loaded.");
        if(mermaidMainFeedbackMessage) mermaidMainFeedbackMessage.textContent = "é”™è¯¯ï¼šMermaidåº“æœªèƒ½åŠ è½½ã€‚";
    }
    

    // --- Helper Functions for Mermaid ---
    function showMermaidFeedback(element, message, type = 'info', duration = 3000) {
        if (element) {
            element.textContent = message;
            element.className = type; // success, error, info
            element.style.display = 'block';
            setTimeout(() => {
                element.textContent = '';
                element.className = '';
                element.style.display = 'none';
            }, duration);
        }
    }

    function applySvgScale(svgElement, scale) {
        if (svgElement) {
            svgElement.style.transform = `scale(${scale})`;
            svgElement.style.transformOrigin = 'center center'; // Ensure scaling is from center
        }
    }

    function makeDraggable(containerElement) {
        let isDragging = false;
        let startX, startY, scrollLeftStart, scrollTopStart;

        if (!containerElement) return;

        containerElement.addEventListener('mousedown', (e) => {
            if (e.button !== 0) return; // Only main mouse button
            // Prevent dragging if clicking on interactive elements within the SVG or buttons
            if (e.target.closest('button') || e.target.closest('a') || e.target.closest('[onclick]')) return;
            
            // Check if clicking on scrollbars (simple check, might need refinement)
             if (e.target === containerElement) { // Only drag if mousedown is on container itself, not SVG content
                const verticalScrollbarVisible = containerElement.scrollHeight > containerElement.clientHeight;
                const horizontalScrollbarVisible = containerElement.scrollWidth > containerElement.clientWidth;
                const clickedOnVerticalScrollbar = verticalScrollbarVisible && e.offsetX >= containerElement.clientWidth - 17; // Approx scrollbar width
                const clickedOnHorizontalScrollbar = horizontalScrollbarVisible && e.offsetY >= containerElement.clientHeight - 17;
                if (clickedOnVerticalScrollbar || clickedOnHorizontalScrollbar) return;
            }


            isDragging = true;
            startX = e.pageX; startY = e.pageY;
            scrollLeftStart = containerElement.scrollLeft; scrollTopStart = containerElement.scrollTop;
            containerElement.classList.add('dragging');
            // e.preventDefault(); // Be careful with preventDefault on container, might affect text selection inside SVG if not handled well
        });

        document.addEventListener('mousemove', (e) => {
            if (!isDragging) return;
            e.preventDefault(); // Prevent text selection during drag
            const deltaX = e.pageX - startX; const deltaY = e.pageY - startY;
            containerElement.scrollLeft = scrollLeftStart - deltaX;
            containerElement.scrollTop = scrollTopStart - deltaY;
        });

        document.addEventListener('mouseup', (e) => {
            if (e.button !== 0 || !isDragging) return;
            isDragging = false;
            containerElement.classList.remove('dragging');
        });
         // Touch events for dragging on mobile
        containerElement.addEventListener('touchstart', (e) => {
            if (e.target.closest('button') || e.target.closest('a') || e.target.closest('[onclick]')) return;
            if (e.touches.length === 1) {
                isDragging = true;
                const touch = e.touches[0];
                startX = touch.pageX;
                startY = touch.pageY;
                scrollLeftStart = containerElement.scrollLeft;
                scrollTopStart = containerElement.scrollTop;
                containerElement.classList.add('dragging');
            }
        }, { passive: true }); // Use passive true if not calling preventDefault

        document.addEventListener('touchmove', (e) => {
            if (!isDragging || e.touches.length !== 1) return;
            // e.preventDefault(); // To prevent page scroll if dragging content
            const touch = e.touches[0];
            const deltaX = touch.pageX - startX;
            const deltaY = touch.pageY - startY;
            containerElement.scrollLeft = scrollLeftStart - deltaX;
            containerElement.scrollTop = scrollTopStart - deltaY;
        }/*, { passive: false }*/); // Set passive: false if e.preventDefault() is used

        document.addEventListener('touchend', (e) => {
            if (!isDragging) return;
            isDragging = false;
            containerElement.classList.remove('dragging');
        });
    }
    
    async function downloadMermaidAsSVG(svgElement, baseFilename, feedbackElem) {
        if (svgElement && svgElement.innerHTML.trim() !== "") {
            try {
                // Apply current scale to the SVG for download if desired, or download at 100%
                // For simplicity, we download the SVG as it is currently rendered (potentially scaled in view, but SVG itself is 100%)
                const svgData = new XMLSerializer().serializeToString(svgElement);
                const blob = new Blob([svgData], { type: 'image/svg+xml;charset=utf-8' });
                const url = URL.createObjectURL(blob);
                const link = document.createElement('a');
                link.href = url;
                link.download = `${baseFilename}.svg`;
                document.body.appendChild(link);
                link.click();
                document.body.removeChild(link);
                URL.revokeObjectURL(url);
                showMermaidFeedback(feedbackElem, `${baseFilename}.svg å·²ä¸‹è½½!`, 'success');
            } catch (error) {
                console.error(`Error during SVG download for ${baseFilename}:`, error);
                showMermaidFeedback(feedbackElem, `ä¸‹è½½ ${baseFilename}.svg å¤±è´¥: ${error.message}`, 'error');
            }
        } else {
            showMermaidFeedback(feedbackElem, 'æ— æ³•ä¸‹è½½ï¼šå›¾è¡¨å†…å®¹ä¸ºç©ºã€‚', 'error');
        }
    }

    async function renderDiagram(definition, targetContainer, scaleVariableRef, feedbackElem, uniqueSvgId) {
        if (!targetContainer) {
            console.error("Target container for Mermaid diagram not found.");
            return null;
        }
        targetContainer.innerHTML = '<p style="text-align:center; padding:20px;">å›¾è¡¨åŠ è½½ä¸­...</p>';
        targetContainer.classList.remove('empty');

        if (!definition || definition.trim() === "" || definition.trim().toLowerCase() === "mindmap") {
            targetContainer.innerHTML = ''; 
            targetContainer.classList.add('empty'); 
            return null;
        }
        
        currentMindmapDefinition = definition; // Store the definition for fullscreen toggle

        try {
            if (typeof mermaid === 'undefined') throw new Error("Mermaid library is not available.");
            const {svg, bindFunctions} = await mermaid.render(uniqueSvgId, definition);
            targetContainer.innerHTML = svg;
            if (bindFunctions) bindFunctions(targetContainer);

            const svgElement = targetContainer.querySelector('svg');
            if (svgElement) {
                // Reset scale to 1 initially for the new render
                if (targetContainer === mainMermaidContainer) mainCurrentScale = 1;
                else if (targetContainer === modalMermaidContainer) modalCurrentScale = 1;
                
                applySvgScale(svgElement, scaleVariableRef.value); // Apply current scale (which should be 1 after reset)
                makeDraggable(targetContainer); // Make the container draggable
                return svgElement;
            } else {
                targetContainer.innerHTML = '';
                targetContainer.classList.add('empty');
                showMermaidFeedback(feedbackElem, 'å›¾è¡¨ç”Ÿæˆäº†ï¼Œä½†æœªæ‰¾åˆ°SVGå†…å®¹ã€‚', 'error');
                return null;
            }
        } catch (error) {
            console.error("Error rendering Mermaid:", error);
            targetContainer.innerHTML = `<p style="color:red; text-align:center; padding:20px;">æ¸²æŸ“å›¾è¡¨æ—¶å‡ºé”™: ${error.message}</p>`;
            showMermaidFeedback(feedbackElem, `æ¸²æŸ“å›¾è¡¨æ—¶å‡ºé”™: ${error.message}`, 'error', 5000);
            return null;
        }
    }

    // --- Main Mindmap Logic ---
    if(mainZoomInBtn) mainZoomInBtn.addEventListener('click', () => {
        mainCurrentScale += 0.1;
        const svg = mainMermaidContainer.querySelector('svg');
        applySvgScale(svg, mainCurrentScale);
    });

    if(mainZoomOutBtn) mainZoomOutBtn.addEventListener('click', () => {
        if (mainCurrentScale > 0.2) { // Prevent scaling too small
            mainCurrentScale -= 0.1;
            const svg = mainMermaidContainer.querySelector('svg');
            applySvgScale(svg, mainCurrentScale);
        }
    });

    if(mainDownloadDiagramBtn) mainDownloadDiagramBtn.addEventListener('click', () => {
        const svg = mainMermaidContainer.querySelector('svg');
        downloadMermaidAsSVG(svg, 'æ ¸å¿ƒæ¦‚å¿µå…³ç³»å›¾', mermaidMainFeedbackMessage);
    });

    // --- Fullscreen Modal Logic for Mermaid ---
    if(fullscreenOpenBtn) fullscreenOpenBtn.addEventListener('click', async () => {
        if (!currentMindmapDefinition || currentMindmapDefinition.trim() === "" || currentMindmapDefinition.trim().toLowerCase() === "mindmap") {
             showMermaidFeedback(mermaidMainFeedbackMessage, 'è¯·å…ˆç”Ÿæˆä¸€ä¸ªæœ‰æ•ˆçš„å¯¼å›¾æ‰èƒ½å…¨å±æŸ¥çœ‹ã€‚', 'info');
             return;
        }
        if(fullscreenModal) fullscreenModal.classList.add('active');
        document.body.classList.add('modal-active');
        modalCurrentScale = mainCurrentScale; // Sync scale from main view or reset
        await renderDiagram(currentMindmapDefinition, modalMermaidContainer, {value: modalCurrentScale}, mermaidModalFeedbackMessage, 'modalGeneratedSvgId');
    });

    if(fullscreenCloseBtn) fullscreenCloseBtn.addEventListener('click', () => {
        if(fullscreenModal) fullscreenModal.classList.remove('active');
        document.body.classList.remove('modal-active');
        if(modalMermaidContainer) {
            modalMermaidContainer.innerHTML = ''; 
            modalMermaidContainer.classList.add('empty');
        }
    });

    if(modalZoomInBtn) modalZoomInBtn.addEventListener('click', () => {
        modalCurrentScale += 0.1;
        const svg = modalMermaidContainer.querySelector('svg');
        applySvgScale(svg, modalCurrentScale);
    });

    if(modalZoomOutBtn) modalZoomOutBtn.addEventListener('click', () => {
        if (modalCurrentScale > 0.2) {
            modalCurrentScale -= 0.1;
            const svg = modalMermaidContainer.querySelector('svg');
            applySvgScale(svg, modalCurrentScale);
        }
    });

    if(modalDownloadDiagramBtn) modalDownloadDiagramBtn.addEventListener('click', () => {
        const svg = modalMermaidContainer.querySelector('svg');
        downloadMermaidAsSVG(svg, 'æ ¸å¿ƒæ¦‚å¿µå…³ç³»å›¾-å…¨å±', mermaidModalFeedbackMessage);
    });

    // --- Initial Setup for Mermaid ---
    async function initializeMainDiagram() {
        if (mainMindmapDiagramDiv && mainMermaidContainer) {
            const initialDefinition = mainMindmapDiagramDiv.textContent.trim();
            if (initialDefinition) {
                await renderDiagram(initialDefinition, mainMermaidContainer, { value: mainCurrentScale }, mermaidMainFeedbackMessage, 'initialMainDiagramSvg');
            } else {
                mainMermaidContainer.classList.add('empty'); // Ensure it's marked empty if no initial content
            }
        } else {
             if(mermaidMainFeedbackMessage && !mainMermaidContainer) showMermaidFeedback(mermaidMainFeedbackMessage, 'é”™è¯¯ï¼šå¯¼å›¾å®¹å™¨æœªæ‰¾åˆ°ã€‚', 'error');
        }
    }
    // --- Mermaid Diagram JavaScript END ---


    // --- Report Page JavaScript START ---
    // Helper function: Get CSS variable value
    function getCssVariable(variableName, defaultValue = null) {
        const value = getComputedStyle(document.documentElement).getPropertyValue(variableName).trim();
        return value || defaultValue;
    }

    function getWebpageNameForFilename() {
        const pageTitleTag = document.querySelector('title');
        let baseName = 'AIäº§å“æ—¥æŠ¥'; 
        if (pageTitleTag && pageTitleTag.textContent) {
            const fullTitle = pageTitleTag.textContent.trim();
            const titleParts = fullTitle.split(' - '); 
            if (titleParts.length > 0 && titleParts[0].trim() !== "" && titleParts[0].trim() !== "[åœ¨æ­¤å¤„å¡«å†™æŠ¥å‘Šæ ‡é¢˜]") {
                baseName = titleParts[0].trim(); 
            }
        }
        return baseName;
    }

    function getDateStringForFilename() {
        const reportDateElement = document.querySelector('.main-card .date');
        let dateStr = "æœªæŒ‡å®šæ—¥æœŸ"; 
        if (reportDateElement && reportDateElement.textContent) {
            const dateContent = reportDateElement.textContent.trim();
            if (dateContent && dateContent !== "[æ—¥æœŸ - ä¾‹å¦‚ï¼š2025å¹´5æœˆ19æ—¥]") { 
                dateStr = dateContent;
            }
        }
        return dateStr;
    }
    
    function sanitizeFilename(filename) {
        return filename.replace(/[^a-z0-9\u4e00-\u9fa5_\-\.\(\)\[\]]/gi, '_').replace(/_+/g, '_');
    }

    const previousReportUrl = "https://www.32kw.com/view/06d911a"; 

    function showReportFeedbackMessage(message, type = 'info', duration = 3000) { // Renamed to avoid conflict
        const feedbackElement = document.getElementById('feedback-message'); // This is the report's general feedback
        if (feedbackElement) {
            feedbackElement.textContent = message;
            feedbackElement.className = type; 
            setTimeout(() => {
                feedbackElement.textContent = '';
                feedbackElement.className = '';
            }, duration);
        }
    }
    
    async function captureScreenshot(elementToCapture) {
        await document.fonts.ready; 
        return html2canvas(elementToCapture, { 
            useCORS: true, 
            scale: window.devicePixelRatio || 1, 
            logging: false, 
            backgroundColor: getCssVariable('--bg-primary', '#f5f4ee'), 
            scrollX: -window.scrollX, 
            scrollY: -window.scrollY,
            windowWidth: document.documentElement.scrollWidth,
            windowHeight: document.documentElement.scrollHeight,
            onclone: function(clonedDoc) {
                const highlightElements = clonedDoc.querySelectorAll('.highlight-keyword');
                highlightElements.forEach(el => {
                    el.style.display = 'inline';
                    el.style.padding = '1px 2px';
                    el.style.lineHeight = '1.2';
                    el.style.boxDecorationBreak = 'clone';
                    el.style.webkitBoxDecorationBreak = 'clone';
                });
            }
        });
    }

    const screenshotToClipboardBtn = document.getElementById('screenshotToClipboardBtn');
    if(screenshotToClipboardBtn) screenshotToClipboardBtn.addEventListener('click', async function() {
        const reportContent = document.getElementById('report-content-wrapper');
        if (!reportContent) {
            showReportFeedbackMessage('æˆªå›¾é”™è¯¯: æœªæ‰¾åˆ°æŠ¥å‘Šå†…å®¹ã€‚', 'error');
            return;
        }
        const actionButtons = document.querySelector('.action-buttons-container');
        const feedbackMsgElement = document.getElementById('feedback-message');
        const originalButtonText = this.innerHTML;
        this.innerHTML = '<i class="fas fa-spinner fa-spin"></i> å¤„ç†ä¸­...';
        this.disabled = true;
        if(actionButtons) actionButtons.style.visibility = 'hidden'; 
        if(feedbackMsgElement) feedbackMsgElement.style.visibility = 'hidden';

        try {
            const canvas = await captureScreenshot(reportContent);
            canvas.toBlob(async function(blob) {
                if (blob) {
                    try {
                        if (navigator.clipboard && navigator.clipboard.write) {
                            await navigator.clipboard.write([
                                new ClipboardItem({ 'image/png': blob })
                            ]);
                            showReportFeedbackMessage('æˆªå›¾å·²æ‹·è´åˆ°å‰ªè´´æ¿!', 'success');
                        } else {
                            showReportFeedbackMessage('æˆªå›¾å·²ç”Ÿæˆï¼Œä½†æ‚¨çš„æµè§ˆå™¨ä¸æ”¯æŒç›´æ¥æ‹·è´å›¾ç‰‡ã€‚è¯·å°è¯•ä¸‹è½½æˆªå›¾ã€‚', 'error', 5000);
                        }
                    } catch (copyError) {
                        console.error('æ‹·è´åˆ°å‰ªè´´æ¿å¤±è´¥:', copyError);
                        showReportFeedbackMessage('æ‹·è´æˆªå›¾åˆ°å‰ªè´´æ¿å¤±è´¥: ' + copyError.message, 'error', 5000);
                    }
                } else {
                    throw new Error('æ— æ³•å°†Canvasè½¬æ¢ä¸ºBlobã€‚');
                }
            }, 'image/png');
        } catch (error) {
            console.error('æˆªå›¾æ•è·å¤±è´¥:', error);
            showReportFeedbackMessage('æˆªå›¾æ•è·å¤±è´¥: ' + error.message, 'error');
        } finally {
            if(actionButtons) actionButtons.style.visibility = 'visible'; 
            if(feedbackMsgElement) feedbackMsgElement.style.visibility = 'visible'; 
            this.innerHTML = originalButtonText;
            this.disabled = false;
        }
    });

    const screenshotDownloadBtn = document.getElementById('screenshotDownloadBtn');
    if(screenshotDownloadBtn) screenshotDownloadBtn.addEventListener('click', async function() {
        const reportContent = document.getElementById('report-content-wrapper');
        if (!reportContent) {
            showReportFeedbackMessage('æˆªå›¾é”™è¯¯: æœªæ‰¾åˆ°æŠ¥å‘Šå†…å®¹ã€‚', 'error');
            return;
        }
        const actionButtons = document.querySelector('.action-buttons-container');
        const feedbackMsgElement = document.getElementById('feedback-message');
        const originalButtonText = this.innerHTML;
        this.innerHTML = '<i class="fas fa-spinner fa-spin"></i> ç”Ÿæˆä¸­...';
        this.disabled = true;
        if(actionButtons) actionButtons.style.visibility = 'hidden';
        if(feedbackMsgElement) feedbackMsgElement.style.visibility = 'hidden';

        try {
            const canvas = await captureScreenshot(reportContent);
            const image = canvas.toDataURL('image/png');
            const link = document.createElement('a');
            
            const webpageName = getWebpageNameForFilename();
            const dateString = getDateStringForFilename();
            let filename = sanitizeFilename(webpageName + '-' + dateString) + '.png';

            link.href = image;
            link.download = filename;
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
            showReportFeedbackMessage('æˆªå›¾å·²ä¸‹è½½!', 'success');
        } catch (error) {
            console.error('ä¸‹è½½æˆªå›¾å¤±è´¥:', error);
            showReportFeedbackMessage('ä¸‹è½½æˆªå›¾å¤±è´¥: ' + error.message, 'error');
        } finally {
            if(actionButtons) actionButtons.style.visibility = 'visible';
            if(feedbackMsgElement) feedbackMsgElement.style.visibility = 'visible';
            this.innerHTML = originalButtonText;
            this.disabled = false;
        }
    });
    
    const downloadHtmlBtn = document.getElementById('downloadHtmlBtn');
    if(downloadHtmlBtn) downloadHtmlBtn.addEventListener('click', function() {
        try {
            const htmlContent = document.documentElement.outerHTML;
            const blob = new Blob([htmlContent], { type: 'text/html;charset=utf-8' });
            const link = document.createElement('a');
            
            const webpageName = getWebpageNameForFilename();
            const dateString = getDateStringForFilename();
            let filename = sanitizeFilename(webpageName + '-' + dateString) + '.html';
            
            link.href = URL.createObjectURL(blob);
            link.download = filename;
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
            URL.revokeObjectURL(link.href); 
            showReportFeedbackMessage('HTMLæŠ¥å‘Šå·²ä¸‹è½½!', 'success');
        } catch (error) {
            console.error('ä¸‹è½½HTMLå¤±è´¥:', error);
            showReportFeedbackMessage('ä¸‹è½½HTMLå¤±è´¥: ' + error.message, 'error');
        }
    });

    const copyHtmlBtn = document.getElementById('copyHtmlBtn');
    if(copyHtmlBtn) copyHtmlBtn.addEventListener('click', function() {
        const htmlContent = document.documentElement.outerHTML;
        const Gthis = this; 
        const originalButtonHTML = Gthis.innerHTML; 
        const textarea = document.createElement('textarea');
        textarea.value = htmlContent;
        textarea.style.position = 'fixed'; 
        textarea.style.top = '-9999px'; 
        textarea.style.left = '-9999px';
        document.body.appendChild(textarea);
        try {
            textarea.select();
            textarea.setSelectionRange(0, textarea.value.length); 
            if (document.execCommand('copy')) {
                Gthis.innerHTML = '<i class="fas fa-check"></i> å·²æ‹·è´!';
                showReportFeedbackMessage('HTMLå·²æ‹·è´åˆ°å‰ªè´´æ¿!', 'success', 2000);
            } else {
                Gthis.innerHTML = '<i class="fas fa-times"></i> æ‹·è´å¤±è´¥';
                showReportFeedbackMessage('æ‹·è´å¤±è´¥ã€‚æ‚¨çš„æµè§ˆå™¨å¯èƒ½ä¸æ”¯æŒæ­¤æ“ä½œã€‚', 'error', 2000);
            }
        } catch (err) {
            Gthis.innerHTML = '<i class="fas fa-times"></i> æ‹·è´å‡ºé”™';
            showReportFeedbackMessage('æ‹·è´å‡ºé”™: ' + err.message, 'error', 2000);
            console.error('æ‹·è´HTMLæºç å‡ºé”™:', err);
        } finally {
            setTimeout(function() { 
                Gthis.innerHTML = originalButtonHTML; 
            }, 2000);
            document.body.removeChild(textarea);
        }
    });

    const viewPreviousReportBtn = document.getElementById('viewPreviousReportBtn');
    if(viewPreviousReportBtn) viewPreviousReportBtn.addEventListener('click', function() {
        const urlToOpen = previousReportUrl.trim();
        const placeholderUrlText = "åœ¨æ­¤å¤„å¡«å†™æ˜¨æ—¥æ—¥æŠ¥çš„URL"; 
        if (urlToOpen && urlToOpen !== placeholderUrlText && (urlToOpen.startsWith('http://') || urlToOpen.startsWith('https://') || !urlToOpen.includes('://'))) {
            let finalUrl = urlToOpen;
            // Basic check if it's a relative path, might need more robust logic depending on deployment
            // if (!urlToOpen.startsWith('http://') && !urlToOpen.startsWith('https://')) {
            // finalUrl = window.location.origin + (urlToOpen.startsWith('/') ? '' : '/') + urlToOpen;
            // }
            const newWindow = window.open(finalUrl, '_blank'); 
            if (!newWindow || newWindow.closed || typeof newWindow.closed == 'undefined') {
                showReportFeedbackMessage('æ— æ³•æ‰“å¼€æ–°çª—å£ã€‚è¯·æ£€æŸ¥æ‚¨çš„å¼¹å‡ºçª—å£æ‹¦æˆªè®¾ç½®ã€‚', 'error', 5000);
            }
        } else {
            showReportFeedbackMessage('æ˜¨æ—¥æ—¥æŠ¥çš„URLæœªé…ç½®æˆ–æ— æ•ˆã€‚è¯·æ£€æŸ¥è„šæœ¬ä¸­çš„ previousReportUrl å˜é‡ï¼Œå¹¶ç¡®ä¿å®ƒæ˜¯ä¸€ä¸ªæœ‰æ•ˆçš„ç½‘å€æˆ–ç›¸å¯¹è·¯å¾„ã€‚', 'error', 5000);
        }
    });

    function adjustActionButtonsLayout() {
        const actionButtonsContainer = document.querySelector('.action-buttons-container');
        if (actionButtonsContainer) {
            if (window.innerWidth <= 768) { 
                actionButtonsContainer.style.display = 'flex';
                actionButtonsContainer.style.flexWrap = 'wrap';
                actionButtonsContainer.style.justifyContent = 'center';
            } else { 
                actionButtonsContainer.style.display = 'block'; 
                actionButtonsContainer.style.flexWrap = 'nowrap'; 
            }
        }
    }
    
    // --- Event Listeners Call on Load ---
    window.addEventListener('load', () => {
        initializeMainDiagram(); // Initialize Mermaid diagram
        adjustActionButtonsLayout(); // Adjust report buttons layout
    });
    window.addEventListener('resize', adjustActionButtonsLayout); // Adjust on resize as well

    // --- Report Page JavaScript END ---
</script>


</body></html>